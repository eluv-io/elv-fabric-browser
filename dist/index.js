!function(e){function webpackJsonpCallback(t){for(var n,o,i=t[0],s=t[1],l=t[2],u=0,p=[];u<i.length;u++)o=i[u],a[o]&&p.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);p.length;)p.shift()();return r.push.apply(r,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=__webpack_require__(__webpack_require__.s=n[0]))}return e}var t={},a={1:0},r=[];function __webpack_require__(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.e=function requireEnsure(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=n);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.src=function jsonpScriptSrc(e){return __webpack_require__.p+""+({0:"elv-client-js",2:"vendors~elv-client-js"}[e]||e)+".bundle.js"}(e);var c=new Error;o=function(t){i.onerror=i.onload=null,clearTimeout(s);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",c.name="ChunkLoadError",c.type=n,c.request=o,r[1](c)}a[e]=void 0}};var s=setTimeout(function(){o({type:"timeout",target:i})},12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(t)},__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(a,r,function(t){return e[t]}.bind(null,r));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__.oe=function(e){throw console.error(e),e};var n=window.webpackJsonp=window.webpackJsonp||[],o=n.push.bind(n);n.push=webpackJsonpCallback,n=n.slice();for(var i=0;i<n.length;i++)webpackJsonpCallback(n[i]);var c=o;r.push([449,3]),checkDeferredModules()}({115:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>'},116:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><g fill="none" stroke="#626262" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 2v4h8V2h-8zm-1 2H6v26h20V4h-5"></path></g></svg>'},117:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>'},18:function(e,t,a){"use strict";(function(e){a.d(t,"g",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"c",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"a",function(){return h}),a.d(t,"e",function(){return b}),a.d(t,"b",function(){return f});a(1),a(2);var r=a(0),n=a.n(r),o=a(118),i=a.n(o),c=a(146),s=a.n(c),l=a(4),u=function SafeTraverse(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];1===a.length&&Array.isArray(a[0])&&(a=a[0]);for(var n=e,o=0;o<a.length;o++)if(void 0===(n=n[a[o]]))return;return n},p=function FormatAddress(e){return i.a.FormatAddress(e)},d=function EqualAddress(e,t){return p(e)===p(t)},m=function Percentage(e,t){return t>0?"".concat((100*e/t).toFixed(1),"%"):"100.0%"},h=function AccessChargeDisplay(e){return 0===e||"0"===e?"Free":n.a.createElement(l.c,{balance:e})},b=function ParseBytes32(e){try{return f(e)}catch(t){return e.startsWith("0x0000")?new s.a(e).toString():e}},f=function Bytes32ToUtf8(t){for(var a=e.from(t.replace("0x",""),"hex"),r="",n=0;n<a.length;){var o=a[n++];if(o>>7!=0){var i=null,c=null;if(192==(224&o))i=1,c=127;else if(224==(240&o))i=2,c=2047;else{if(240!=(248&o)){if(128==(192&o))throw new Error("invalid utf8 byte sequence; unexpected continuation byte");throw new Error("invalid utf8 byte sequence; invalid prefix")}i=3,c=65535}if(n+i>a.length)throw new Error("invalid utf8 byte sequence; too short");for(var s=o&(1<<8-i-1)-1,l=0;l<i;l++){var u=a[n];if(128!=(192&u)){s=null;break}s=s<<6|63&u,n++}if(null===s)throw new Error("invalid utf8 byte sequence; invalid continuation byte");if(s<=c)throw new Error("invalid utf8 byte sequence; overlong");if(s>1114111)throw new Error("invalid utf8 byte sequence; out-of-range");if(s>=55296&&s<=57343)throw new Error("invalid utf8 byte sequence; utf-16 surrogate");s<=65535?r+=String.fromCharCode(s):(s-=65536,r+=String.fromCharCode(55296+(s>>10&1023),56320+(1023&s)))}else r+=String.fromCharCode(o)}return r}}).call(this,a(85).Buffer)},189:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line></svg>'},190:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'},191:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>'},197:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>'},198:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg>'},199:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>'},200:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'},201:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'},202:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-corner-up-left"><polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path></svg>'},203:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>'},204:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'},205:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'},214:function(e,t,a){var r=a(215);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(32)(r,n);r.locals&&(e.exports=r.locals)},215:function(e,t,a){(e.exports=a(31)(!1)).push([e.i,'*{-webkit-box-sizing:border-box;box-sizing:border-box}html,body{background-color:#fff;color:#222;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;height:100%;margin:0;padding:0}h1{font-size:28px;font-weight:bold;margin:0}h2{font-size:24px;font-weight:bold;margin:0}h3{font-size:20px;font-weight:normal;margin:0}h3.header-with-loader{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}h4{color:#222;font-size:16px;font-weight:normal;margin:.5rem 0 .25rem}a{text-decoration:none}a,a:visited{color:#555}a.link{display:block}a.image-link{display:-webkit-box;display:-ms-flexbox;display:flex}ul{display:-webkit-box;display:-ms-flexbox;display:flex;list-style-type:none;margin:0;padding:0}ul li{display:inline}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url("data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+") no-repeat 98% 50%;border:1px solid #ccc;border-radius:0;cursor:pointer;font-size:16px;height:32px;padding:0 0 0 .25rem;width:250px}input{height:32px}input,textarea,pre{border:1px solid #ddd;padding:0 .25rem}pre{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:0;overflow:auto;padding:.75rem .5rem;white-space:pre-wrap;word-wrap:break-word}.-elv-copyable{cursor:pointer}.app-version{display:none}.hidden{display:none !important}.bold{font-weight:bold}.full-width{width:100%}.clickable{cursor:pointer}.actions-container.manage-actions{margin-bottom:1.5rem}.actions-container .-elv-button{margin-right:.5rem}.actions-container .refresh-button{position:absolute;right:0}.actions-container .refresh-button svg{stroke:#aaa}.actions-container .refresh-button svg:hover{stroke:#555}.help-text{color:#8c8c8c;font-size:12px;margin-left:.25rem}.clipped-text{cursor:pointer;position:relative;width:100%}.clipped-text.hide{overflow:hidden}.clipped-text.show{max-height:100% !important}.clipped-text .text{background-color:transparent;border:0;font-family:inherit;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.clipped-text .cover.show-more,.clipped-text .cover.show-less{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;width:100%}.clipped-text .cover.show-more{background-image:-webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(transparent), color-stop(transparent), to(#fff));background-image:linear-gradient(to bottom, transparent, transparent, transparent, #fff)}.copyable .copy-icon{height:1.2em;margin-left:.5rem;width:1.2em}html,body,.app,.app-container,.view-container,.main-content-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;max-width:100%}.app{height:100%;max-width:100vw;width:100%}.app-container{height:100%}.header-container{grid-area:header}.navbar-container{grid-area:navbar}.notification-container{grid-area:notifications}.main-content-container{grid-area:main-content;overflow-y:auto;padding:1rem 2.5rem 1.5rem}.page-container{height:100%;position:relative;width:100%}.page-container .page-header-container{margin:1.5rem 0}.page-container .page-header-container .page-subheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6c6c6c;font-size:14px;margin-top:.25rem;width:70vw}.page-container .page-content{padding-bottom:4rem;width:100%}.view-container{display:grid;grid-template:"navbar notifications" 35px "navbar main-content" 1fr / 200px;min-height:100%}.error-page{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.error-page .error-message{color:#a33;margin:1.5rem 0}.error-page .actions-container{height:35px}.modal{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;background:rgba(0,0,0,0.3);color:#222;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.modal .modal-content{background:#fff;border:1px solid #444;border-radius:2px;margin-top:8rem;max-height:75%;overflow-y:auto;padding:15px 20px 20px;z-index:1001}.modal .modal-error{-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#a33;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;padding:10px}.modal .modal-error:empty{display:none}.navbar-container{background:#f5f5f5;z-index:99}.navbar-links-container{margin-top:1rem}.navbar-links-container .navbar-link-container{display:block;height:50px;text-align:center;width:100%}.navbar-links-container .navbar-link{color:#555;font-size:16px;padding:0 1rem}.navbar-links-container .navbar-link:hover{background:#eee}.navbar-links-container .navbar-link.active,.navbar-links-container .navbar-link:hover{font-weight:bold}.navbar-links-container .navbar-link.active{color:#222}.navbar-links-container .navbar-link.active i{color:#1b73e8}.navbar-links-container .navbar-link,.navbar-links-container .navbar-link-span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:100%}.navbar-links-container .navbar-link-icon{color:#444;display:inline-block;height:25px;margin-right:.75rem;width:25px}.navbar-links-container .navbar-link-text{justify-self:center;text-align:left;width:auto}.navbar-account-container{width:100px}.notification-container{font-size:14px;position:relative}.notification-container .notification-message-container{-webkit-animation:FadeInOut 8s linear;animation:FadeInOut 8s linear;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;background:#1b73e8;color:#fff;opacity:0}.notification-container .error-message-container{background:#a33;color:#fff}.notification-container .notification-message-container,.notification-container .error-message-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.notification-container .notification-message-container span,.notification-container .error-message-container span{text-align:center;width:100%}.notification-container .clear-notification{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:auto;margin-right:.75rem;width:20px}.notification-container .clear-notification i{height:20px}.notification-container .clear-notification i svg{color:#fff;padding-top:2px;width:20px}.notification-container .clear-notification i svg:hover{color:#aaa}@-webkit-keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:1}}@keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:1}}.content-page-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}.content-page-container .page-header-container{margin:2rem 0 0}.content-page-container .page-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.content-page-container .page-content,.content-page-container .display-frame{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.object-info{max-width:100%}.object-image{position:absolute;right:1rem}.object-image img{max-height:20vw;max-width:20vw}.video-player{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.video-player video{cursor:pointer;max-height:60vh;max-width:85%}.content-object-data{margin:20px 0}.app-frame{border:1px solid #eee;display:block;height:100%;width:100%}.app-frame.display-frame{margin-bottom:1.5rem}.account-image{max-height:100px;max-width:100px}.version-info{margin-bottom:10px}.version-info.version-visible{margin-bottom:30px}.object-description{height:100%;margin-bottom:5px}.object-description.show{max-height:100%}.object-description.hide{max-height:3.5em}.part-info{margin-bottom:1rem}.download-progress{color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.download-progress progress{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:.5rem}.traversable-json{border:1px solid #ddd;margin:1rem 0;padding:.5rem 1rem;word-break:break-all}.label-box{width:100%}.label-box h2{font-size:20px;font-weight:400;margin:1.5rem 0 1rem}.label-box h3{font-size:18px;margin:1.5rem 0 1rem}.label-box .labelled-field{display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100%;min-height:1.8em;padding:.25rem 1rem .25rem 0}.label-box .labelled-field label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#6c6c6c;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:150px}.label-box .labelled-field label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.label-box .labelled-field label.wide{min-width:250px}.label-box .labelled-field label.bold{font-weight:bold}.label-box .labelled-field .inline-link{color:#1b73e8}.label-box .labelled-field .comma-separated-list{white-space:normal}.label-box .labelled-field .comma-separated-list *::after{color:#222;content:",";margin-right:.5rem}.label-box .labelled-field .comma-separated-list *:last-child::after{content:""}.label-box .labelled-field>div,.label-box .labelled-field>.copyable>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:525px}.label-box .labelled-field>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.label-box .labelled-field.labelled-field button{font-size:12px;width:200px}.label-box .indented{padding-left:1.5rem}.label-box pre{margin-top:1rem;max-width:75vw;white-space:pre-wrap}.label-box pre.event-log{max-height:500px}.events{max-width:1200px}.events h4{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:18px;font-weight:400;height:50vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.events .event-controls{display:-webkit-box;display:-ms-flexbox;display:flex;height:32px;margin-bottom:1rem;width:100%}.events .event-controls .control-group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:100%}.events .event-controls .control-group.action-group{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}.events .event-controls .control-group.filter-group{-webkit-box-flex:15;-ms-flex-positive:15;flex-grow:15}.events .event-controls .control-group label{margin-right:.5rem}.events .event-controls .control-group input,.events .event-controls .control-group button{font-size:.8rem;height:100%}.events .event-controls .control-group input:not(:last-child),.events .event-controls .control-group button:not(:last-child){margin-right:.5rem}.events .event-controls .control-group input:not(.watch-icon),.events .event-controls .control-group button:not(.watch-icon){min-width:auto;width:100px}.events .event-controls .control-group input.event-filter,.events .event-controls .control-group button.event-filter{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:1rem;margin-right:1rem}.events .event-controls .watch-icon{width:35px}.events .event-controls .watch-icon.watching svg{-webkit-animation:watch-pulse 3s infinite normal;animation:watch-pulse 3s infinite normal}.events .event-controls .watch-icon:hover svg{color:#aaa}.events .events-container{height:75vh;max-height:75vh;overflow-y:auto;padding:1rem .5rem 1rem 0}.events .filter-loading{width:208px}.events .load-more{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:1rem;width:100%}.event .header,.log .header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:.5rem}.event .header .info,.log .header .info{color:#6c6c6c;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:.7rem}.events-raw{position:relative}.events-copy-button{position:absolute;right:1rem;top:1rem}.events-raw-text{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:.7rem}.event{border:1px solid #555;font-size:.8rem;margin-bottom:1.5rem;padding:1rem}.log{border:1px solid #ccc;margin-bottom:.5rem;padding:1rem}.log .labelled-field{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1.6}.log .labelled-field label{min-width:175px;width:175px}.log .labelled-field .value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:.7rem;max-width:50vw}.log .section-label{font-size:.8rem;font-weight:600;margin:1rem 0 .25rem}@-webkit-keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}@keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}.upload-widget{padding:1rem}.file-browser{font-weight:300;margin:1rem 0;max-height:50vh;overflow-y:auto;width:100%}.file-browser svg.-elv-icon{padding:.25rem}.file-browser button:hover svg{color:#aaa}.file-browser table{border:1px solid #ddd;border-collapse:collapse;table-layout:fixed;width:100%}.file-browser thead{height:45px}.file-browser th{text-align:left}.file-browser th.type-header{width:40px}.file-browser th.type-header button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.file-browser th.actions-header{padding:.25rem 0;text-align:center;width:130px}.file-browser th.size-header{width:5em}.file-browser tr{border-top:1px solid #eee;height:35px}.file-browser tr.directory{cursor:pointer}.file-browser tr.directory:hover{background-color:#f5f5f5}.file-browser tr td{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:35px}.file-browser tr td.item-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.file-browser tr td.info-cell{text-align:right}.file-browser tr td.actions-cell{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.file-browser tr td .item-path{max-width:150px}.listing .loading{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.listing .listing-actions{display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.listing .listing-actions .controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:35px;margin-right:.5rem}.listing .listing-actions .controls.right-controls{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.listing .listing-actions .controls input{max-width:250px}.listing .listing-actions .controls select{max-width:200px}.listing .listing-actions .controls input,.listing .listing-actions .controls select{border:1px solid #ddd;-ms-flex-preferred-size:100px;flex-basis:100px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:100%;width:auto}.listing .listing-actions .controls input.per-page-controls,.listing .listing-actions .controls select.per-page-controls{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0}.listing .listing-actions .page-controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%}.listing .listing-actions .page-controls li{border:1px solid #ddd;border-right:0;height:100%}.listing .listing-actions .page-controls li .page-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:transparent;border:0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;min-width:2.5em}.listing .listing-actions .page-controls li .page-button:hover{background:#ddd}.listing .listing-actions .page-controls li .page-button:active{background:#eee}.listing .listing-actions .page-controls li .page-button:disabled{color:#222;font-weight:bold}.listing .listing-actions .page-controls li .page-button:disabled:hover,.listing .listing-actions .page-controls li .page-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li .page-button:disabled.selected{background:#f5f5f5}.listing .listing-actions .page-controls li .text-button:disabled{color:#aaa;font-weight:normal}.listing .listing-actions .page-controls li .text-button:disabled:hover,.listing .listing-actions .page-controls li .text-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li:last-child{border-right:1px solid #ddd}.listing .listing-actions .per-page-controls{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;margin-left:.5rem;min-width:4em}.listing .listing-actions .listing-action{margin:0 .25rem;padding:.25rem}.listing .listing-actions .listing-action i{height:25px;width:25px}.listing .listing-actions .loading-action{width:41px}.listing .listing-actions .filter{font-size:16px;height:30px;margin-right:.5rem;padding:0 .5rem}.listing .listing-count{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:.5rem 0 1rem}.listing .grid-listing{display:grid;grid-gap:2rem 1.5rem;grid-template-columns:repeat(auto-fill, 215px)}.listing .grid-listing-element:hover .listing-info,.listing .grid-listing-element:focus .listing-info{background-color:#ddd}.listing .grid-listing-element .icon-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.listing .grid-listing-element .icon-container .-elv-cropped-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(215px * .75);-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;max-height:calc(215px * .75);overflow:hidden;width:215px}.listing .grid-listing-element .icon-container .-elv-cropped-icon .-elv-icon{height:calc(215px * .75);max-height:calc(215px * .75);max-width:215px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;padding:0;width:215px}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action{position:relative}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action .-elv-hover-action{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;visibility:hidden;width:100%;z-index:1000}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action .-elv-hover-action span{background:rgba(0,0,0,0.75);color:#fff;padding:.5rem}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action:hover .-elv-hover-action{background:rgba(0,0,0,0.3);visibility:visible}.listing .grid-listing-element .icon-container i{padding:.5rem 2rem 2rem !important}.listing .grid-listing-element .listing-info{height:120px;padding:.5rem .25rem 0}.listing .grid-listing-element .title{color:#222;font-size:18px;margin-bottom:.5rem}.listing .grid-listing-element .description{font-size:14px;height:50px;margin-bottom:.5rem;max-height:80px;overflow:hidden}.listing .grid-listing-element .title,.listing .grid-listing-element .status{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.listing .grid-listing-element .title,.listing .grid-listing-element .description,.listing .grid-listing-element .status{text-align:center}.listing table{border-collapse:collapse;max-width:100%;table-layout:fixed;width:100%}.listing table *{border:0}.listing thead tr th{margin:0;padding:0}.listing thead tr th.icon-header{width:125px}.listing thead tr th.title-header{width:35%}.listing thead tr th.status-header{width:150px}.listing tbody tr{height:calc(calc(125px * .75) + .5rem);max-height:calc(calc(125px * .75) + .5rem)}.listing tbody tr:hover,.listing tbody tr:focus{background-color:#f5f5f5}.listing tbody tr td{color:#6c6c6c;margin:0;overflow:hidden;padding:.5rem 0 .5rem 1rem;word-wrap:break-word}.listing tbody tr td.icon-cell{padding:0}.listing tbody tr td.title-cell{color:#222;font-size:18px}.listing tbody tr td.status-cell{font-size:14px}.listing tbody tr td .cropped-text{height:auto;max-height:70px;overflow-x:visible;overflow-y:hidden;white-space:normal}.listing tbody tr td .icon-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.listing tbody tr td .icon-container .-elv-cropped-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(125px * .75);-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;max-height:calc(125px * .75);overflow:hidden;width:125px}.listing tbody tr td .icon-container .-elv-cropped-icon .-elv-icon{height:calc(125px * .75);max-height:calc(125px * .75);max-width:125px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;padding:0;width:125px}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action{position:relative}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action .-elv-hover-action{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;visibility:hidden;width:100%;z-index:1000}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action .-elv-hover-action span{background:rgba(0,0,0,0.75);color:#fff;padding:.5rem}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action:hover .-elv-hover-action{background:rgba(0,0,0,0.3);visibility:visible}.listing tbody tr td .icon-container i{padding:0 1rem !important}.listing tbody tr td a{display:block;height:100%;width:100%}.listing.compact thead th.title-header{width:45%}.listing.compact tbody tr{height:70px}.listing.compact tbody td.title-cell{font-size:16px}.listing.compact tbody td.description-cell{font-size:14px}.listing .listing-link{cursor:pointer}.listing .listing-action-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:1rem}.listing .listing-action-icon button{height:25px;width:25px}.-elv-form{display:block;max-width:100%;width:60rem}.-elv-form fieldset{border:1px solid #ccc;padding:0 2rem}.-elv-form .form-content{display:grid;grid-gap:1rem;grid-template-columns:minmax(7rem, 1fr) 5fr;margin:1.5rem 0 2rem}.-elv-form .form-content.no-margins{margin:0}.-elv-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.-elv-form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:.33rem}.-elv-form input,.-elv-form textarea{border:1px solid #ccc;font-size:16px}.-elv-form input{width:auto}.-elv-form input[type="checkbox"]{cursor:pointer;margin:0;width:1rem}.-elv-form textarea{font-family:inherit;height:15rem;padding:.25rem}.-elv-form select{width:100%}.-elv-form .image-preview{margin-top:1rem;width:100%}.-elv-form .image-preview img{width:100%}.-elv-form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.-elv-form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:.25rem}.-elv-form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:1.5rem 0;width:100%}.-elv-form .form-actions *:not(:last-child){margin-right:.5rem}.-elv-form .form-error{background:#a33;color:#fff;margin-top:1rem;padding:.5rem}@media only screen and (max-width: 1000px){.-elv-form form{width:100%}.-elv-form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.-elv-form form .form-content label{margin-bottom:.25rem}.-elv-form form .form-content *{margin-bottom:1rem}}form{display:block;max-width:100%;width:60rem}form fieldset{border:1px solid #ccc;padding:0 2rem}form .form-content{display:grid;grid-gap:1rem;grid-template-columns:minmax(7rem, 1fr) 5fr;margin:1.5rem 0 2rem}form .form-content.no-margins{margin:0}form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:.33rem}form input,form textarea{border:1px solid #ccc;font-size:16px}form input{width:auto}form input[type="checkbox"]{cursor:pointer;margin:0;width:1rem}form textarea{font-family:inherit;height:15rem;padding:.25rem}form select{width:100%}form .image-preview{margin-top:1rem;width:100%}form .image-preview img{width:100%}form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:.25rem}form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:1.5rem 0;width:100%}form .form-actions *:not(:last-child){margin-right:.5rem}form .form-error{background:#a33;color:#fff;margin-top:1rem;padding:.5rem}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:.25rem}form form .form-content *{margin-bottom:1rem}}form.small-form{width:40rem}form input{height:2em}form .list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:.5rem;width:100%}form .list .list-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:.5rem;position:relative}form .list .list-item input{width:100%}form .list .list-item .-elv-icon-button{height:20px;margin:0;padding:0;position:absolute;right:5px;width:20px}form h4{font-size:16px;font-weight:500;margin:1rem 0;text-align:center}form .section-separator{border-bottom:1px solid #ddd;margin-bottom:2rem;padding-top:.5rem}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:.25rem}form form .form-content *{margin-bottom:1rem}}\n',""])},221:function(e,t){String.prototype.capitalize=function(){return this.replace(/_/g," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.prototype.toHash=function(){return this.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}},449:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"root",function(){return Oc}),a.d(r,"contractStore",function(){return Nc}),a.d(r,"eventsStore",function(){return Fc}),a.d(r,"groupStore",function(){return Lc}),a.d(r,"libraryStore",function(){return Mc}),a.d(r,"notificationStore",function(){return Tc}),a.d(r,"objectStore",function(){return Pc}),a.d(r,"routeStore",function(){return Hc}),a.d(r,"typeStore",function(){return Gc});a(214);var n,o,i,c=a(0),s=a.n(c),l=a(92),u=a(206),p=(a(221),a(208),a(8)),d=a.n(p),m=a(7),h=a.n(m),b=a(11),f=a.n(b),y=a(12),v=a.n(y),g=a(13),C=a.n(g),x=a(451),k=function(e){function ScrollToTop(){return d()(this,ScrollToTop),f()(this,v()(ScrollToTop).apply(this,arguments))}return C()(ScrollToTop,e),h()(ScrollToTop,[{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function render(){return this.props.children}}]),ScrollToTop}(s.a.Component),w=Object(x.a)(k),S=a(82),j=a(61),I=a.n(j),E=a(115),_=a.n(E),A=a(189),O=a.n(A),N=a(190),F=a.n(N),L=a(191),M=a.n(L),T=a(4),P=a(10),H=Object(P.b)("routeStore")(n=Object(P.c)(n=function(e){function NavigationBar(){return d()(this,NavigationBar),f()(this,v()(NavigationBar).apply(this,arguments))}return C()(NavigationBar,e),h()(NavigationBar,[{key:"NavLink",value:function NavLink(e){var t=e.linkInfo,a=(this.props.routeStore.path||"").split("/")[1],r=t.rootPath&&!a||a===t.link;return s.a.createElement("div",{key:"navbar-link-"+t.link,className:"navbar-link-container"},s.a.createElement(S.a,{to:"/"+t.link,className:"navbar-link "+(r?"active":"")},s.a.createElement("span",{className:"navbar-link-span"},s.a.createElement(T.k,{className:"navbar-link-icon",icon:t.icon}),s.a.createElement("div",{className:"navbar-link-text"},t.text))))}},{key:"render",value:function render(){var e=this;return s.a.createElement("div",{className:"navbar-container"},s.a.createElement("nav",{className:"navbar-links-container",role:"navigation"},NavigationBar.Links().map(function(t){return e.NavLink({linkInfo:t})})))}}],[{key:"Links",value:function Links(){return[{link:"content",text:"Content",rootPath:!0,icon:I.a},{link:"access-groups",text:"Access Groups",icon:_.a},{link:"content-types",text:"Content Types",icon:O.a},{link:"contracts",text:"Contracts",icon:F.a},{link:"events",text:"Events",icon:M.a}]}}]),NavigationBar}(s.a.Component))||n)||n,G=a(95),R=a.n(G),z=Object(P.b)("notificationStore")(o=Object(P.c)(o=function(e){function Notifications(){return d()(this,Notifications),f()(this,v()(Notifications).apply(this,arguments))}return C()(Notifications,e),h()(Notifications,[{key:"render",value:function render(){return this.props.notificationStore.error?s.a.createElement("div",{className:"notification-container"},s.a.createElement("div",{className:"notification-message-container error-message-container"},s.a.createElement("span",null,this.props.notificationStore.error),s.a.createElement(T.j,{icon:R.a,label:"close",onClick:this.props.notificationStore.ClearMessage,className:"clear-notification"}))):this.props.notificationStore.notification?s.a.createElement("div",{className:"notification-container"},s.a.createElement("div",{className:"notification-message-container"},s.a.createElement("span",null,this.props.notificationStore.notification),s.a.createElement(T.j,{icon:R.a,label:"close",onClick:this.props.notificationStore.ClearMessage,className:"clear-notification"}))):s.a.createElement("div",{className:"notification-container"})}}]),Notifications}(s.a.Component))||o)||o,D=a(1),B=a.n(D),$=a(2),U=a.n($),q=a(188),V=a(452),W=a(35),K=a.n(W),J=a(19),Z=a.n(J),Y=a(90),Q=a(17),X=a.n(Q),ee=a(42),te=a.n(ee),ae=a(72),re=a.n(ae),ne=a(91),oe=a.n(ne),ie=a(18),ce=window.location.search.split("?")[1];ce&&(ce=ce.split("&")).forEach(function(e){"privateKey"===e.split("=")[0]&&(i=e.split("=")[1])});var se,le,ue,pe,de,me,he,be,fe,ye,ve,ge,Ce,xe,ke,we,Se,je,Ie,Ee,_e,Ae,Oe,Ne,Fe,Le,Me,Te,Pe,He,Ge,Re,ze,De,Be,$e,Ue,qe,Ve,We,Ke,Je,Ze,Ye,Qe,Xe,et,tt,at,rt,nt,ot,it,ct,st,lt,ut,pt,dt,mt,ht,bt,ft,yt,vt,gt,Ct,xt,kt,wt,St,jt,It,Et=window.self!==window.top,_t=new Y.FrameClient({target:window.parent,timeout:30}),At={currentAccountAddress:void 0,utils:_t.utils,isFrameClient:Et,cachedImages:{},concurrencyLimit:5,Initialize:(It=U()(B.a.mark(function _callee(){var e;return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(Et){t.next=11;break}return t.next=3,Promise.all([a.e(2),a.e(0)]).then(a.t.bind(null,622,7));case 3:return e=t.sent.ElvClient,t.next=6,e.FromConfigurationUrl({configUrl:EluvioConfiguration["config-url"]});case 6:return _t=t.sent,t.next=9,_t.SetSigner({signer:_t.GenerateWallet().AddAccount({privateKey:i})});case 9:t.next=12;break;case 11:_t=new Y.FrameClient({target:window.parent,timeout:30});case 12:return window.fabricBrowserClient=_t,t.next=15,_t.ContentSpaceId();case 15:this.contentSpaceId=t.sent,this.contentSpaceLibraryId=this.contentSpaceId.replace("ispc","ilib"),this.contentSpaceObjectId=this.contentSpaceId.replace("ispc","iq__");case 18:case"end":return t.stop()}},_callee,this)})),function Initialize(){return It.apply(this,arguments)}),ResetRegion:(jt=U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.ResetRegion();case 2:case"end":return e.stop()}},_callee2)})),function ResetRegion(){return jt.apply(this,arguments)}),GetFramePath:(St=U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!At.isFrameClient){e.next=4;break}return e.next=3,_t.SendMessage({options:{operation:"GetFramePath"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},_callee3)})),function GetFramePath(){return St.apply(this,arguments)}),SetFramePath:(wt=U()(B.a.mark(function _callee4(e){var t;return B.a.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.path,!At.isFrameClient){a.next=5;break}return a.next=4,_t.SendMessage({options:{operation:"SetFramePath",path:t}});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},_callee4)})),function SetFramePath(e){return wt.apply(this,arguments)}),ExecuteFrameRequest:(kt=U()(B.a.mark(function _callee5(e){var t,a;return B.a.wrap(function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.request,a=e.Respond,!Et){r.next=9;break}return r.t0=a,r.next=5,_t.PassRequest({request:t,Respond:a});case 5:r.t1=r.sent,(0,r.t0)(r.t1),r.next=14;break;case 9:return r.t2=a,r.next=12,_t.CallFromFrameMessage(t);case 12:r.t3=r.sent,(0,r.t2)(r.t3);case 14:case"end":return r.stop()}},_callee5)})),function ExecuteFrameRequest(e){return kt.apply(this,arguments)}),CurrentAccountAddress:(xt=U()(B.a.mark(function _callee6(){return B.a.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:if(At.currentAccountAddress){e.next=6;break}return e.t0=ie.d,e.next=4,_t.CurrentAccountAddress();case 4:e.t1=e.sent,At.currentAccountAddress=(0,e.t0)(e.t1);case 6:return e.abrupt("return",At.currentAccountAddress);case 7:case"end":return e.stop()}},_callee6)})),function CurrentAccountAddress(){return xt.apply(this,arguments)}),CreateAccessGroup:(Ct=U()(B.a.mark(function _callee7(e){var t,a,r;return B.a.wrap(function _callee7$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.name,a=e.metadata,r=void 0===a?{}:a,n.next=3,_t.CreateAccessGroup({name:t,metadata:r});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},_callee7)})),function CreateAccessGroup(e){return Ct.apply(this,arguments)}),DeleteAccessGroup:(gt=U()(B.a.mark(function _callee8(e){var t;return B.a.wrap(function _callee8$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,_t.DeleteAccessGroup({contractAddress:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee8)})),function DeleteAccessGroup(e){return gt.apply(this,arguments)}),LeaveAccessGroup:(vt=U()(B.a.mark(function _callee9(e){var t,a;return B.a.wrap(function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,r.next=3,At.CurrentAccountAddress();case 3:return a=r.sent,r.next=6,At.RemoveAccessGroupManager({contractAddress:t,memberAddress:a});case 6:return r.next=8,At.RemoveAccessGroupMember({contractAddress:t,memberAddress:a});case 8:case"end":return r.stop()}},_callee9)})),function LeaveAccessGroup(e){return vt.apply(this,arguments)}),AddAccessGroupMember:(yt=U()(B.a.mark(function _callee10(e){var t,a;return B.a.wrap(function _callee10$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,_t.AddAccessGroupMember({contractAddress:t,memberAddress:Object(ie.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee10)})),function AddAccessGroupMember(e){return yt.apply(this,arguments)}),RemoveAccessGroupMember:(ft=U()(B.a.mark(function _callee11(e){var t,a;return B.a.wrap(function _callee11$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,_t.RemoveAccessGroupMember({contractAddress:t,memberAddress:Object(ie.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee11)})),function RemoveAccessGroupMember(e){return ft.apply(this,arguments)}),AddAccessGroupManager:(bt=U()(B.a.mark(function _callee12(e){var t,a;return B.a.wrap(function _callee12$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,_t.AddAccessGroupManager({contractAddress:t,memberAddress:Object(ie.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee12)})),function AddAccessGroupManager(e){return bt.apply(this,arguments)}),RemoveAccessGroupManager:(ht=U()(B.a.mark(function _callee13(e){var t,a;return B.a.wrap(function _callee13$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,_t.RemoveAccessGroupManager({contractAddress:t,memberAddress:Object(ie.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee13)})),function RemoveAccessGroupManager(e){return ht.apply(this,arguments)}),FilterContentLibraries:function FilterContentLibraries(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.filter(function(e){var n=e.meta;try{var o=(n[t]||"").toLowerCase().includes(a);return r?!o:o}catch(e){return!1}})},ListContentLibraries:(mt=U()(B.a.mark(function _callee16(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee16$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.params,s.next=3,_t.ContentLibraries();case 3:return a=s.sent,s.next=6,a.limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee14(e){var t,a;return B.a.wrap(function _callee14$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.replace("ilib","iq__"),r.next=4,_t.ContentObject({libraryId:e,objectId:t});case 4:return r.next=6,_t.ContentObjectMetadata({libraryId:e,objectId:t});case 6:return a=r.sent,r.abrupt("return",{libraryId:e,meta:a});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{libraryId:e,meta:{}});case 13:case"end":return r.stop()}},_callee14,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}());case 6:r=(r=s.sent).filter(function(e){return void 0!==e}),s.t0=t.selectFilter,s.next="content"===s.t0?11:"users"===s.t0?13:"elv-media-platform"===s.t0?15:17;break;case 11:return r=r.filter(function(e){var t=e.meta;return!["elv-user-library","elv-media-platform"].includes((t.class||"").toLowerCase())}),s.abrupt("break",17);case 13:return r=At.FilterContentLibraries(r,"class","elv-user-library"),s.abrupt("break",17);case 15:return r=At.FilterContentLibraries(r,"class","elv-media-platform"),s.abrupt("break",17);case 17:return t.filter&&(r=At.FilterContentLibraries(r,"name",t.filter.toLowerCase())),r=r.sort(function(e,t){e.meta=e.meta||{},t.meta=t.meta||{};var a=e.meta.name||"zz",r=t.meta.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),n=r.length,o=(t.page||1)-1,i=t.perPage||10,r=r.slice(o*i,(o+1)*i),c={},s.next=26,r.limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee15(e){var t,a,r,n;return B.a.wrap(function _callee15$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.meta,o.prev=1,r=t.replace("ilib","iq__"),o.next=5,At.GetContentObjectImageUrl({libraryId:t,objectId:r,metadata:a});case 5:n=o.sent,c[t]={libraryId:t,name:a.name||t,description:a["eluv.description"],imageUrl:n,isContentSpaceLibrary:t===At.contentSpaceLibraryId},o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),console.error("Failed to get content library ".concat(a.name||t,": ")),console.error(o.t0);case 13:case"end":return o.stop()}},_callee15,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}());case 26:return s.abrupt("return",{libraries:c,count:n});case 27:case"end":return s.stop()}},_callee16)})),function ListContentLibraries(e){return mt.apply(this,arguments)}),GetContentLibrary:(dt=U()(B.a.mark(function _callee17(e){var t,a,r,n,o,i,c,s,l,u,p,d,m;return B.a.wrap(function _callee17$(h){for(;;)switch(h.prev=h.next){case 0:return t=e.libraryId,h.next=3,_t.ContentLibrary({libraryId:t});case 3:return a=h.sent,h.next=6,At.GetContentLibraryOwner({libraryId:t});case 6:return r=h.sent,h.next=9,At.CurrentAccountAddress();case 9:return n=h.sent,h.next=12,_t.userProfileClient.PublicUserMetadata({address:r,metadataSubtree:"name"});case 12:return o=h.sent,i=t.replace("ilib","iq__"),c={},s={},h.prev=16,h.next=19,At.GetContentObject({libraryId:t,objectId:i});case 19:return u=h.sent,h.next=22,At.GetContentObjectMetadata({libraryId:t,objectId:i});case 22:return c=h.sent,h.next=25,At.GetContentObjectImageUrl({libraryId:t,objectId:i,versionHash:u.hash,metadata:c});case 25:l=h.sent,s=Z()({},c.public||{}),delete c.public,h.next=33;break;case 30:h.prev=30,h.t0=h.catch(16),console.error(h.t0);case 33:return h.next=35,_t.CallContractMethod({contractAddress:_t.utils.HashToAddress(t),abi:te.a.abi,methodName:"addressKMS"});case 35:return p=h.sent,d="ikms".concat(_t.utils.AddressToHash(p)),h.next=39,At.ListLibraryContentTypes({libraryId:t});case 39:return m=h.sent,h.abrupt("return",Z()({},a,{libraryId:t,types:m,name:c.name||t,description:c["eluv.description"],contractAddress:Object(ie.d)(_t.utils.HashToAddress(t)),libraryObjectId:t.replace("ilib","iq__"),privateMeta:c,publicMeta:s,imageUrl:l,kmsId:d,owner:r,ownerName:o,isOwner:Object(ie.c)(r,n),isContentSpaceLibrary:t===At.contentSpaceLibraryId}));case 41:case"end":return h.stop()}},_callee17,null,[[16,30]])})),function GetContentLibrary(e){return dt.apply(this,arguments)}),ListLibraryContentTypes:(pt=U()(B.a.mark(function _callee19(e){var t,a;return B.a.wrap(function _callee19$(r){for(;;)switch(r.prev=r.next){case 0:if((t=e.libraryId)!==At.contentSpaceLibraryId){r.next=3;break}return r.abrupt("return",{});case 3:return r.next=5,_t.LibraryContentTypes({libraryId:t});case 5:return a=r.sent,r.next=8,Object.values(a).limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee18(e){return B.a.wrap(function _callee18$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At.AppUrls({object:e});case 2:a[e.id].appUrls=t.sent;case 3:case"end":return t.stop()}},_callee18)}));return function(t){return e.apply(this,arguments)}}());case 8:return r.abrupt("return",a);case 9:case"end":return r.stop()}},_callee19)})),function ListLibraryContentTypes(e){return pt.apply(this,arguments)}),AddLibraryContentType:(ut=U()(B.a.mark(function _callee20(e){var t,a,r;return B.a.wrap(function _callee20$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.typeId,r=e.customContractAddress,n.next=3,_t.AddLibraryContentType({libraryId:t,typeId:a,customContractAddress:r});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},_callee20)})),function AddLibraryContentType(e){return ut.apply(this,arguments)}),RemoveLibraryContentType:(lt=U()(B.a.mark(function _callee21(e){var t,a;return B.a.wrap(function _callee21$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.typeId,r.next=3,_t.RemoveLibraryContentType({libraryId:t,typeId:a});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee21)})),function RemoveLibraryContentType(e){return lt.apply(this,arguments)}),GetContentLibraryOwner:(st=U()(B.a.mark(function _callee22(e){var t;return B.a.wrap(function _callee22$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.t0=ie.d,a.next=4,_t.ContentLibraryOwner({libraryId:t});case 4:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 6:case"end":return a.stop()}},_callee22)})),function GetContentLibraryOwner(e){return st.apply(this,arguments)}),CreateContentLibrary:(ct=U()(B.a.mark(function _callee23(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee23$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.name,a=e.description,r=e.publicMetadata,n=void 0===r?{}:r,o=e.privateMetadata,i=void 0===o?{}:o,c=e.kmsId,s.next=3,_t.CreateContentLibrary({name:t,description:a,metadata:Z()({},i,{public:n}),kmsId:c});case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},_callee23)})),function CreateContentLibrary(e){return ct.apply(this,arguments)}),DeleteContentLibrary:(it=U()(B.a.mark(function _callee24(e){var t;return B.a.wrap(function _callee24$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.next=3,_t.DeleteContentLibrary({libraryId:t});case 3:case"end":return a.stop()}},_callee24)})),function DeleteContentLibrary(e){return it.apply(this,arguments)}),SetContentLibraryImage:(ot=U()(B.a.mark(function _callee25(e){var t,a;return B.a.wrap(function _callee25$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.image,r.next=3,_t.SetContentLibraryImage({libraryId:t,image:a});case 3:case"end":return r.stop()}},_callee25)})),function SetContentLibraryImage(e){return ot.apply(this,arguments)}),ListContentLibraryGroups:(nt=U()(B.a.mark(function _callee26(e){var t,a,r;return B.a.wrap(function _callee26$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.type,r=e.params,n.next=3,At.ListAccessGroups({params:Z()({libraryId:t,type:a},r)});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},_callee26)})),function ListContentLibraryGroups(e){return nt.apply(this,arguments)}),AddContentLibraryGroup:(rt=U()(B.a.mark(function _callee27(e){var t,a,r,n;return B.a.wrap(function _callee27$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.address,r=e.groupType,o.prev=1,o.next=4,_t.CallContractMethodAndWait({contractAddress:_t.utils.HashToAddress(t),abi:te.a.abi,methodName:"add"+r.capitalize()+"Group",methodArgs:[Object(ie.d)(a)]});case 4:return n=o.sent,o.next=7,_t.ExtractEventFromLogs({abi:te.a.abi,event:n,eventName:r.capitalize()+"GroupAdded"});case 7:o.next=12;break;case 9:throw o.prev=9,o.t0=o.catch(1),Error("Failed to add "+r+"group "+a);case 12:case"end":return o.stop()}},_callee27,null,[[1,9]])})),function AddContentLibraryGroup(e){return rt.apply(this,arguments)}),RemoveContentLibraryGroup:(at=U()(B.a.mark(function _callee28(e){var t,a,r,n;return B.a.wrap(function _callee28$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.address,r=e.groupType,o.prev=1,o.next=4,_t.CallContractMethodAndWait({contractAddress:_t.utils.HashToAddress(t),abi:te.a.abi,methodName:"remove"+r.capitalize()+"Group",methodArgs:[Object(ie.d)(a)]});case 4:return n=o.sent,o.next=7,_t.ExtractEventFromLogs({abi:te.a.abi,event:n,eventName:r.capitalize()+"GroupRemoved"});case 7:o.next=12;break;case 9:throw o.prev=9,o.t0=o.catch(1),Error("Failed to add "+r+"group "+a);case 12:case"end":return o.stop()}},_callee28,null,[[1,9]])})),function RemoveContentLibraryGroup(e){return at.apply(this,arguments)}),IsNormalObject:(tt=U()(B.a.mark(function _callee29(e){var t;return B.a.wrap(function _callee29$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,_t.AccessType({id:t});case 3:return a.t0=a.sent,a.abrupt("return","object"===a.t0);case 5:case"end":return a.stop()}},_callee29)})),function IsNormalObject(e){return tt.apply(this,arguments)}),ListContentObjects:(et=U()(B.a.mark(function _callee30(e){var t,a,r,n,o,i,c,s,l,u,p,d,m,h,b,f,y,v,g;return B.a.wrap(function _callee30$(C){for(;;)switch(C.prev=C.next){case 0:return t=e.libraryId,a=e.params,r={select:["name","eluv.description","image","description","public"],sort:"name",limit:a.perPage},a.page&&(r.start=(a.page-1)*a.perPage),a.filter&&(r.filter={key:"name",type:"cnt",filter:a.filter}),a.cacheId&&(r.cacheId=a.cacheId),C.next=7,_t.ContentObjects({libraryId:t,filterOptions:r});case 7:n=C.sent,o=n.contents,i=n.paging,o=o||[],c=i.items,s=i.cache_id,l={},u=!0,p=!1,d=void 0,C.prev=17,m=o[Symbol.iterator]();case 19:if(u=(h=m.next()).done){C.next=40;break}return b=h.value,C.prev=21,f=b.versions[0],C.next=25,At.GetContentObjectImageUrl({libraryId:t,objectId:b.id,versionHash:f.hash,metadata:b.versions[0].meta});case 25:return y=C.sent,C.next=28,At.GetAccessInfo({objectId:b.id});case 28:v=C.sent,g=f.meta||{},l[b.id]=Z()({},f,{id:b.id,objectId:b.id,hash:b.hash,type:b.type,name:g.name,description:g["eluv.description"]||g.description,accessInfo:v,imageUrl:y,contractAddress:_t.utils.HashToAddress(b.id)}),C.next=37;break;case 33:C.prev=33,C.t0=C.catch(21),console.error("Failed to list content object "+b.id),console.error(C.t0);case 37:u=!0,C.next=19;break;case 40:C.next=46;break;case 42:C.prev=42,C.t1=C.catch(17),p=!0,d=C.t1;case 46:C.prev=46,C.prev=47,u||null==m.return||m.return();case 49:if(C.prev=49,!p){C.next=52;break}throw d;case 52:return C.finish(49);case 53:return C.finish(46);case 54:return C.abrupt("return",{objects:l,cacheId:s,count:c});case 55:case"end":return C.stop()}},_callee30,null,[[17,42,46,54],[21,33],[47,,49,53]])})),function ListContentObjects(e){return et.apply(this,arguments)}),GetContentObject:(Xe=U()(B.a.mark(function _callee31(e){var t,a,r,n,o,i,c,s,l,u,p,d,m,h,b,f,y;return B.a.wrap(function _callee31$(v){for(;;)switch(v.prev=v.next){case 0:if(t=e.libraryId,a=e.objectId,r=_t.utils.EqualHash(t,a),n=t===At.contentSpaceLibraryId&&!r,!(o=!r&&!n)){v.next=11;break}return v.next=7,At.GetContentObjectStatus({objectId:a});case 7:return i=v.sent,v.next=10,At.GetAccessInfo({objectId:a});case 10:c=v.sent;case 11:return v.next=13,At.GetContentObjectOwner({objectId:a});case 13:return s=v.sent,v.next=16,_t.userProfileClient.PublicUserMetadata({address:s,metadataSubtree:"name"});case 16:return l=v.sent,v.next=19,_t.ContentObject({libraryId:t,objectId:a});case 19:return u=v.sent,v.next=22,_t.ContentObjectMetadata({libraryId:t,objectId:a});case 22:return p=v.sent,v.next=25,At.GetContentObjectImageUrl({libraryId:t,objectId:a,versionHash:u.hash,metadata:p});case 25:if(d=v.sent,!u.type){v.next=30;break}return v.next=29,At.GetContentType({versionHash:u.type});case 29:m=v.sent;case 30:return v.next=32,At.GetCustomContentContractAddress({libraryId:t,objectId:a,metadata:p});case 32:return h=v.sent,v.next=35,At.AppUrls({object:{id:u.id,hash:u.hash,meta:p}});case 35:if(b=v.sent,!p.video){v.next=40;break}return v.next=39,At.FabricUrl({libraryId:t,objectId:a,partHash:p.video});case 39:f=v.sent;case 40:return v.next=42,At.FileUrl({libraryId:t,objectId:a,filePath:"/"});case 42:return y=v.sent,v.t0=Z.a,v.t1={},v.t2=u,v.t3=b,v.t4=p,v.t5=p.name||u.id,v.t6=p["eluv.description"]||p.description,v.t7=y,v.t8=m,v.t9=d,v.t10=f,v.t11=Object(ie.d)(_t.utils.HashToAddress(a)),v.t12=h,v.t13=s,v.t14=l,v.t15=ie.c,v.t16=s,v.next=62,At.CurrentAccountAddress();case 62:return v.t17=v.sent,v.t18=(0,v.t15)(v.t16,v.t17),v.t19=c,v.t20=i,v.t21=r,v.t22=n,v.t23=o,v.t24={meta:v.t4,name:v.t5,description:v.t6,baseFileUrl:v.t7,typeInfo:v.t8,imageUrl:v.t9,videoUrl:v.t10,contractAddress:v.t11,customContractAddress:v.t12,owner:v.t13,ownerName:v.t14,isOwner:v.t18,accessInfo:v.t19,status:v.t20,isContentLibraryObject:v.t21,isContentType:v.t22,isNormalObject:v.t23},v.abrupt("return",(0,v.t0)(v.t1,v.t2,v.t3,v.t24));case 71:case"end":return v.stop()}},_callee31)})),function GetContentObject(e){return Xe.apply(this,arguments)}),GetContentObjectMetadata:(Qe=U()(B.a.mark(function _callee32(e){var t,a,r,n,o;return B.a.wrap(function _callee32$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.metadataSubtree,o=void 0===n?"/":n,i.next=3,_t.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:o});case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},_callee32)})),function GetContentObjectMetadata(e){return Qe.apply(this,arguments)}),GetContentObjectVersions:(Ye=U()(B.a.mark(function _callee33(e){var t,a;return B.a.wrap(function _callee33$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,_t.ContentObjectVersions({libraryId:t,objectId:a});case 3:return r.t0=function(e){return e.hash},r.abrupt("return",r.sent.versions.map(r.t0));case 5:case"end":return r.stop()}},_callee33)})),function GetContentObjectVersions(e){return Ye.apply(this,arguments)}),GetContentObjectVersion:(Ze=U()(B.a.mark(function _callee34(e){var t,a,r,n;return B.a.wrap(function _callee34$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.versionHash,o.next=3,_t.ContentObject({versionHash:t});case 3:return a=o.sent,o.next=6,At.GetContentObjectMetadata({versionHash:t});case 6:return r=o.sent,o.next=9,At.ListParts({versionHash:t});case 9:return n=o.sent,o.abrupt("return",Z()({},a,{meta:r,verification:{},parts:n}));case 11:case"end":return o.stop()}},_callee34)})),function GetContentObjectVersion(e){return Ze.apply(this,arguments)}),GetContentObjectImageUrl:(Je=U()(B.a.mark(function _callee35(e){var t,a,r,n,o;return B.a.wrap(function _callee35$(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.metadata,At.cachedImages[a]){i.next=19;break}if(!n){i.next=6;break}o=n.public&&n.public.image||n.image,i.next=14;break;case 6:return i.next=8,_t.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:"public/image"});case 8:if(i.t0=i.sent,i.t0){i.next=13;break}return i.next=12,_t.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:"image"});case 12:i.t0=i.sent;case 13:o=i.t0;case 14:if(o){i.next=16;break}return i.abrupt("return");case 16:return i.next=18,_t.PublicRep({libraryId:t,objectId:a,versionHash:r,rep:"image"});case 18:At.cachedImages[a]=i.sent;case 19:return i.abrupt("return",At.cachedImages[a]);case 20:case"end":return i.stop()}},_callee35)})),function GetContentObjectImageUrl(e){return Je.apply(this,arguments)}),GetCustomContentContractAddress:(Ke=U()(B.a.mark(function _callee36(e){var t,a,r,n;return B.a.wrap(function _callee36$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.metadata,n=void 0===r?{}:r,t!==At.contentSpaceLibraryId&&!_t.utils.EqualHash(t,a)){o.next=3;break}return o.abrupt("return",n.custom_contract&&n.custom_contract.address);case 3:return o.t0=ie.d,o.next=6,_t.CustomContractAddress({libraryId:t,objectId:a});case 6:return o.t1=o.sent,o.abrupt("return",(0,o.t0)(o.t1));case 8:case"end":return o.stop()}},_callee36)})),function GetCustomContentContractAddress(e){return Ke.apply(this,arguments)}),GetContentObjectOwner:(We=U()(B.a.mark(function _callee37(e){var t;return B.a.wrap(function _callee37$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.t0=ie.d,a.next=4,_t.ContentObjectOwner({objectId:t});case 4:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 6:case"end":return a.stop()}},_callee37)})),function GetContentObjectOwner(e){return We.apply(this,arguments)}),GetAccessInfo:(Ve=U()(B.a.mark(function _callee38(e){var t;return B.a.wrap(function _callee38$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,_t.AccessInfo({objectId:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee38)})),function GetAccessInfo(e){return Ve.apply(this,arguments)}),CreateContentObject:(qe=U()(B.a.mark(function _callee39(e){var t,a,r,n;return B.a.wrap(function _callee39$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.type,r=e.metadata,n={type:a,meta:void 0===r?{}:r},o.abrupt("return",_t.CreateContentObject({libraryId:t,options:n}));case 3:case"end":return o.stop()}},_callee39)})),function CreateContentObject(e){return qe.apply(this,arguments)}),DeleteContentObject:(Ue=U()(B.a.mark(function _callee40(e){var t,a;return B.a.wrap(function _callee40$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,_t.DeleteContentObject({libraryId:t,objectId:a});case 3:case"end":return r.stop()}},_callee40)})),function DeleteContentObject(e){return Ue.apply(this,arguments)}),DeleteContentVersion:($e=U()(B.a.mark(function _callee41(e){var t,a,r;return B.a.wrap(function _callee41$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n.next=3,_t.DeleteContentVersion({libraryId:t,objectId:a,versionHash:r});case 3:case"end":return n.stop()}},_callee41)})),function DeleteContentVersion(e){return $e.apply(this,arguments)}),EditContentObject:(Be=U()(B.a.mark(function _callee42(e){var t,a,r,n;return B.a.wrap(function _callee42$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.options,n=void 0===r?{}:r,o.next=3,_t.EditContentObject({libraryId:t,objectId:a,options:n});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},_callee42)})),function EditContentObject(e){return Be.apply(this,arguments)}),MergeMetadata:(De=U()(B.a.mark(function _callee43(e){var t,a,r,n,o,i;return B.a.wrap(function _callee43$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,i=e.metadata,c.next=3,_t.MergeMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o,metadata:i});case 3:case"end":return c.stop()}},_callee43)})),function MergeMetadata(e){return De.apply(this,arguments)}),ReplaceMetadata:(ze=U()(B.a.mark(function _callee44(e){var t,a,r,n,o,i;return B.a.wrap(function _callee44$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,i=e.metadata,c.next=3,_t.ReplaceMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o,metadata:i});case 3:case"end":return c.stop()}},_callee44)})),function ReplaceMetadata(e){return ze.apply(this,arguments)}),DeleteMetadata:(Re=U()(B.a.mark(function _callee45(e){var t,a,r,n,o;return B.a.wrap(function _callee45$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,i.next=3,_t.DeleteMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o});case 3:case"end":return i.stop()}},_callee45)})),function DeleteMetadata(e){return Re.apply(this,arguments)}),FinalizeContentObject:(Ge=U()(B.a.mark(function _callee46(e){var t,a,r,n,o;return B.a.wrap(function _callee46$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.awaitCommitConfirmation,o=void 0===n||n,delete At.cachedImages[a],i.next=4,_t.FinalizeContentObject({libraryId:t,objectId:a,writeToken:r,awaitCommitConfirmation:o});case 4:return i.abrupt("return",i.sent);case 5:case"end":return i.stop()}},_callee46)})),function FinalizeContentObject(e){return Ge.apply(this,arguments)}),EditAndFinalizeContentObject:(He=U()(B.a.mark(function _callee47(e){var t,a,r,n,o,i;return B.a.wrap(function _callee47$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.todo,n=e.awaitCommitConfirmation,o=void 0===n||n,c.next=3,At.EditContentObject({libraryId:t,objectId:a});case 3:return i=c.sent,c.next=6,r(i.write_token);case 6:return c.next=8,At.FinalizeContentObject({libraryId:t,objectId:a,writeToken:i.write_token,awaitCommitConfirmation:o});case 8:case"end":return c.stop()}},_callee47)})),function EditAndFinalizeContentObject(e){return He.apply(this,arguments)}),CreateContentType:(Pe=U()(B.a.mark(function _callee48(e){var t,a,r,n,o;return B.a.wrap(function _callee48$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.name,a=e.description,r=e.metadata,n=void 0===r?{}:r,o=e.bitcode,i.next=3,_t.CreateContentType({name:t,metadata:Z()({},n,{"eluv.description":a}),bitcode:o});case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},_callee48)})),function CreateContentType(e){return Pe.apply(this,arguments)}),AppUrls:(Te=U()(B.a.mark(function _callee49(e){var t,a,r,n,o;return B.a.wrap(function _callee49$(i){for(;;)switch(i.prev=i.next){case 0:if((t=e.object)&&t.meta){i.next=3;break}return i.abrupt("return",{});case 3:a=["display","manage","review"],r={},n=0;case 6:if(!(n<a.length)){i.next=15;break}if(o=a[n],!t.meta["eluv.".concat(o,"App")]){i.next=12;break}return i.next=11,At.FileUrl({libraryId:At.contentSpaceLibraryId,objectId:t.id,filePath:t.meta["eluv.".concat(o,"App")]});case 11:r["".concat(o,"AppUrl")]=i.sent;case 12:n++,i.next=6;break;case 15:return i.abrupt("return",r);case 16:case"end":return i.stop()}},_callee49)})),function AppUrls(e){return Te.apply(this,arguments)}),ListContentTypes:(Me=U()(B.a.mark(function _callee50(e){var t,a,r,n,o,i,c,s,l,u,p,d,m;return B.a.wrap(function _callee50$(h){for(;;)switch(h.prev=h.next){case 0:return t=e.params,h.t0=Object,h.next=4,_t.ContentTypes();case 4:h.t1=h.sent,a=h.t0.values.call(h.t0,h.t1),t.filter&&(a=a.filter(function(e){try{return(e.meta.name||"").toLowerCase().includes(t.filter.toLowerCase())}catch(e){return!1}})),r=a.length,a=a.sort(function(e,t){var a=e.meta.name||"zz",r=t.meta.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),n=t.page-1,o=t.perPage||10,a=a.slice(n*o,(n+1)*o),i={},c=!0,s=!1,l=void 0,h.prev=16,u=a[Symbol.iterator]();case 18:if(c=(p=u.next()).done){h.next=47;break}return d=p.value,h.prev=20,h.next=23,At.GetContentObjectOwner({objectId:d.id});case 23:return m=h.sent,h.t2=Z.a,h.t3={},h.t4=d,h.t5=d.meta.name||"",h.t6=d.meta["eluv.description"]||d.meta.description,h.t7=m,h.t8=ie.c,h.t9=m,h.next=34,At.CurrentAccountAddress();case 34:h.t10=h.sent,h.t11=(0,h.t8)(h.t9,h.t10),h.t12={name:h.t5,description:h.t6,owner:h.t7,isOwner:h.t11},i[d.id]=(0,h.t2)(h.t3,h.t4,h.t12),h.next=44;break;case 40:h.prev=40,h.t13=h.catch(20),console.error("Failed to list content type "+d.id),console.error(h.t13);case 44:c=!0,h.next=18;break;case 47:h.next=53;break;case 49:h.prev=49,h.t14=h.catch(16),s=!0,l=h.t14;case 53:h.prev=53,h.prev=54,c||null==u.return||u.return();case 56:if(h.prev=56,!s){h.next=59;break}throw l;case 59:return h.finish(56);case 60:return h.finish(53);case 61:return h.abrupt("return",{types:i,count:r});case 62:case"end":return h.stop()}},_callee50,null,[[16,49,53,61],[20,40],[54,,56,60]])})),function ListContentTypes(e){return Me.apply(this,arguments)}),ContentTypes:(Le=U()(B.a.mark(function _callee52(){var e,t;return B.a.wrap(function _callee52$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_t.ContentTypes();case 2:return e=a.sent,a.next=5,_t.ContentObjectMetadata({libraryId:At.contentSpaceLibraryId,objectId:At.contentSpaceObjectId,metadataSubtree:"contentTypes"});case 5:return t=a.sent,a.next=8,Object.values(t).limitedMap(5,function(){var t=U()(B.a.mark(function _callee51(t){return B.a.wrap(function _callee51$(a){for(;;)switch(a.prev=a.next){case 0:if(!e[t]){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,_t.ContentType({typeId:t});case 4:e[t]=a.sent;case 5:case"end":return a.stop()}},_callee51)}));return function(e){return t.apply(this,arguments)}}());case 8:return a.abrupt("return",e);case 9:case"end":return a.stop()}},_callee52)})),function ContentTypes(){return Le.apply(this,arguments)}),GetContentType:(Fe=U()(B.a.mark(function _callee53(e){var t,a,r;return B.a.wrap(function _callee53$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.versionHash,n.next=3,_t.ContentType({versionHash:t});case 3:return a=n.sent,n.next=6,At.AppUrls({object:a});case 6:return r=n.sent,n.abrupt("return",Z()({},a,r));case 8:case"end":return n.stop()}},_callee53)})),function GetContentType(e){return Fe.apply(this,arguments)}),GetContentLibraryPermissions:(Ne=U()(B.a.mark(function _callee54(e){var t,a,r,n;return B.a.wrap(function _callee54$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,o.next=3,_t.CurrentAccountAddress();case 3:return a=o.sent,o.next=6,At.CallContractMethod({contractAddress:_t.utils.HashToAddress(t),abi:te.a.abi,methodName:"canContribute",methodArgs:[a]});case 6:return r=o.sent,o.next=9,At.CallContractMethod({contractAddress:_t.utils.HashToAddress(t),abi:te.a.abi,methodName:"canReview",methodArgs:[a]});case 9:return n=o.sent,o.abrupt("return",{canContribute:r,canReview:n});case 11:case"end":return o.stop()}},_callee54)})),function GetContentLibraryPermissions(e){return Ne.apply(this,arguments)}),GetContentObjectPermissions:(Oe=U()(B.a.mark(function _callee55(e){var t;return B.a.wrap(function _callee55$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,e.objectId,a.next=3,At.GetContentLibraryPermissions({libraryId:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee55)})),function GetContentObjectPermissions(e){return Oe.apply(this,arguments)}),GetContentObjectStatus:(Ae=U()(B.a.mark(function _callee56(e){var t,a,r;return B.a.wrap(function _callee56$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,n.next=3,At.CallContractMethod({contractAddress:_t.utils.HashToAddress(t),abi:re.a.abi,methodName:"statusCode",methodArgs:[]});case 3:return a=n.sent,n.next=6,At.CallContractMethod({contractAddress:_t.utils.HashToAddress(t),abi:re.a.abi,methodName:"statusDescription",methodArgs:[]});case 6:return r=n.sent,n.abrupt("return",{code:parseInt(a._hex,16),description:Object(ie.b)(r)});case 8:case"end":return n.stop()}},_callee56)})),function GetContentObjectStatus(e){return Ae.apply(this,arguments)}),PublishContentObject:(_e=U()(B.a.mark(function _callee57(e){var t;return B.a.wrap(function _callee57$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,_t.CallContractMethodAndWait({contractAddress:_t.utils.HashToAddress(t),abi:re.a.abi,methodName:"publish",methodArgs:[]});case 3:case"end":return a.stop()}},_callee57)})),function PublishContentObject(e){return _e.apply(this,arguments)}),ReviewContentObject:(Ee=U()(B.a.mark(function _callee58(e){var t,a,r,n;return B.a.wrap(function _callee58$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.approve,n=e.note,o.next=3,_t.CallContractMethodAndWait({contractAddress:_t.utils.HashToAddress(t),abi:te.a.abi,methodName:"approveContent",methodArgs:[_t.utils.HashToAddress(a),r,n]});case 3:case"end":return o.stop()}},_callee58)})),function ReviewContentObject(e){return Ee.apply(this,arguments)}),SetAccessCharge:(Ie=U()(B.a.mark(function _callee59(e){var t,a,r;return B.a.wrap(function _callee59$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,a=e.accessCharge,n.next=3,At.CallContractMethod({contractAddress:At.utils.HashToAddress(t),abi:re.a.abi,methodName:"accessCharge"});case 3:if(r=n.sent,r=parseInt(r._hex,16),!At.utils.EtherToWei(a).isEqualTo(r)){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,_t.SetAccessCharge({objectId:t,accessCharge:a});case 10:case"end":return n.stop()}},_callee59)})),function SetAccessCharge(e){return Ie.apply(this,arguments)}),UploadFiles:(je=U()(B.a.mark(function _callee60(e){var t,a,r,n,o;return B.a.wrap(function _callee60$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.fileInfo,o=e.callback,i.next=3,_t.UploadFiles({libraryId:t,objectId:a,writeToken:r,fileInfo:n,callback:o});case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},_callee60)})),function UploadFiles(e){return je.apply(this,arguments)}),DeleteFiles:(Se=U()(B.a.mark(function _callee61(e){var t,a,r,n;return B.a.wrap(function _callee61$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.filePaths,o.next=3,_t.DeleteFiles({libraryId:t,objectId:a,writeToken:r,filePaths:n});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},_callee61)})),function DeleteFiles(e){return Se.apply(this,arguments)}),DownloadFile:function DownloadFile(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath,o=e.format,i=void 0===o?"arrayBuffer":o;return _t.DownloadFile({libraryId:t,objectId:a,versionHash:r,filePath:n,format:i})},FileUrl:function FileUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath;return _t.FileUrl({libraryId:t,objectId:a,versionHash:r,filePath:n})},ListParts:function ListParts(e){var t=e.libraryId,a=e.objectId,r=e.versionHash;return _t.ContentParts({libraryId:t,objectId:a,versionHash:r})},DownloadPart:function DownloadPart(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,o=e.format,i=void 0===o?"blob":o,c=e.chunked,s=void 0!==c&&c,l=e.chunkSize,u=void 0===l?1e7:l,p=e.callback;return _t.DownloadPart({libraryId:t,objectId:a,versionHash:r,partHash:n,format:i,chunked:s,chunkSize:u,callback:p})},UploadPart:(we=U()(B.a.mark(function _callee62(e){var t,a,r,n,o,i,c,s,l,u,p,d,m,h,b,f,y,v;return B.a.wrap(function _callee62$(g){for(;;)switch(g.prev=g.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.file,o=e.chunkSize,i=void 0===o?1e6:o,c=e.encrypt,s=void 0!==c&&c,l=e.callback,u=s?"cgck":"none",g.next=4,_t.CreatePart({libraryId:t,objectId:a,writeToken:r,encryption:u});case 4:p=g.sent,l&&l({uploaded:0,total:n.size}),m=0,h=Math.ceil(n.size/i),b=0;case 9:if(!(b<h)){g.next=28;break}return f=b*i,y=Math.min(f+i,n.size),g.next=14,n.slice(f,y).arrayBuffer();case 14:if(v=g.sent,!s){g.next=19;break}return g.next=18,_t.Encrypt({libraryId:t,objectId:a,writeToken:r,chunk:v});case 18:v=g.sent;case 19:if(!d){g.next=23;break}return g.next=22,d;case 22:l&&l({uploaded:m,total:n.size});case 23:d=_t.UploadPartChunk({libraryId:t,objectId:a,writeToken:r,partWriteToken:p,chunk:v,encryption:"none"}),m=y;case 25:b++,g.next=9;break;case 28:return g.next=30,d;case 30:return l&&l({uploaded:m,total:n.size}),g.next=33,_t.FinalizePart({libraryId:t,objectId:a,writeToken:r,partWriteToken:p,encryption:u});case 33:return g.abrupt("return",g.sent);case 34:case"end":return g.stop()}},_callee62)})),function UploadPart(e){return we.apply(this,arguments)}),FabricUrl:function FabricUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash;return _t.FabricUrl({libraryId:t,objectId:a,versionHash:r,partHash:n})},FormatContractArguments:function FormatContractArguments(e){var t=e.abi,a=e.methodName,r=e.args;return _t.FormatContractArguments({abi:t,methodName:a,args:r})},DeployContract:function DeployContract(e){var t=e.abi,a=e.bytecode,r=e.constructorArgs;return _t.DeployContract({abi:t,bytecode:a,constructorArgs:r})},CallContractMethod:function CallContractMethod(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value;return _t.CallContractMethod({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:o})},CallContractMethodAndWait:function CallContractMethodAndWait(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value;return _t.CallContractMethodAndWait({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:o})},SetCustomContentContract:function SetCustomContentContract(e){var t=e.libraryId,a=e.objectId,r=e.name,n=e.description,o=e.customContractAddress,i=e.abi,c=e.factoryAbi,s=e.overrides,l=void 0===s?{}:s;return _t.SetCustomContentContract({libraryId:t,objectId:a,name:r,description:n,customContractAddress:o,abi:i,factoryAbi:c,overrides:l})},FormatEvents:(ke=U()(B.a.mark(function _callee64(e){var t,a;return B.a.wrap(function _callee64$(r){for(;;)switch(r.prev=r.next){case 0:return t={},a=[],e.forEach(function(e){e.forEach(function(e){var t=At.utils.FormatAddress(e.from);if(a.includes(t)||a.push(t),e.to){var r=At.utils.FormatAddress(e.to);a.includes(r)||a.push(r)}})}),r.next=5,a.limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee63(e){return B.a.wrap(function _callee63$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_t.userProfileClient.PublicUserMetadata({address:e,metadataSubtree:"name"});case 2:t[e]=a.sent;case 3:case"end":return a.stop()}},_callee63)}));return function(t){return e.apply(this,arguments)}}());case 5:return r.abrupt("return",e.map(function(e){return e.map(function(e){var a=t[At.utils.FormatAddress(e.from)],r=e.to?t[At.utils.FormatAddress(e.to)]:void 0;return Z()({},e,{fromName:a,toName:r})})}));case 6:case"end":return r.stop()}},_callee64)})),function FormatEvents(e){return ke.apply(this,arguments)}),ContractName:(xe=U()(B.a.mark(function _callee65(e){return B.a.wrap(function _callee65$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_t.ContractName({contractAddress:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee65)})),function ContractName(e){return xe.apply(this,arguments)}),ContractEvent:(Ce=U()(B.a.mark(function _callee66(e){var t,a;return B.a.wrap(function _callee66$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.abi,a=e.transactionHash,r.next=3,_t.ContractEvent({abi:t,transactionHash:a});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee66)})),function ContractEvent(e){return Ce.apply(this,arguments)}),ContractEvents:(ge=U()(B.a.mark(function _callee67(e){var t,a,r,n;return B.a.wrap(function _callee67$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.contractAddress,a=e.abi,r=e.fromBlock,n=e.toBlock,o.t0=At,o.next=4,_t.ContractEvents({contractAddress:t,abi:a,fromBlock:r,toBlock:n,includeTransaction:!0});case 4:return o.t1=o.sent,o.next=7,o.t0.FormatEvents.call(o.t0,o.t1);case 7:return o.abrupt("return",o.sent);case 8:case"end":return o.stop()}},_callee67)})),function ContractEvents(e){return ge.apply(this,arguments)}),WithdrawContractFunds:function WithdrawContractFunds(e){var t=e.contractAddress,a=e.abi,r=e.ether;return _t.WithdrawContractFunds({contractAddress:t,abi:a,ether:r})},GetBlockchainEvents:(ve=U()(B.a.mark(function _callee68(e){var t,a,r,n;return B.a.wrap(function _callee68$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.toBlock,a=e.fromBlock,r=e.count,n=void 0===r?10:r,o.t0=At,o.next=4,_t.Events({toBlock:t,fromBlock:a,count:n,includeTransaction:!0});case 4:return o.t1=o.sent,o.next=7,o.t0.FormatEvents.call(o.t0,o.t1);case 7:return o.abrupt("return",o.sent);case 8:case"end":return o.stop()}},_callee68)})),function GetBlockchainEvents(e){return ve.apply(this,arguments)}),GetBlockNumber:(ye=U()(B.a.mark(function _callee69(){return B.a.wrap(function _callee69$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.BlockNumber();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee69)})),function GetBlockNumber(){return ye.apply(this,arguments)}),VerifyContentObject:function VerifyContentObject(e){var t=e.libraryId,a=e.objectId,r=e.versionHash;return _t.VerifyContentObject({libraryId:t,objectId:a,versionHash:r})},Proofs:function Proofs(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash;return _t.Proofs({libraryId:t,objectId:a,versionHash:r,partHash:n})},GetBalance:function GetBalance(e){var t=e.address;return _t.GetBalance({address:t})},SendFunds:function SendFunds(e){var t=e.recipient,a=e.ether;return _t.SendFunds({recipient:t,ether:a})},FilterContracts:function FilterContracts(e){var t=e.contracts,a=e.params,r=Object.values(t);a.filter&&(r=r.filter(function(e){try{return e.name.toLowerCase().includes(a.filter.toLowerCase())||e.description.toLowerCase().includes(a.filter.toLowerCase())}catch(e){return!1}}));var n=(r=r.sort(function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1})).length;if(a.paginate){var o=(a.page||1)-1,i=a.perPage||10;r=r.slice(o*i,(o+1)*i)}return t={},r.forEach(function(e){return t[e.address||e.name]=e}),{contracts:t,count:n}},Contracts:(fe=U()(B.a.mark(function _callee70(e){var t,a;return B.a.wrap(function _callee70$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.next=3,_t.userProfileClient.UserMetadata({metadataSubtree:"contracts"});case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0={};case 6:return a=r.t0,r.abrupt("return",At.FilterContracts({contracts:a,params:t}));case 8:case"end":return r.stop()}},_callee70)})),function Contracts(e){return fe.apply(this,arguments)}),DeployedContracts:(be=U()(B.a.mark(function _callee71(e){var t,a;return B.a.wrap(function _callee71$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.next=3,_t.userProfileClient.UserMetadata({metadataSubtree:"deployedContracts"});case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0={};case 6:return a=r.t0,r.abrupt("return",At.FilterContracts({contracts:a,params:t}));case 8:case"end":return r.stop()}},_callee71)})),function DeployedContracts(e){return be.apply(this,arguments)}),AddContract:(he=U()(B.a.mark(function _callee72(e){var t,a,r,n;return B.a.wrap(function _callee72$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,a=e.description,r=e.abi,n=e.bytecode,o.next=3,_t.userProfileClient.MergeUserMetadata({metadataSubtree:X()("contracts",t),metadata:{name:t,description:a,abi:r,bytecode:n}});case 3:case"end":return o.stop()}},_callee72)})),function AddContract(e){return he.apply(this,arguments)}),RemoveContract:(me=U()(B.a.mark(function _callee73(e){var t;return B.a.wrap(function _callee73$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.name,a.next=3,_t.userProfileClient.DeleteUserMetadata({metadataSubtree:X()("contracts",t)});case 3:case"end":return a.stop()}},_callee73)})),function RemoveContract(e){return me.apply(this,arguments)}),AddDeployedContract:(de=U()(B.a.mark(function _callee74(e){var t,a,r,n,o,i;return B.a.wrap(function _callee74$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.name,a=e.description,r=e.address,n=e.abi,o=e.bytecode,i=e.owner,r=Object(ie.d)(r),c.next=4,_t.userProfileClient.MergeUserMetadata({metadataSubtree:X()("deployedContracts",r),metadata:{name:t,description:a,address:r,abi:n,bytecode:o,owner:i}});case 4:case"end":return c.stop()}},_callee74)})),function AddDeployedContract(e){return de.apply(this,arguments)}),RemoveDeployedContract:(pe=U()(B.a.mark(function _callee75(e){var t;return B.a.wrap(function _callee75$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,_t.userProfileClient.DeleteUserMetadata({metadataSubtree:X()("deployedContracts",t)});case 3:case"end":return a.stop()}},_callee75)})),function RemoveDeployedContract(e){return pe.apply(this,arguments)}),ListAccessGroups:(ue=U()(B.a.mark(function _callee78(e){var t,a,r,n,o,i,c,s;return B.a.wrap(function _callee78$(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.params).libraryId){l.next=11;break}return l.next=4,_t.CallContractMethod({contractAddress:_t.utils.HashToAddress(t.libraryId),abi:te.a.abi,methodName:t.type+"GroupsLength"});case 4:return r=l.sent,r=parseInt(r._hex,16),l.next=8,K()(Array(r)).limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee76(e,a){return B.a.wrap(function _callee76$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=At.utils,e.next=4,_t.CallContractMethod({contractAddress:_t.utils.HashToAddress(t.libraryId),abi:te.a.abi,methodName:t.type+"Groups",methodArgs:[a]});case 4:return e.t1=e.sent,e.abrupt("return",e.t0.FormatAddress.call(e.t0,e.t1));case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}},_callee76,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}());case 8:a=l.sent,l.next=14;break;case 11:return l.next=13,_t.Collection({collectionType:"accessGroups"});case 13:a=l.sent;case 14:return l.next=16,a.limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee77(e){return B.a.wrap(function _callee77$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At.GetAccessGroup({contractAddress:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee77)}));return function(t){return e.apply(this,arguments)}}());case 16:return n=l.sent,t.filter&&(n=n.filter(function(e){try{return e.name.toLowerCase().includes(t.filter.toLowerCase())||e.address.toLowerCase().includes(t.filter.toLowerCase())}catch(e){return!1}})),n=n.sort(function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),o=n.length,t.paginate&&(i=(t.page||1)-1,c=t.perPage||10,n=n.slice(i*c,(i+1)*c)),s={},n.forEach(function(e){return s[At.utils.FormatAddress(e.address)]=e}),l.abrupt("return",{accessGroups:s,count:o});case 24:case"end":return l.stop()}},_callee78)})),function ListAccessGroups(e){return ue.apply(this,arguments)}),GetAccessGroup:(le=U()(B.a.mark(function _callee79(e){var t,a,r,n,o,i;return B.a.wrap(function _callee79$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.contractAddress,t=At.utils.FormatAddress(t),c.next=4,At.CurrentAccountAddress();case 4:return a=c.sent,i=!1,c.prev=6,c.t0=At.utils,c.next=10,_t.CallContractMethod({contractAddress:t,abi:oe.a.abi,methodName:"owner"});case 10:return c.t1=c.sent,r=c.t0.FormatAddress.call(c.t0,c.t1),c.next=14,_t.userProfileClient.PublicUserMetadata({address:r,metadataSubtree:"name"});case 14:return n=c.sent,c.next=17,_t.CallContractMethod({contractAddress:t,abi:oe.a.abi,methodName:"hasManagerAccess",methodArgs:[_t.utils.FormatAddress(a)]});case 17:return i=c.sent,c.next=20,_t.ContentObjectMetadata({libraryId:At.contentSpaceLibraryId,objectId:_t.utils.AddressToObjectId(t)});case 20:if(c.t2=c.sent,c.t2){c.next=23;break}c.t2={};case 23:o=c.t2,c.next=29;break;case 26:c.prev=26,c.t3=c.catch(6),console.error(c.t3);case 29:return c.abrupt("return",{address:t,name:o.name||t,description:o.description,metadata:o,owner:r,ownerName:n,isManager:i,isOwner:_t.utils.EqualAddress(r,a)});case 30:case"end":return c.stop()}},_callee79,null,[[6,26]])})),function GetAccessGroup(e){return le.apply(this,arguments)}),ListAccessGroupMembers:(se=U()(B.a.mark(function _callee81(e){var t,a,r,n,o,i,c,s,l,u,p;return B.a.wrap(function _callee81$(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.contractAddress,a=e.showManagers,r=void 0!==a&&a,n=e.params,!r){d.next=7;break}return d.next=4,_t.AccessGroupManagers({contractAddress:t});case 4:d.t0=d.sent,d.next=10;break;case 7:return d.next=9,_t.AccessGroupMembers({contractAddress:t});case 9:d.t0=d.sent;case 10:return o=d.t0,d.next=13,o.limitedMap(At.concurrencyLimit,function(){var e=U()(B.a.mark(function _callee80(e){var t;return B.a.wrap(function _callee80$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_t.userProfileClient.PublicUserMetadata({address:e,metadataSubtree:"name"});case 2:return t=a.sent,a.abrupt("return",{name:t||e,address:e});case 4:case"end":return a.stop()}},_callee80)}));return function(t){return e.apply(this,arguments)}}());case 13:return i=d.sent,d.next=16,At.CurrentAccountAddress();case 16:return c=d.sent,s=(s=Object.values(i)).map(function(e){return Z()({},e,{isCurrentAccount:Object(ie.c)(e.address,c)})}),n.filter&&(s=s.filter(function(e){try{return e.name.toLowerCase().includes(n.filter.toLowerCase())||e.address.toLowerCase().includes(n.filter.toLowerCase())}catch(e){return!1}})),s=s.sort(function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),l=s.length,n.paginate&&(u=(n.page||1)-1,p=n.perPage||10,s=s.slice(u*p,(u+1)*p)),i={},s.forEach(function(e){return i[e.address]=e}),d.abrupt("return",{members:i,count:l});case 26:case"end":return d.stop()}},_callee81)})),function ListAccessGroupMembers(e){return se.apply(this,arguments)})},Ot=At,Nt=a(5),Ft=a(6),Lt=a.n(Ft),Mt=a(3),Tt=a.n(Mt),Pt=function PageHeader(e){var t=e.header,a=e.subHeader;return a&&(a=s.a.createElement("h3",{className:"page-subheader"},a)),s.a.createElement("div",{className:"page-header-container"},s.a.createElement("h3",{className:"page-header with-subHeader"},t),a)};Pt.propTypes={header:Tt.a.string.isRequired,subHeader:Tt.a.string};var Ht=a(25),Gt=a.n(Ht),Rt=a(197),zt=a.n(Rt),Dt=a(198),Bt=a.n(Dt),$t=a(83),Ut=a.n($t),qt=a(36),Vt=a.n(qt),Wt=a(28),Kt=function(e){function RedirectElement(e){var t;return d()(this,RedirectElement),(t=f()(this,v()(RedirectElement).call(this,e))).state={redirect:!1},t}return C()(RedirectElement,e),h()(RedirectElement,[{key:"render",value:function render(){var e=this;if(!this.props.to)return this.props.children;if(this.state.redirect)return s.a.createElement(Wt.a,{push:!0,to:this.props.to});var t=function onClick(){return e.setState({redirect:!0})};return s.a.cloneElement(this.props.children,{onClick:t,onKeyPress:t,tabIndex:"0"})}}]),RedirectElement}(s.a.Component);Kt.propTypes={to:Tt.a.string,children:Tt.a.element.isRequired};var Jt,Zt,Yt=Kt,Qt=Object(P.c)(Jt=function(e){function ListingItem(e){var t;return d()(this,ListingItem),(t=f()(this,v()(ListingItem).call(this,e))).state={},t}return C()(ListingItem,e),h()(ListingItem,[{key:"Redirect",value:function Redirect(e){this.setState({redirect:e})}},{key:"AsTableRow",value:function AsTableRow(){return s.a.createElement(Yt,{to:this.props.link},s.a.createElement("tr",{title:this.props.title,"aria-label":this.props.title,className:this.props.link?"listing-link":""},s.a.createElement("td",{className:"icon-cell",hidden:this.props.noIcon},s.a.createElement(T.g,{className:"icon-container",icon:this.props.icon})),s.a.createElement("td",{className:"title-cell",title:this.props.title},s.a.createElement("div",{className:"cropped-text",tabIndex:-1},this.props.title)),s.a.createElement("td",{className:"description-cell",title:this.props.description},s.a.createElement("div",{className:"cropped-text",tabIndex:-1},this.props.description)),s.a.createElement("td",{className:"status-cell",title:this.props.status,hidden:this.props.noStatus},this.props.status)))}},{key:"AsGridElement",value:function AsGridElement(){return s.a.createElement(S.a,{to:this.props.link,title:this.props.title,"aria-label":this.props.title,className:"grid-listing-element"},s.a.createElement(T.g,{className:"icon-container",icon:this.props.icon}),s.a.createElement("div",{className:"listing-info"},s.a.createElement("div",{className:"title"},this.props.title),s.a.createElement("div",{className:"description",title:this.props.description},this.props.description),s.a.createElement("div",{className:"status"},this.props.status)))}},{key:"render",value:function render(){return this.state.redirect?s.a.createElement(Wt.a,{push:!0,to:this.state.redirect}):"list"===this.props.display?this.AsTableRow():this.AsGridElement()}}]),ListingItem}(s.a.Component))||Jt;Qt.propTypes={id:Tt.a.string.isRequired,title:Tt.a.string.isRequired,description:Tt.a.string,status:Tt.a.oneOfType([Tt.a.string,Tt.a.node]),icon:Tt.a.oneOfType([Tt.a.element,Tt.a.string]),link:Tt.a.string,noIcon:Tt.a.bool};var Xt=Object(P.c)(Zt=function(e){function Listing(){return d()(this,Listing),f()(this,v()(Listing).apply(this,arguments))}return C()(Listing,e),h()(Listing,[{key:"render",value:function render(){var e=this;if(!this.props.count||0===this.props.count)return null;var t=this.props.RenderContent();return t&&0!==t.length?"list"===this.props.display?s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"icon-header",hidden:this.props.noIcon}),s.a.createElement("th",{className:"title-header"}),s.a.createElement("th",{className:"description-header"}),s.a.createElement("th",{className:"status-header",hidden:this.props.noStatus}))),s.a.createElement("tbody",null,t.map(function(t){return s.a.createElement(Qt,Vt()({key:t.id,display:"list",noIcon:e.props.noIcon,noStatus:e.props.noStatus},t))}))):s.a.createElement("div",{className:"grid-listing"},t.map(function(t){return s.a.createElement(Qt,Vt()({key:t.id,display:"grid",noIcon:e.props.noIcon,noStatus:e.props.noStatus},t))})):null}}]),Listing}(s.a.Component))||Zt;Xt.propTypes={count:Tt.a.number,display:Tt.a.string.isRequired,RenderContent:Tt.a.func.isRequired,noIcon:Tt.a.bool,noStatus:Tt.a.bool};var ea,ta,aa,ra=Xt,na=a(148),oa={},ia=Object(P.b)("libraryStore")(ea=Object(P.c)((aa=ta=function(e){function Listing(e){var t;d()(this,Listing),t=f()(this,v()(Listing).call(this,e));var a=oa[e.pageId]||{display:"list",perPage:10};return oa[e.pageId]=a,t.state={display:a.display,perPage:a.perPage,page:1,selectFilter:t.props.selectFilterOptions?a.filter||t.props.selectFilterOptions[0][1]:"",filter:"",filterTimeout:void 0,status:{loading:!0,error:""}},t.Load=t.Load.bind(Lt()(t)),t.Filter=t.Filter.bind(Lt()(t)),t.ChangeSelectFilter=t.ChangeSelectFilter.bind(Lt()(t)),t}var t;return C()(Listing,e),h()(Listing,[{key:"componentDidMount",value:function componentDidMount(){this.Load(Listing.ACTIONS.initial)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancelable&&this.cancelable.cancelAll()}},{key:"Load",value:(t=U()(B.a.mark(function _callee(e){return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({status:{loading:!0,error:""}}),t.prev=1,this.cancelable&&this.cancelable.cancelAll(),this.cancelable=new na.CancelableEvents,t.next=6,this.props.LoadContent({action:e,params:{paginate:!0,page:this.state.page,perPage:this.state.perPage,filter:this.state.filter,selectFilter:this.state.selectFilter,cancelable:this.cancelable}});case 6:this.setState({status:{loading:!1,error:""}}),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),!Object(na.isCancelledPromiseError)(t.t0)){t.next=13;break}return t.abrupt("return");case 13:this.setState({status:{loading:!1,error:t.t0.message}});case 14:case"end":return t.stop()}},_callee,this,[[1,9]])})),function Load(e){return t.apply(this,arguments)})},{key:"SwitchView",value:function SwitchView(e){oa[this.props.pageId].display=e,this.setState({display:e})}},{key:"ChangePage",value:function ChangePage(e){var t=this;this.setState({page:e},function(){return t.Load(Listing.ACTIONS.page)})}},{key:"ChangeSelectFilter",value:function ChangeSelectFilter(e){var t=this;oa[this.props.pageId].filter=e.target.value,this.setState({page:1,selectFilter:e.target.value},function(){return t.Load(Listing.ACTIONS.filter)})}},{key:"Filter",value:function Filter(e){var t=this,a=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({page:1,filter:a,filterTimeout:setTimeout(function(){return t.Load(Listing.ACTIONS.filter)},500)})}},{key:"SelectFilter",value:function SelectFilter(){if(this.props.selectFilterOptions){var e=this.props.selectFilterOptions.map(function(e){var t=Gt()(e,2),a=t[0],r=t[1];return s.a.createElement("option",{key:"select-option-".concat(r),value:r},a)});return s.a.createElement("select",{name:"selectFilter",value:this.state.selectFilter,title:this.props.selectFilterLabel,"aria-label":this.props.selectFilterLabel,onChange:this.ChangeSelectFilter},e)}}},{key:"PageButton",value:function PageButton(e,t,a,r){var n=this,o=t!==a;return s.a.createElement("li",{key:e},s.a.createElement("button",{title:"Page "+a,"aria-label":"Page "+a,onClick:function onClick(){return n.ChangePage(a)},onKeyPress:function onKeyPress(){return n.ChangePage(a)},disabled:r,className:"page-button ".concat(o?"text-button":""," ").concat(!o&&r?"selected":"")},t.toString()))}},{key:"PageSpread",value:function PageSpread(){var e=this;if(this.props.count){var t=Math.ceil(this.props.count/this.state.perPage),a=1,r=Math.min(10,t);this.state.page>=5&&(r=(a=this.state.page-4)+9)>t&&(r=t,a=Math.max(t-9,1));var n=r-a+1;return K()(Array(n).keys()).map(function(t){var r=a+t;return e.PageButton("Page "+r,r,r,r===e.state.page)})}}},{key:"PreviousPageButtons",value:function PreviousPageButtons(){var e=this.state.page<=1;return[this.PageButton("First Page","First",1,e),this.PageButton("Previous Page","Prev",this.state.page-1,e)]}},{key:"NextPageButtons",value:function NextPageButtons(){var e=Math.ceil(this.props.count/this.state.perPage),t=this.state.page*this.state.perPage>=this.props.count;return[this.PageButton("Next Page","Next",this.state.page+1,t),this.PageButton("Last Page","Last",e,t)]}},{key:"PaginationControls",value:function PaginationControls(){if(this.props.paginate)return s.a.createElement("ul",{className:"page-controls"},this.PreviousPageButtons(),this.PageSpread(),this.NextPageButtons())}},{key:"PerPageControls",value:function PerPageControls(){var e=this;return s.a.createElement("select",{className:"per-page-controls",disabled:this.state.status.loading,value:this.state.perPage,onChange:function onChange(t){var a=parseInt(t.target.value);e.setState({page:1,perPage:a},function(){return e.Load(Listing.ACTIONS.page)}),oa[e.props.pageId].perPage=a}},s.a.createElement("option",{value:5},"5"),s.a.createElement("option",{value:10},"10"),s.a.createElement("option",{value:20},"20"),s.a.createElement("option",{value:50},"50"),s.a.createElement("option",{value:100},"100"))}},{key:"Actions",value:function Actions(){var e,t=this;return this.props.noIcon||(e="list"===this.state.display?s.a.createElement(T.j,{className:"listing-action",icon:zt.a,label:"Switch to grid view",onClick:function onClick(){return t.SwitchView("grid")}}):s.a.createElement(T.j,{className:"listing-action",icon:Bt.a,label:"Switch to list view",onClick:function onClick(){return t.SwitchView("list")}})),s.a.createElement("div",{className:"listing-actions"},s.a.createElement("div",{className:"controls"},this.PaginationControls(),this.PerPageControls()),s.a.createElement("div",{className:"controls right-controls"},s.a.createElement("input",{className:"filter",placeholder:"Filter",value:this.state.filter,onChange:this.Filter}),this.SelectFilter(),e,s.a.createElement(T.m,{loadingClassname:"loading-action",loading:this.state.status.loading,loadingIcon:"rotate"},s.a.createElement(T.j,{className:"listing-action",icon:Ut.a,label:"Refresh",onClick:function onClick(){return t.Load(Listing.ACTIONS.reload)}}))))}},{key:"Count",value:function Count(){if(0===this.props.count)return s.a.createElement("div",{className:"listing-count"},"No results to display");if(!this.props.count)return null;var e=(this.state.page-1)*this.state.perPage+1,t=Math.min(e+this.state.perPage-1,this.props.count);return s.a.createElement("div",{className:"listing-count"},"Displaying results ".concat(e," - ").concat(t," of ").concat(this.props.count))}},{key:"render",value:function render(){var e=this;return this.state.status.error?s.a.createElement("div",{className:"error-page"},s.a.createElement("div",null,"There was a problem loading this page:"),s.a.createElement("div",{className:"error-message"},this.state.status.error),s.a.createElement(T.m,{loading:this.state.status.loading,loadingIcon:"rotate"},s.a.createElement(T.a,{onClick:function onClick(){return e.Load(Listing.ACTIONS.reload)}},"Try Again"))):s.a.createElement("div",{key:"listing-".concat(this.props.pageId),className:"listing ".concat(this.props.className||"")},this.Actions(),s.a.createElement(T.m,{loading:this.state.status.loading,loadingClassname:"loading",loadingIcon:"rotate"},this.Count(),s.a.createElement(ra,{count:this.props.count,display:this.state.display,noIcon:this.props.noIcon,noStatus:this.props.noStatus,RenderContent:this.props.RenderContent})))}}]),Listing}(s.a.Component),ta.ACTIONS={initial:"INITIAL",page:"PAGE_CHANGE",filter:"FILTER",reload:"RELOAD"},ea=aa))||ea)||ea;ia.propTypes={pageId:Tt.a.string.isRequired,className:Tt.a.string,noIcon:Tt.a.bool,noStatus:Tt.a.bool,paginate:Tt.a.bool,count:Tt.a.number,selectFilterLabel:Tt.a.string,selectFilterOptions:Tt.a.arrayOf(Tt.a.arrayOf(Tt.a.string)),RenderContent:Tt.a.func.isRequired,LoadContent:Tt.a.func.isRequired};var ca,sa=ia,la=Object(P.b)("libraryStore")(ca=Object(P.c)(ca=function(e){function ContentLibraries(e){var t;return d()(this,ContentLibraries),(t=f()(this,v()(ContentLibraries).call(this,e))).state={},t.ContentLibraries=t.ContentLibraries.bind(Lt()(t)),t}return C()(ContentLibraries,e),h()(ContentLibraries,[{key:"ContentLibraries",value:function ContentLibraries(){var e=this;return this.props.libraryStore.libraries?Object.keys(this.props.libraryStore.libraries).sort().map(function(t){var a=e.props.libraryStore.libraries[t];return{id:t,sortKey:a.name||"zz",title:a.name||"Content Library "+t,description:a.description,icon:a.imageUrl||I.a,link:X()("/content",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"render",value:function render(){return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:X()("/content","create")},"New Library")),s.a.createElement(Pt,{header:"Content Libraries"}),s.a.createElement("div",{className:"page-content"},s.a.createElement(sa,{pageId:"ContentLibraries",paginate:!0,count:this.props.libraryStore.count,selectFilterLabel:"Library Types",selectFilterOptions:[["Content","content"],["All","all"],["Eluvio Media Platform","elv-media-platform"]],LoadContent:this.props.libraryStore.ListContentLibraries,RenderContent:this.ContentLibraries})))}}]),ContentLibraries}(s.a.Component))||ca)||ca,ua=a(20),pa=a.n(ua),da=a(16),ma=a.n(da),ha=a(116),ba=a.n(ha),fa=function Copyable(e){var t=e.copy,a=e.children,r=e.className;return s.a.createElement("span",{className:"copyable ".concat(r||"")},a,s.a.createElement(T.f,{copy:t||a},s.a.createElement(T.k,{className:"copy-icon",icon:ba.a})))};fa.propTypes={copy:Tt.a.string.isRequired,children:Tt.a.oneOfType([Tt.a.node,Tt.a.string]).isRequired};var ya=function LabelledField(e){var t=e.label,a=e.value,r=e.children,n=e.copyValue,o=e.alignTop,i=void 0!==o&&o,c=e.wideLabel,l=void 0!==c&&c,u=e.hidden,p=void 0!==u&&u;"string"==typeof t&&t.length>0&&(t+=":");var d=(l?"wide":"")+(i?"align-top":""),m=s.a.createElement("div",{"aria-label":t,title:a},r||a);return n&&(m=s.a.createElement(fa,{copy:n},m)),s.a.createElement("div",{className:"labelled-field"+(p?" hidden":"")},s.a.createElement("label",{htmlFor:t,className:d},t),m)},va=function(e){function ClippedText(e){var t;return d()(this,ClippedText),(t=f()(this,v()(ClippedText).call(this,e))).state={showMore:!1},t.ToggleVisibility=t.ToggleVisibility.bind(Lt()(t)),t}return C()(ClippedText,e),h()(ClippedText,[{key:"ToggleVisibility",value:function ToggleVisibility(){this.setState({showMore:!this.state.showMore})}},{key:"render",value:function render(){var e=this.state.showMore?"clipped-text show ":"clipped-text hide ",t=this.state.showMore?"cover show-less":"cover show-more",a=this.state.showMore?"Show less":"Show more";return s.a.createElement("div",{className:e+(this.props.className||""),title:a,"aria-label":a},s.a.createElement("pre",{className:"text"},this.props.text),s.a.createElement("div",{className:t,onClick:this.ToggleVisibility,onKeyPress:this.ToggleVisibility}))}}]),ClippedText}(s.a.Component);va.propTypes={text:Tt.a.string};var ga,Ca,xa,ka,wa,Sa,ja=va,Ia=Object(P.b)("libraryStore")(ga=Object(P.c)(ga=function(e){function ContentLibrary(e){var t;return d()(this,ContentLibrary),(t=f()(this,v()(ContentLibrary).call(this,e))).state={visibleItems:{},view:"content",groupsView:"accessor",version:0,pageVersion:0},t.PageContent=t.PageContent.bind(Lt()(t)),t.ContentObjects=t.ContentObjects.bind(Lt()(t)),t.AccessGroups=t.AccessGroups.bind(Lt()(t)),t}return C()(ContentLibrary,e),h()(ContentLibrary,[{key:"ToggleVisible",value:function ToggleVisible(e){this.setState({visibleItems:Z()({},this.state.visibleItems,pa()({},e,!this.state.visibleItems[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleItems[t],n=(r?"Hide ":"Show ")+e;return s.a.createElement(T.a,{className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleVisible(t)}},n)}},{key:"ToggleSection",value:function ToggleSection(e,t,a){var r,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.state.visibleItems[t];return o&&(r=n?s.a.createElement("pre",{className:"content-object-data"},JSON.stringify(a,null,2)):a),s.a.createElement("div",{className:"formatted-data"},s.a.createElement(ya,{label:e},this.ToggleButton(e,t)),r)}},{key:"LibraryContentTypes",value:function LibraryContentTypes(){var e=this.props.libraryStore.library.types;if(0===Object.keys(e).length)return null;var t=Object.values(e).map(function(e){return s.a.createElement(S.a,{key:"library-content-type-".concat(e.id),className:"inline-link",to:X()("/content-types",e.id)},e.meta.name||e.id)});return s.a.createElement("div",null,s.a.createElement(ya,{label:"Content Types",alignTop:!0},s.a.createElement("div",{className:"comma-separated-list"},t)),s.a.createElement("br",null))}},{key:"AccessGroups",value:function AccessGroups(){var e=this.props.libraryStore.library["".concat(this.state.groupsView,"Groups")];return e?Object.keys(e).map(function(t){var a=e[t];return{id:t,sortKey:(a.name||"zz").toLowerCase(),title:a.name||t,description:a.description,link:X()("/access-groups",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this,t=this.state.groupsView;return s.a.createElement("div",null,s.a.createElement(T.q,{options:[["Accessors","accessor"],["Contributors","contributor"],["Reviewers","reviewer"]],className:"secondary",selected:this.state.groupsView,onChange:function onChange(t){return e.setState({groupsView:t})}}),s.a.createElement(sa,{key:"library-access-group-listing-".concat(this.state.groupsView),className:"compact",pageId:"LibraryAccessGroups",noIcon:!0,noStatus:!0,paginate:!0,count:this.props.libraryStore.library["".concat(t,"GroupsCount")]||0,LoadContent:function(){var t=U()(B.a.mark(function _callee(t){var a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,e.props.libraryStore.ListLibraryGroups({libraryId:e.props.libraryStore.libraryId,type:e.state.groupsView,params:a});case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:this.AccessGroups}))}},{key:"ContentObjects",value:function ContentObjects(){var e=this;return this.props.libraryStore.library.objects?Object.keys(this.props.libraryStore.library.objects).map(function(t){var a,r=e.props.libraryStore.library.objects[t];return r.accessInfo&&(a=Object(ie.a)(r.accessInfo.accessCharge)),{id:t,sortKey:(r.name||"zz").toLowerCase(),title:r.name||t,description:r.description,status:a,icon:r.imageUrl||I.a,link:X()(e.props.match.url,t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"ObjectListing",value:function ObjectListing(){var e=this;return s.a.createElement(sa,{key:"library-objects-view",pageId:"ContentObjects",paginate:!0,count:this.props.libraryStore.library.objectsCount,LoadContent:function(){var t=U()(B.a.mark(function _callee2(t){var a,r;return B.a.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.action,r=t.params,a!==sa.ACTIONS.reload&&a!==sa.ACTIONS.filter&&(r.cacheId=e.props.libraryStore.library.listingCacheId),n.next=4,e.props.libraryStore.ListContentObjects({libraryId:e.props.libraryStore.libraryId,params:r});case 4:e.setState({listingVersion:e.state.listingVersion+1});case 5:case"end":return n.stop()}},_callee2)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:this.ContentObjects})}},{key:"LibraryImage",value:function LibraryImage(){return this.props.libraryStore.library.imageUrl?s.a.createElement("div",{className:"object-image"},s.a.createElement("img",{src:this.props.libraryStore.library.imageUrl})):null}},{key:"LibraryInfo",value:function LibraryInfo(){var e=this.props.libraryStore.library,t=s.a.createElement(ja,{className:"object-description",text:e.description}),a=X()(this.props.match.url,e.libraryObjectId),r=this.props.libraryStore.library.objectsCount,n=r||0===r?s.a.createElement(ya,{label:"Content Objects",value:r}):null,o=e.ownerName?s.a.createElement("span",null,e.ownerName,s.a.createElement("span",{className:"help-text"},"(",e.owner,")")):e.owner;return s.a.createElement("div",{className:"object-info label-box"},this.LibraryImage(),s.a.createElement(ya,{label:"Name"},e.name),s.a.createElement(ya,{label:"Description",alignTop:!0},t),s.a.createElement("br",null),s.a.createElement(ya,{label:"Library ID"},this.props.libraryStore.libraryId),s.a.createElement(ya,{label:"Library Object"},s.a.createElement(S.a,{className:"inline-link",to:a},e.libraryObjectId)),s.a.createElement(ya,{label:"Contract Address"},s.a.createElement(S.a,{className:"inline-link",to:X()(a,"contract")},e.contractAddress)),s.a.createElement(ya,{label:"KMS ID"},e.kmsId),s.a.createElement(ya,{label:"Owner"},o),n,s.a.createElement("br",null),this.LibraryContentTypes(),this.ToggleSection("Public Metadata","public-metadata",e.publicMeta||{},!0),this.ToggleSection("Private Metadata","private-metadata",e.privateMeta,!0))}},{key:"Actions",value:function Actions(){var e=this,t=s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"create")},this.props.libraryStore.library.isContentSpaceLibrary?"New Content Type":"Contribute");return s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"edit")},"Manage"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"types"),hidden:!this.props.libraryStore.library.isOwner},"Types"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"groups"),hidden:!this.props.libraryStore.library.isOwner},"Groups"),t,s.a.createElement(T.j,{className:"refresh-button",icon:Ut.a,label:"Refresh",onClick:function onClick(){return e.setState({pageVersion:e.state.pageVersion+1})}}))}},{key:"PageView",value:function PageView(){return"content"===this.state.view?this.ObjectListing():"info"===this.state.view?this.LibraryInfo():"groups"===this.state.view?this.AccessGroupsListing():void 0}},{key:"PageContent",value:function PageContent(){var e=this,t=s.a.createElement(T.q,{options:[["Content","content"],["Library Info","info"],["Access Groups","groups"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}});return s.a.createElement("div",{className:"page-container contents-page-container"},this.Actions(),s.a.createElement(Pt,{header:this.props.libraryStore.library.name,subHeader:this.props.libraryStore.library.description}),t,s.a.createElement("div",{className:"page-content"},this.PageView()))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{key:"library-page-".concat(this.state.pageVersion),Load:U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee3)})),render:this.PageContent})}}]),ContentLibrary}(s.a.Component))||ga)||ga,Ea=Object(P.b)("libraryStore")(Ca=Object(P.c)(Ca=function(e){function ContentLibraryForm(e){var t;return d()(this,ContentLibraryForm),(t=f()(this,v()(ContentLibraryForm).call(this,e))).state={createForm:!e.libraryStore.libraryId,name:"",description:"",publicMetadata:"{}",privateMetadata:"{}",kmsId:"",imageSelection:""},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleImageChange=t.HandleImageChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(ContentLibraryForm,e),h()(ContentLibraryForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleImageChange",value:function HandleImageChange(e){e.target.files&&this.setState({imageSelection:e.target.files[0]})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e,t;return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.state.createForm?this.props.libraryStore.CreateContentLibrary:this.props.libraryStore.UpdateContentLibrary,a.next=3,e({libraryId:this.props.libraryStore.libraryId,name:this.state.name,description:this.state.description,publicMetadata:this.state.publicMetadata,privateMetadata:this.state.privateMetadata,image:this.state.imageSelection,kmsId:this.state.kmsId});case 3:t=a.sent,this.setState({libraryId:t});case 5:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"Image",value:function Image(){return this.state.isContentSpaceLibrary?null:[s.a.createElement("label",{key:"image-selection-label",htmlFor:"imageSelection",className:"align-top"},"Image"),s.a.createElement(T.d,{key:"image-selection",name:"image",required:!1,multiple:!1,accept:"image/*",preview:!0,onChange:this.HandleImageChange})]}},{key:"PageContent",value:function PageContent(){var e=this.state.createForm?"Create content library":"Manage content library",t=ma.a.dirname(this.props.match.url),a=this.state.createForm?X()(t,this.state.libraryId||""):t;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:e,redirectPath:a,cancelPath:ma.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange,disabled:this.state.isContentSpaceLibrary}),this.Image(),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"publicMetadata"},"Public Metadata"),s.a.createElement(T.l,{name:"publicMetadata",value:this.state.publicMetadata,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"privateMetadata"},"Private Metadata"),s.a.createElement(T.l,{name:"privateMetadata",value:this.state.privateMetadata,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"kmsId"},"KMS ID",s.a.createElement("span",{className:"help-text",hidden:!this.state.createForm},"(optional)")),s.a.createElement("input",{name:"kmsId",value:this.state.kmsId,required:!1,onChange:this.HandleInputChange,disabled:!this.state.createForm}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.createForm){t.next=4;break}return t.next=3,e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId});case 3:e.setState({name:e.props.libraryStore.library.name||"",description:e.props.libraryStore.library.description||"",publicMetadata:JSON.stringify(e.props.libraryStore.library.publicMeta,null,2)||"",privateMetadata:JSON.stringify(e.props.libraryStore.library.privateMeta,null,2)||"",kmsId:e.props.libraryStore.library.kmsId||""});case 4:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),ContentLibraryForm}(s.a.Component))||Ca)||Ca,_a=Object(P.b)("libraryStore")(xa=Object(P.b)("groupStore")(xa=Object(P.c)(xa=function(e){function ContentLibraryGroupForm(e){var t;return d()(this,ContentLibraryGroupForm),(t=f()(this,v()(ContentLibraryGroupForm).call(this,e))).state={groupAddress:"",accessor:!1,reviewer:!1,contributor:!1},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleGroupChange=t.HandleGroupChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(ContentLibraryGroupForm,e),h()(ContentLibraryGroupForm,[{key:"HandleGroupChange",value:function HandleGroupChange(e){var t=this.props.libraryStore.library.groupPermissions[e.target.value]||{};this.setState({groupAddress:e.target.value,accessor:!!t.accessor,contributor:!!t.contributor,reviewer:!!t.reviewer})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.libraryStore.UpdateContentLibraryGroup({libraryId:this.props.libraryStore.libraryId,groupAddress:this.state.groupAddress,accessor:this.state.accessor,reviewer:this.state.reviewer,contributor:this.state.contributor});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"Groups",value:function Groups(){var e=this,t=Object.values(this.props.groupStore.accessGroups).map(function(e){return s.a.createElement("option",{key:"group-".concat(e.address),value:e.address},e.name)});return t=[].concat(K()(t),[s.a.createElement("option",{key:"group-address-other",value:""},"<other>")]),s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"groupAddress"},"Access Group"),s.a.createElement("select",{name:"groupAddress",onChange:this.HandleGroupChange},t),s.a.createElement("label",{htmlFor:"groupAddress"},"Address"),s.a.createElement("input",{name:"groupAddress",value:this.state.groupAddress,disabled:Object.keys(this.props.groupStore.accessGroups).includes(this.state.groupAddress),onChange:function onChange(t){return e.setState({groupAddress:t.target.value})}}))}},{key:"PageContent",value:function PageContent(){var e=this,t=ma.a.dirname(this.props.match.url);return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:"Manage access group permissions for '".concat(this.props.libraryStore.library.name||this.props.libraryStore.libraryId,"'"),redirectPath:t,cancelPath:t,OnSubmit:this.HandleSubmit,className:"small-form"},s.a.createElement("div",{className:"form-content"},this.Groups(),s.a.createElement("label",{htmlFor:"accessor"},"Accessor"),s.a.createElement("input",{type:"checkbox",checked:this.state.accessor,onChange:function onChange(){return e.setState({accessor:!e.state.accessor})}}),s.a.createElement("label",{htmlFor:"contributor"},"Contributor"),s.a.createElement("input",{type:"checkbox",checked:this.state.contributor,onChange:function onChange(){return e.setState({contributor:!e.state.contributor})}}),s.a.createElement("label",{htmlFor:"reviewer"},"Reviewer"),s.a.createElement("input",{type:"checkbox",checked:this.state.reviewer,onChange:function onChange(){return e.setState({reviewer:!e.state.reviewer})}}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){var t;return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.groupStore.ListAccessGroups({params:{}});case 2:return a.next=4,e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId});case 4:return a.next=6,e.props.libraryStore.ContentLibraryGroupPermissions({libraryId:e.props.libraryStore.libraryId});case 6:(t=Object.keys(e.props.groupStore.accessGroups)[0])&&e.HandleGroupChange({target:{value:t}});case 8:case"end":return a.stop()}},_callee2)})),render:this.PageContent})}}]),ContentLibraryGroupForm}(s.a.Component))||xa)||xa)||xa,Aa=a(117),Oa=a.n(Aa),Na=Object(P.b)("libraryStore")(ka=Object(P.b)("typeStore")(ka=Object(P.c)(ka=function(e){function ContentLibraryTypesForm(e){var t;return d()(this,ContentLibraryTypesForm),(t=f()(this,v()(ContentLibraryTypesForm).call(this,e))).state={selectedTypeIds:[],selectedTypeId:""},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleAddType=t.HandleAddType.bind(Lt()(t)),t.HandleRemoveType=t.HandleRemoveType.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(ContentLibraryTypesForm,e),h()(ContentLibraryTypesForm,[{key:"componentDidMount",value:function componentDidMount(){this.SetSelectedType()}},{key:"SetSelectedType",value:function SetSelectedType(){var e=this.AvailableTypes()[0];this.setState({selectedTypeId:e&&e.id})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleAddType",value:function HandleAddType(){this.setState({selectedTypeIds:this.state.selectedTypeIds.concat([this.state.selectedTypeId])},this.SetSelectedType)}},{key:"HandleRemoveType",value:function HandleRemoveType(e){this.setState({selectedTypeIds:this.state.selectedTypeIds.filter(function(t){return t!==e})},this.SetSelectedType)}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.libraryStore.UpdateContentLibraryTypes({libraryId:this.props.libraryStore.libraryId,typeIds:this.state.selectedTypeIds});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"AvailableTypes",value:function AvailableTypes(){var e=this;return Object.values(this.props.typeStore.allTypes).filter(function(t){return!e.state.selectedTypeIds.includes(t.id)})}},{key:"TypeSelector",value:function TypeSelector(){var e=this.AvailableTypes().map(function(e){var t=e.meta.name||e.id;return s.a.createElement("option",{name:"selectedTypeId",key:e.id,value:e.id},t)}),t=0===e.length;return s.a.createElement("div",{className:"inline-inputs"},s.a.createElement("select",{name:"selectedTypeId",value:this.state.selectedTypeId,onChange:this.HandleInputChange,disabled:t},e),s.a.createElement(T.a,{className:"action-compact",onClick:this.HandleAddType,disabled:t},"Add"))}},{key:"SelectedTypes",value:function SelectedTypes(){var e=this;return 0===this.state.selectedTypeIds.length?null:this.state.selectedTypeIds.map(function(t){var a=Object.values(e.props.typeStore.allTypes).find(function(e){return e.id===t});return s.a.createElement("div",{className:"list-item",key:"added-type-"+a.id},s.a.createElement("span",null,a.meta.name||a.id),s.a.createElement(T.j,{icon:Oa.a,onClick:function onClick(){return e.HandleRemoveType(a.id)}}))})}},{key:"PageContent",value:function PageContent(){return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:"Manage Library Types",redirectPath:ma.a.dirname(this.props.match.url),cancelPath:ma.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit,className:"small-form"},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"typeId"},"Content Types"),this.TypeSelector(),s.a.createElement("label",null),s.a.createElement("div",{className:"list bordered-list"},this.SelectedTypes()))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId});case 2:return t.next=4,e.props.typeStore.ContentTypes();case 4:e.setState({selectedTypeId:Object.keys(e.props.typeStore.allTypes)[0],selectedTypeIds:Object.values(e.props.libraryStore.library.types).map(function(e){return e.id})});case 5:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),ContentLibraryTypesForm}(s.a.Component))||ka)||ka)||ka,Fa=Object(P.b)("typeStore")(wa=Object(P.c)(wa=function(e){function ContentTypes(e){var t;return d()(this,ContentTypes),(t=f()(this,v()(ContentTypes).call(this,e))).state={listingVersion:0},t.ContentTypes=t.ContentTypes.bind(Lt()(t)),t}return C()(ContentTypes,e),h()(ContentTypes,[{key:"ContentTypes",value:function ContentTypes(){var e=this;return this.props.typeStore.types?Object.keys(this.props.typeStore.types).sort().map(function(t){var a=e.props.typeStore.types[t];return{id:t,sortKey:a.name||"zz",title:a.name||"Content Type "+t,description:a.description,icon:I.a,link:X()("/content-types",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"render",value:function render(){var e=this;return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:X()("/content-types","create")},"New Content Type")),s.a.createElement(Pt,{header:"Content Types"}),s.a.createElement("div",{className:"page-content"},s.a.createElement(sa,{pageId:"ContentTypes",paginate:!0,count:this.props.typeStore.count,LoadContent:function(){var t=U()(B.a.mark(function _callee(t){var a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,e.props.typeStore.ListContentTypes({params:a});case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:this.ContentTypes})))}}]),ContentTypes}(s.a.Component))||wa)||wa,La=Object(P.b)("typeStore")(Sa=Object(P.c)(Sa=function(e){function ContentTypeForm(e){var t;return d()(this,ContentTypeForm),(t=f()(this,v()(ContentTypeForm).call(this,e))).state={createForm:!t.props.typeStore.typeId,name:"",description:"",metadata:"",redirectPath:ma.a.dirname(t.props.match.url)},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleBitcodeChange=t.HandleBitcodeChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(ContentTypeForm,e),h()(ContentTypeForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleBitcodeChange",value:function HandleBitcodeChange(e){this.setState({bitcode:e.target.files[0]})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e,t;return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.state.createForm?this.props.typeStore.CreateContentType:this.props.typeStore.UpdateContentType,a.next=3,e({typeId:this.props.typeStore.typeId,name:this.state.name,description:this.state.description,metadata:this.state.metadata,bitcode:this.state.bitcode});case 3:t=a.sent,this.setState({typeId:t});case 5:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"BitcodeSelection",value:function BitcodeSelection(){return[s.a.createElement("label",{key:"bitcode-selection-label",htmlFor:"bitcode"},"Bitcode"),s.a.createElement(T.d,{key:"bitcode-selection",name:"bitcode",required:!1,multiple:!1,accept:".bc",onChange:this.HandleBitcodeChange})]}},{key:"PageContent",value:function PageContent(){var e=this.state.createForm?"Create content type":"Manage content type",t=ma.a.dirname(this.props.match.url),a=this.state.createForm?X()(t,this.state.typeId||""):t;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:e,redirectPath:a,cancelPath:t,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange}),this.BitcodeSelection(),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"metadata"},"Metadata"),s.a.createElement(T.l,{name:"metadata",value:this.state.metadata,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.createForm){t.next=4;break}return t.next=3,e.props.typeStore.ContentType({typeId:e.props.typeStore.typeId});case 3:e.setState({name:e.props.typeStore.type.name,description:e.props.typeStore.type.description,metadata:JSON.stringify(e.props.typeStore.type.meta,null,2)});case 4:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),ContentTypeForm}(s.a.Component))||Sa)||Sa,Ma=a(74),Ta=a.n(Ma),Pa=function(){var e=U()(B.a.mark(function _callee(e,t){var a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:(a=document.createElement("a")).href=e,a.download=t,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e);case 8:case"end":return r.stop()}},_callee)}));return function DownloadFromUrl(t,a){return e.apply(this,arguments)}}(),Ha=function(){var e=U()(B.a.mark(function _callee3(e,t){var a,r,n=arguments;return B.a.wrap(function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return a=n.length>2&&void 0!==n[2]&&n[2],r=n.length>3?n[3]:void 0,e="."===e?"":e,o.next=5,Promise.all(Array.from(t).map(function(){var t=U()(B.a.mark(function _callee2(t){var n,o;return B.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!a){i.next=4;break}i.t0=void 0,i.next=7;break;case 4:return i.next=6,new Response(t).blob();case 6:i.t0=i.sent;case 7:return n=i.t0,o=t.overrideName||t.webkitRelativePath||t.name,r&&(o=o.split("/")[1]),i.abrupt("return",{path:X()(e,o).replace(/^\/+/g,""),type:"file",mime_type:t.type,size:t.size,data:n});case 11:case"end":return i.stop()}},_callee2)}));return function(e){return t.apply(this,arguments)}}()));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}},_callee3)}));return function FileInfo(t,a){return e.apply(this,arguments)}}(),Ga=a(112),Ra=a.n(Ga),za=function(e){function FileUploadWidget(e){var t;return d()(this,FileUploadWidget),(t=f()(this,v()(FileUploadWidget).call(this,e))).state={files:"",directories:!1,progress:{}},t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(FileUploadWidget,e),h()(FileUploadWidget,[{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e,t=this;return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=function callback(e){var a={};Object.keys(e).map(function(t){var r=t.split("/").slice(-1)[0],n=e[t],o=n.uploaded,i=n.total;a[r]=Object(ie.f)(o,i)}),t.setState({progress:a})},a.next=3,this.props.Upload({path:this.props.path,fileList:this.state.files,isDirectory:this.state.directories,callback:e});case 3:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=this;return s.a.createElement("div",{className:"upload-widget"},s.a.createElement(T.i,{legend:this.props.legend,OnSubmit:this.HandleSubmit,OnCancel:this.props.OnCancel,OnComplete:this.props.OnComplete},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"directories"},"Type"),s.a.createElement(T.p,{name:"directories",inline:!0,options:[["Files",!1],["Directory",!0]],selected:this.state.directories,onChange:function onChange(t){return e.setState({directories:t.target.value})}}),s.a.createElement("label",{htmlFor:"files"},this.state.directories?"Directory":"Files"),s.a.createElement(T.d,{name:"files",onChange:function onChange(t){return e.setState({files:t.target.files})},directories:this.state.directories,multiple:!0,progress:this.state.progress}))))}}]),FileUploadWidget}(s.a.Component);za.propTypes={legend:Tt.a.string.isRequired,path:Tt.a.string,progress:Tt.a.object,Upload:Tt.a.func.isRequired,OnComplete:Tt.a.func.isRequired,OnCancel:Tt.a.func};var Da=za,Ba=a(199),$a=a.n(Ba),Ua=a(200),qa=a.n(Ua),Va=a(201),Wa=a.n(Va),Ka=a(202),Ja=a.n(Ka),Za=a(203),Ya=a.n(Za),Qa=function(e){function FileBrowser(e){var t;return d()(this,FileBrowser),(t=f()(this,v()(FileBrowser).call(this,e))).state={path:".",displayPath:"/",currentDir:t.props.files,showUpload:!1},t}return C()(FileBrowser,e),h()(FileBrowser,[{key:"ChangeDirectory",value:function ChangeDirectory(e){var t="."===(e=ma.a.normalize(e))?this.props.files:Object(ie.g)(this.props.files,e.split(ma.a.sep));this.setState({path:e,displayPath:"."===e?"/":"/"+e,currentDir:t})}},{key:"FileUrl",value:function FileUrl(e,t){var a=Ra()(this.props.baseFileUrl);return a.path(X()(a.path(),e,t).replace("//","/")),a.toString()}},{key:"File",value:function File(e,t){var a=Ta()(t.size||0),r=this.FileUrl(this.state.path,e);return s.a.createElement("tr",{key:"entry-".concat(this.state.path,"-").concat(e)},s.a.createElement("td",{className:"item-icon"},s.a.createElement(T.k,{icon:qa.a,label:"File"})),s.a.createElement("td",{title:e},e),s.a.createElement("td",{title:a,className:"info-cell"},a),s.a.createElement("td",{className:"actions-cell"},s.a.createElement("a",{href:r,target:"_blank"},s.a.createElement(T.k,{icon:Wa.a,label:"Download "+e,className:"download-button"})),s.a.createElement(T.f,{copy:r},s.a.createElement(T.j,{icon:Ya.a,label:"Copy direct link to "+e,className:"copy-button"}))))}},{key:"Directory",value:function Directory(e){var t=this,a=function changeDirectory(){return t.ChangeDirectory(X()(t.state.path,e.name))};return s.a.createElement("tr",{key:"entry-".concat(this.state.path,"-").concat(e.name),className:"directory",onClick:a,onKeyPress:a},s.a.createElement("td",{className:"item-icon"},s.a.createElement(T.k,{icon:$a.a,label:"Directory"})),s.a.createElement("td",{tabIndex:"0",title:e.name},e.name),s.a.createElement("td",{className:"info-cell"},Object.keys(e.item).length-1+" Items"),s.a.createElement("td",null))}},{key:"Items",value:function Items(){var e=this,t=Object.keys(this.state.currentDir).filter(function(e){return"."!==e}).map(function(t){return{name:t,item:e.state.currentDir[t],info:e.state.currentDir[t]["."]}});return 0===t.length?s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",null,"No files"),s.a.createElement("td",null),s.a.createElement("td",null)):t.sort(function(e,t){return e.info.type!==t.info.type?"directory"===e.info.type?-1:1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1}).map(function(t){return"directory"===t.info.type?e.Directory(t):e.File(t.name,t.info)})}},{key:"UploadModal",value:function UploadModal(){var e=this;if(!this.state.showUpload)return null;var t=function closeModal(){return e.setState({showUpload:!1})};return s.a.createElement(T.n,{closable:!1,OnClickOutside:t},s.a.createElement(Da,{path:this.state.path,legend:"Upload files to ".concat(this.state.displayPath),files:this.props.files,uploadStatus:this.props.uploadStatus,Upload:this.props.Upload,OnComplete:function OnComplete(){t(),e.props.Reload()},OnCancel:t}))}},{key:"render",value:function render(){var e,t=this;return this.state.path&&this.state.path!==ma.a.dirname(this.state.path)&&(e=s.a.createElement(T.j,{icon:Ja.a,label:"Back",onClick:function onClick(){return t.ChangeDirectory(ma.a.dirname(t.state.path))}})),s.a.createElement("div",{className:"file-browser"},this.UploadModal(),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"type-header"},e),s.a.createElement("th",{title:"Current Directory: "+this.state.displayPath,tabIndex:"0"},this.state.displayPath),s.a.createElement("th",{className:"size-header"}),s.a.createElement("th",{className:"actions-header"},s.a.createElement(T.a,{onClick:function onClick(){return t.setState({showUpload:!0})}},"Upload")))),s.a.createElement("tbody",null,this.Items())))}}]),FileBrowser}(s.a.Component);Qa.propTypes={files:Tt.a.object.isRequired,baseFileUrl:Tt.a.string.isRequired,Upload:Tt.a.func.isRequired,Download:Tt.a.func.isRequired,FileUrl:Tt.a.func.isRequired,Reload:Tt.a.func.isRequired};var Xa=Qa;if(!("toJSON"in Error.prototype)){var er=["columnNumber","fileName","lineNumber"];Object.defineProperty(Error.prototype,"toJSON",{value:function value(){var e=this,t={};return Object.getOwnPropertyNames(this).forEach(function(a){er.includes(a)||(t[a]=e[a])},this),t},configurable:!0,writable:!0})}var tr=function(e){function IFrameBase(){return d()(this,IFrameBase),f()(this,v()(IFrameBase).apply(this,arguments))}return C()(IFrameBase,e),h()(IFrameBase,[{key:"SandboxPermissions",value:function SandboxPermissions(){return["allow-scripts","allow-forms","allow-modals","allow-pointer-lock","allow-orientation-lock","allow-popups","allow-presentation","allow-same-origin"].join(" ")}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return this.props.appUrl!==e.appUrl}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("message",this.props.listener)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.props.listener)}},{key:"render",value:function render(){return s.a.createElement("iframe",{ref:this.props.appRef,src:this.props.appUrl,allow:"encrypted-media *",allowFullScreen:!0,sandbox:this.SandboxPermissions(),className:"app-frame "+(this.props.className||"")})}}]),IFrameBase}(s.a.Component);tr.propTypes={appUrl:Tt.a.string.isRequired,appRef:Tt.a.object.isRequired,listener:Tt.a.func.isRequired,className:Tt.a.string};var ar=s.a.forwardRef(function(e,t){return s.a.createElement(tr,Vt()({appRef:t},e))}),rr=function(e){function AppFrame(e){var t;return d()(this,AppFrame),(t=f()(this,v()(AppFrame).call(this,e))).state={appRef:s.a.createRef()},t.ApiRequestListener=t.ApiRequestListener.bind(Lt()(t)),t}var t,a;return C()(AppFrame,e),h()(AppFrame,[{key:"componentWillUnmount",value:(a=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.ResetRegion();case 2:case"end":return e.stop()}},_callee)})),function componentWillUnmount(){return a.apply(this,arguments)})},{key:"AppUrl",value:function AppUrl(){var e=this,t=this.props.appUrl;if(this.props.queryParams){var a=Ra()(t);Object.keys(this.props.queryParams).forEach(function(t){a.addSearch(t,e.props.queryParams[t])}),t=a.toString()}return t}},{key:"Respond",value:function Respond(e,t,a){(function IsCloneable(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return IsCloneable(e[t])});case"Map":return K()(e.keys()).every(IsCloneable)&&K()(e.values()).every(IsCloneable);case"Set":return K()(e.keys()).every(IsCloneable);default:return!1}})(a=Z()({},a,{requestId:e,type:"ElvFrameResponse"}))||(a=JSON.parse(JSON.stringify(a)));try{t.postMessage(a,"*")}catch(e){console.error(a),console.error(e)}}},{key:"ApiRequestListener",value:(t=U()(B.a.mark(function _callee2(e){var t=this;return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(e&&e.data&&"ElvFrameRequest"===e.data.type){a.next=2;break}return a.abrupt("return");case 2:if(e.data.operation){a.next=7;break}return a.next=5,Ot.ExecuteFrameRequest({request:e.data,Respond:function Respond(a){return t.Respond(a.requestId,e.source,a)}});case 5:a.next=23;break;case 7:a.t0=e.data.operation,a.next="Complete"===a.t0?10:"Cancel"===a.t0?14:"SetFrameDimensions"===a.t0?18:23;break;case 10:if(!this.props.onComplete){a.next=13;break}return a.next=13,this.props.onComplete();case 13:return a.abrupt("break",23);case 14:if(!this.props.onCancel){a.next=17;break}return a.next=17,this.props.onCancel();case 17:return a.abrupt("break",23);case 18:if(!this.props.fixedDimensions){a.next=20;break}return a.abrupt("return");case 20:return e.data.width&&(this.state.appRef.current.style.width=Math.min(parseInt(e.data.width),3e3)+"px"),e.data.height&&(this.state.appRef.current.style.height=Math.min(parseInt(e.data.height),5e3)+"px"),a.abrupt("break",23);case 23:case"end":return a.stop()}},_callee2,this)})),function ApiRequestListener(e){return t.apply(this,arguments)})},{key:"render",value:function render(){return s.a.createElement(ar,{ref:this.state.appRef,appUrl:this.AppUrl(),listener:this.ApiRequestListener,className:this.props.className})}}]),AppFrame}(s.a.Component);rr.propTypes={appUrl:Tt.a.string.isRequired,queryParams:Tt.a.object,onComplete:Tt.a.func,onCancel:Tt.a.func,className:Tt.a.string,fixedDimensions:Tt.a.bool};var nr,or,ir,cr,sr,lr,ur,pr,dr,mr,hr,br,fr,yr,vr,gr,Cr=rr,xr=function ToggleSection(e){var t=e.label,a=e.children,r=e.className,n=void 0===r?"":r,o=Object(c.useState)(!1),i=Gt()(o,2),l=i[0],u=i[1];return s.a.createElement("div",{className:"formatted-data ".concat(n||"")},s.a.createElement(ya,{label:t},s.a.createElement(T.a,{className:"action-compact action-wide "+(l?"":"secondary"),onClick:function onClick(){return u(!l)}},"".concat(l?"Hide":"Show"," ").concat(t))),l?a:null)},kr=function JSONField(e){var t=e.json;if(!t||0===Object.keys(t).length)return s.a.createElement("pre",{className:"content-object-data"},JSON.stringify(t,null,2));var a=Object(c.useState)(!1),r=Gt()(a,2),n=r[0],o=r[1],i=s.a.createElement(T.q,{selected:n,onChange:function onChange(e){return o(e)},options:[["Formatted",!1],["Raw",!0]],className:"secondary"}),l=n?s.a.createElement("pre",{className:"content-object-data"},JSON.stringify(t,null,2)):s.a.createElement(T.r,{json:t});return s.a.createElement(s.a.Fragment,null,i,l)},wr=function DownloadPart(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,o=e.partName,i=e.DownloadMethod,l=Object(c.useState)(void 0),u=Gt()(l,2),p=u[0],d=u[1],m=s.a.createElement(T.a,{className:"action-compact secondary",onClick:U()(B.a.mark(function _callee2(){var e;return B.a.wrap(function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return d("0.0%"),c.next=3,i({libraryId:t,objectId:a,versionHash:r,partHash:n,callback:function(){var e=U()(B.a.mark(function _callee(e){var t,a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:t=e.bytesFinished,a=e.bytesTotal,d({bytesFinished:t,bytesTotal:a});case 2:case"end":return r.stop()}},_callee)}));return function callback(t){return e.apply(this,arguments)}}()});case 3:return e=c.sent,c.next=6,Pa(e,o||n);case 6:case"end":return c.stop()}},_callee2)}))},"Download"),h=void 0===p?null:s.a.createElement("span",{className:"download-progress"},s.a.createElement("progress",{value:100*p.bytesFinished/p.bytesTotal,max:100}),Object(ie.f)(p.bytesFinished,p.bytesTotal));return p?h:m},Sr=Object(P.b)("libraryStore")(nr=Object(P.b)("objectStore")(nr=Object(P.c)(nr=function(e){function ContentObject(e){var t;return d()(this,ContentObject),(t=f()(this,v()(ContentObject).call(this,e))).state={appRef:s.a.createRef(),view:"info",partDownloadProgress:{},pageVersion:0},t.PageContent=t.PageContent.bind(Lt()(t)),t.SubmitContentObject=t.SubmitContentObject.bind(Lt()(t)),t}var t;return C()(ContentObject,e),h()(ContentObject,[{key:"SubmitContentObject",value:(t=U()(B.a.mark(function _callee4(e){var t=this;return B.a.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(T.e)({message:e,onConfirm:function(){var e=U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.objectStore.PublishContentObject({objectId:t.props.objectStore.objectId});case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return e.stop()}},_callee3)}));return function onConfirm(){return e.apply(this,arguments)}}()});case 2:case"end":return a.stop()}},_callee4)})),function SubmitContentObject(e){return t.apply(this,arguments)})},{key:"DeleteContentObject",value:function(){var e=U()(B.a.mark(function _callee6(){var e=this;return B.a.wrap(function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.e)({message:"Are you sure you want to delete this content object?",onConfirm:function(){var t=U()(B.a.mark(function _callee5(){return B.a.wrap(function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.objectStore.DeleteContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId});case 2:e.setState({deleted:!0});case 3:case"end":return t.stop()}},_callee5)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee6)}));return function DeleteContentObject(){return e.apply(this,arguments)}}()},{key:"DeleteVersionButton",value:function DeleteVersionButton(e){var t=this;if(1===this.props.objectStore.object.versions.length)return null;var a=function(){var a=U()(B.a.mark(function _callee8(){return B.a.wrap(function _callee8$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(T.e)({message:"Are you sure you want to delete this content version?",onConfirm:function(){var a=U()(B.a.mark(function _callee7(){return B.a.wrap(function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.props.objectStore.DeleteContentObjectVersion({libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,versionHash:e});case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return a.stop()}},_callee7)}));return function onConfirm(){return a.apply(this,arguments)}}()});case 2:case"end":return a.stop()}},_callee8)}));return function DeleteVersion(){return a.apply(this,arguments)}}();return s.a.createElement(T.a,{className:"danger action-compact action-wide",onClick:a},"Delete Content Version")}},{key:"PublishButton",value:function PublishButton(){var e=this;if(!this.props.objectStore.object.isNormalObject)return null;var t=this.props.libraryStore.library.groups.reviewer.length>0;if(this.props.object.status.code<0&&this.props.objectStore.object.isOwner){var a=t?"Submit for Review":"Publish",r=t?"Are you sure you want to submit this content object for review?":"Are you sure you want to publish this content object?";return s.a.createElement(T.a,{onClick:function onClick(){return e.SubmitContentObject(r)}},a)}return this.props.objectStore.object.status.code>0&&this.props.objectStore.object.permissions.canReview?s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"review")},"Review"):void 0}},{key:"VersionSize",value:function VersionSize(e){if(e)return Ta()(e.parts.reduce(function(e,t){return e+t.size},0))}},{key:"Image",value:function Image(){return this.props.objectStore.object.imageUrl?s.a.createElement("div",{className:"object-image"},s.a.createElement("img",{src:this.props.objectStore.object.imageUrl})):null}},{key:"ObjectParts",value:function ObjectParts(e){var t=this;if(!e||!e.parts||0===e.parts.length)return null;var a=this.props.objectStore.object.meta["eluv-fb.parts"]||{},r={};Object.keys(a).forEach(function(e){r[a[e]]=e});var n=e.parts.map(function(a,n){var o=s.a.createElement(wr,{libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,versionHash:e.hash,partHash:a.hash,partName:r[a.hash],DownloadMethod:t.props.objectStore.DownloadPart}),i=r[a.hash]?s.a.createElement(ya,{label:"Name",value:r[a.hash]}):null;return s.a.createElement("div",{key:a.hash+"-"+n,className:"part-info"},i,s.a.createElement(ya,{label:"Hash"},a.hash),s.a.createElement(ya,{label:"Size"},Ta()(a.size)),s.a.createElement(ya,{label:"Download"},o))});return s.a.createElement("div",null,s.a.createElement("h3",null,"Parts"),n)}},{key:"ObjectFiles",value:function ObjectFiles(){var e=this,t=function(){var t=U()(B.a.mark(function _callee9(t){return B.a.wrap(function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.objectStore.DownloadFile({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId,filePath:t});case 2:case"end":return a.stop()}},_callee9)}));return function downloadMethod(e){return t.apply(this,arguments)}}(),a=function(){var t=U()(B.a.mark(function _callee10(t){var a,r,n;return B.a.wrap(function _callee10$(o){for(;;)switch(o.prev=o.next){case 0:return a=t.path,r=t.fileList,n=t.callback,o.next=3,e.props.objectStore.UploadFiles({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId,path:a,fileList:r,callback:n});case 3:case"end":return o.stop()}},_callee10)}));return function uploadMethod(e){return t.apply(this,arguments)}}(),r=function(){var t=U()(B.a.mark(function _callee11(t){return B.a.wrap(function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.objectStore.FileUrl({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId,filePath:t});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_callee11)}));return function urlMethod(e){return t.apply(this,arguments)}}();return s.a.createElement("div",{className:"object-files"},s.a.createElement("h3",null,"Files"),s.a.createElement(Xa,{files:this.props.objectStore.object.meta.files||{},baseFileUrl:this.props.objectStore.object.baseFileUrl,Reload:function Reload(){return e.setState({pageVersion:e.state.pageVersion+1})},uploadStatus:this.props.objectStore.UploadFiles,Upload:a,Download:t,FileUrl:r}))}},{key:"ObjectVersion",value:function ObjectVersion(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.props.objectStore.versions[e];return s.a.createElement("div",{className:"version-info "+(a?"":"indented version-visible")},s.a.createElement("h3",null,a?"Latest Version":"Version ".concat(t)),s.a.createElement("div",{className:"indented"},s.a.createElement(ya,{label:"Hash",copyValue:e},e),s.a.createElement(ya,{label:"Parts"},r.parts.length.toString()),s.a.createElement(ya,{label:"Total size"},this.VersionSize(r)),s.a.createElement(xr,{label:"Metadata"},s.a.createElement("div",{className:"indented"},s.a.createElement(kr,{json:r.meta}))),s.a.createElement(xr,{label:"Verification"},s.a.createElement("pre",{className:"content-object-data"},JSON.stringify(r.verification,null,2))),s.a.createElement(xr,{label:"Parts"},this.ObjectParts(r)),s.a.createElement("br",null),s.a.createElement(ya,{hidden:!this.props.objectStore.object.isOwner},this.DeleteVersionButton(e))))}},{key:"PreviousVersions",value:function PreviousVersions(){var e=this;return this.props.objectStore.object.versions.length<2?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"Previous Versions"),this.props.objectStore.object.versions.slice(1).map(function(t,a){var r=-1*(a+1-e.props.objectStore.object.versions.length);return s.a.createElement(xr,{label:"Version ".concat(r),key:"version-".concat(r),className:"version-info indented"},s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee12(){return B.a.wrap(function _callee12$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.objectStore.ContentObjectVersion({versionHash:t});case 2:case"end":return a.stop()}},_callee12)})),render:function render(){return e.ObjectVersion(t,r)}}))}))}},{key:"ContractInfo",value:function ContractInfo(){var e=[];if(e.push(s.a.createElement(ya,{key:"contract-address",label:"Contract Address"},s.a.createElement(S.a,{className:"inline-link",to:X()(this.props.match.url,"contract")},this.props.objectStore.object.contractAddress))),!this.props.objectStore.object.isContentLibraryObject&&this.props.objectStore.object.customContractAddress){var t=this.props.objectStore.object.customContractAddress;e.push(s.a.createElement(ya,{key:"contract-"+t,label:"Custom Contract"},s.a.createElement(S.a,{className:"inline-link",to:X()(this.props.match.url,"custom-contract")},t)))}return e}},{key:"ObjectStatus",value:function ObjectStatus(){if(!this.props.objectStore.object.isNormalObject)return null;var e,t;if(this.props.objectStore.object.meta["eluv.reviewNote"]){t=s.a.createElement(ya,{label:"Reviewer"},this.props.objectStore.object.meta["eluv.reviewer"]);var a=s.a.createElement(ja,{className:"object-description",text:this.props.objectStore.object.meta["eluv.reviewNote"]});e=s.a.createElement(ya,{label:"Review Note"},a)}return s.a.createElement(s.a.Fragment,null,s.a.createElement(ya,{label:"Status"},this.props.objectStore.object.status.description),t,e)}},{key:"ObjectInfo",value:function ObjectInfo(){var e,t=this.props.objectStore.object,a=this.props.objectStore.versions[t.versions[0]],r=s.a.createElement(ja,{className:"object-description",text:t.description});t.accessInfo&&(e=s.a.createElement(ya,{label:"Access charge"},Object(ie.a)(t.accessInfo.accessCharge)));var n=t.ownerName?s.a.createElement("span",null,t.ownerName,s.a.createElement("span",{className:"help-text"},"(",t.owner,")")):t.owner,o=t.type?s.a.createElement(S.a,{className:"inline-link",to:X()("/content-types",t.typeInfo.id)},t.typeInfo.name||t.typeInfo.id):"None";return s.a.createElement("div",{className:"object-info label-box"},s.a.createElement(ya,{label:"Name"},t.name),s.a.createElement(ya,{label:"Description",alignTop:!0},r),e,s.a.createElement("br",null),s.a.createElement(ya,{label:"Library ID",hidden:t.isContentType},s.a.createElement(S.a,{className:"inline-link",to:X()("/content",this.props.objectStore.libraryId)},this.props.objectStore.libraryId)),s.a.createElement(ya,{label:"Object ID"},t.id),s.a.createElement(ya,{label:"Type",hidden:t.isContentType},o),s.a.createElement(ya,{label:"Type Hash",hidden:!t.type||t.isContentType,copyValue:t.type},t.type),this.ContractInfo(),s.a.createElement(ya,{label:"Owner"},n),s.a.createElement("br",null),s.a.createElement(ya,{label:"Versions"},t.versions.length),s.a.createElement(ya,{label:"Parts"},a.parts.length),s.a.createElement(ya,{label:"Total size"},this.VersionSize(a)),this.ObjectVersion(t.versions[0],t.versions.length,!0),this.PreviousVersions())}},{key:"Actions",value:function Actions(){var e,t,a,r=this;return this.props.objectStore.object.isOwner&&(e=s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"apps")},"Apps")),!this.props.objectStore.object.customContractAddress&&(this.props.objectStore.object.isNormalObject||this.props.objectStore.object.isContentType)&&this.props.objectStore.object.isOwner&&(t=s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"deploy")},"Custom Contract")),this.props.objectStore.object.isContentLibraryObject||(a=s.a.createElement(T.a,{className:"danger",onClick:function onClick(){return r.DeleteContentObject()}},"Delete")),s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"edit")},"Manage"),t,s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"upload")},"Upload Parts"),e,a,s.a.createElement(T.j,{className:"refresh-button",icon:Ut.a,label:"Refresh",onClick:function onClick(){return r.setState({pageVersion:r.state.pageVersion+1})}}))}},{key:"AppFrame",value:function AppFrame(){var e=this;if(!this.state.displayAppUrl)return null;var t=this.props.objectStore.object.versions[0],a={contentSpaceId:Ot.contentSpaceId,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,versionHash:t.hash,type:this.props.objectStore.type?this.props.objectStore.type.hash:"",action:"display"};return s.a.createElement(Cr,{className:"display-frame",appUrl:this.state.displayAppUrl,queryParams:a,onComplete:function onComplete(){return e.setState({pageVersion:e.state.pageVersion+1})},onCancel:function onCancel(){return e.setState({deleted:!0})},fixedDimensions:!0})}},{key:"Tabs",value:function Tabs(){var e=this,t=[["Content Info","info"],["Files","files"]];return!this.props.objectStore.object.isContentType&&this.state.displayAppUrl&&t.unshift(["Display","display"]),s.a.createElement(T.q,{options:t,selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}})}},{key:"PageContent",value:function PageContent(){return this.state.deleted?s.a.createElement(Wt.a,{push:!0,to:ma.a.dirname(this.props.match.url)}):(e=this.props.objectStore.object.isContentLibraryObject?this.props.libraryStore.library.name+" > Library Object":this.props.objectStore.object.isContentType?"Content Types > "+this.props.objectStore.object.name:this.props.libraryStore.library.name+" > "+this.props.objectStore.object.name,t="display"===this.state.view?this.AppFrame():"info"===this.state.view?s.a.createElement(s.a.Fragment,null,this.Image(),this.ObjectInfo()):this.ObjectFiles(),s.a.createElement("div",{className:"page-container content-page-container"},this.Actions(),s.a.createElement(Pt,{header:e,subHeader:this.props.objectStore.object.description}),this.Tabs(),s.a.createElement("div",{className:"page-content"},t)));var e,t}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{key:"object-page-".concat(this.state.pageVersion),Load:U()(B.a.mark(function _callee13(){return B.a.wrap(function _callee13$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.props.libraryStore.ContentLibrary({libraryId:e.props.objectStore.libraryId}),e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId})]);case 2:return t.next=4,e.props.objectStore.ContentObjectVersions({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId});case 4:e.setState({displayAppUrl:e.props.objectStore.object.displayAppUrl||(e.props.objectStore.object.typeInfo||{}).displayAppUrl});case 5:case"end":return t.stop()}},_callee13)})),render:this.PageContent})}}]),ContentObject}(s.a.Component))||nr)||nr)||nr,jr=0,Ir=function(){function Id(){d()(this,Id)}return h()(Id,null,[{key:"next",value:function next(){return++jr}},{key:"nextTag",value:function nextTag(){return"id-"+ ++jr}}]),Id}(),Er=["label","string","text","integer","number","json","boolean","choice","list","object","file","attachedFile"],_r=function ToList(e){return Object.keys(e).map(function(e){return parseInt(e)}).sort().map(function(t){return e[t]})},Ar=function InitializeSchema(e){var t=e.schema,a=e.initialData;a=a||{};var r={};return t.forEach(function(e){if(!Er.includes(e.type))throw Error("Unknown type: "+e.type);switch(e.type){case"object":r[e.key]=InitializeSchema({schema:e.fields,initialData:a[e.key]});break;case"json":r[e.key]=JSON.stringify(a[e.key],null,2);break;case"list":r[e.key]=function FromList(e){var t={};return e.forEach(function(e){t[Ir.next()]=e}),t}(a[e.key]||[]);break;default:r[e.key]=a[e.key],void 0===r[e.key]&&(r[e.key]="boolean"!==e.type&&"")}}),r},Or=function GetValue(e){var t=e.data,a=void 0===t?{}:t,r=e.subtree,n=void 0===r?[]:r,o=e.attr;return Object(ie.g)(a,n.concat(o))},Nr=function RemoveValue(e){var t=e.data,a=e.subtree,r=void 0===a?[]:a,n=e.attr,o=Z()({},t);if(0===r.length)delete o[n];else{var i=o;r.forEach(function(e){i[e]&&(i=i[e])}),delete i[n]}return o},Fr=function SetValue(e){var t=e.data,a=e.subtree,r=void 0===a?[]:a,n=e.attr,o=e.value,i=Z()({},t);if(0===r.length)i[n]=o;else{var c=i;r.forEach(function(e){c[e]||(c[e]={}),c=c[e]}),c[n]=o}return i},Lr=[{key:"name",label:"Name",type:"string",required:!0},{key:"eluv.description",label:"Description",type:"text",required:!1}],Mr=Object(P.b)("libraryStore")(or=Object(P.b)("objectStore")(or=Object(P.b)("typeStore")(or=Object(P.c)(or=function(e){function ContentObjectForm(e){var t;return d()(this,ContentObjectForm),(t=f()(this,v()(ContentObjectForm).call(this,e))).state={completed:!1,metadata:"",uploadStatus:{}},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleFieldChange=t.HandleFieldChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t.HandleTypeChange=t.HandleTypeChange.bind(Lt()(t)),t.RemoveElement=t.RemoveElement.bind(Lt()(t)),t.FrameCompleted=t.FrameCompleted.bind(Lt()(t)),t.UploadStatusCallback=t.UploadStatusCallback.bind(Lt()(t)),t}var t;return C()(ContentObjectForm,e),h()(ContentObjectForm,[{key:"FormatType",value:function FormatType(e){if(!e.hash)return e;var t=e.meta&&e.meta.name||e.hash;return Z()({},e,{name:t,schema:e.meta&&e.meta["eluv.schema"],allowCustomMetadata:e.meta&&e.meta["eluv.allowCustomMetadata"]})}},{key:"Initialize",value:function Initialize(){var e=this,t="",a={},r="",n=0;if(this.state.createForm){var o={};Object.values(this.props.libraryStore.library.types).forEach(function(e){return o[e.hash]=e}),Object.keys(o).length>0?(t=Object.values(o)[0].hash,a=o):Object.values(this.props.typeStore.allTypes).forEach(function(e){return a[e.hash]=e}),Object.values(a).forEach(function(t){return a[t.hash]=e.FormatType(t)})}else{var i=this.props.objectStore.object;r=JSON.stringify(i.meta,null,2),n=i.accessInfo&&i.accessInfo.accessCharge,t=i.type,i.typeInfo&&(a=pa()({},t,this.FormatType(i.typeInfo)))}this.setState({types:a,type:t,metadata:r,accessCharge:n}),this.SwitchType(a,t)}},{key:"SwitchType",value:function SwitchType(e,t){var a,r=this.props.objectStore.object,n=t&&e[t]||{},o=!1,i=n.schema||Lr;r&&r.manageAppUrl&&!r.isContentType?(a=r.manageAppUrl,o=!0):n.manageAppUrl&&(a=n.manageAppUrl,o=!0);var c=!n.schema||n.allowCustomMetadata,s=this.state.createForm?void 0:r.meta,l=Ar({schema:i,initialData:s});this.setState({type:t,fields:l,schema:i,allowCustomMetadata:c,manageAppUrl:a,showManageApp:o})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleTypeChange",value:function HandleTypeChange(e){this.SwitchType(this.state.types,e.target.value)}},{key:"HandleFieldChange",value:function HandleFieldChange(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.target.value;"file"===t.type?r=e.target.files:"boolean"===t.type&&(r=e.target.checked),this.setState({fields:Fr({data:this.state.fields,subtree:a,attr:t.key,value:r})})}},{key:"RemoveElement",value:function RemoveElement(e,t){this.setState({fields:Nr({data:this.state.fields,subtree:e,attr:t})})}},{key:"UploadStatusCallback",value:function UploadStatusCallback(e){var t=e.key,a=e.uploaded,r=e.total,n=e.filename,o=Object(ie.f)(a,r);this.setState({uploadStatus:Z()({},this.state.uploadStatus,pa()({},t,Z()({},(this.state.uploadStatus||{})[t],pa()({},n,o))))})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e,t;return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(e="[none]"===this.state.type?"":this.state.type,!this.state.createForm){a.next=7;break}return a.next=4,this.props.objectStore.CreateFromContentTypeSchema({type:e,libraryId:this.props.objectStore.libraryId,schema:this.state.schema,fields:this.state.fields,metadata:this.state.metadata,accessCharge:this.state.accessCharge,callback:this.UploadStatusCallback});case 4:t=a.sent,a.next=10;break;case 7:return a.next=9,this.props.objectStore.UpdateFromContentTypeSchema({type:e,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,schema:this.state.schema,fields:this.state.fields,metadata:this.state.metadata,accessCharge:this.state.accessCharge,callback:this.UploadStatusCallback});case 9:t=a.sent;case 10:this.setState({objectId:t});case 11:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"TypeField",value:function TypeField(){if(this.state.createForm){var e=Object.values(this.state.types).sort(function(e,t){return e.name>t.name?1:-1}).map(function(e){var t=e.name,a=e.hash;return s.a.createElement("option",{key:"type-"+a,name:"type",value:a},t)});return this.props.libraryStore.library.types&&0!==Object.keys(this.props.libraryStore.library.types).length||e.unshift(s.a.createElement("option",{key:"type-none",name:"type",value:""},"[none]")),[s.a.createElement("label",{key:"type-field-label",htmlFor:"type"},"Content Type"),s.a.createElement("select",{key:"type-field",name:"type",value:this.state.type,onChange:this.HandleTypeChange},e)]}}},{key:"BuildField",value:function BuildField(e){var t,a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function onChange(t){return a.HandleFieldChange(t,e,r)},o="field-".concat(this.state.type,"-").concat(r.join("-"),"-").concat(e.key),i=Or({data:this.state.fields,subtree:r,attr:e.key}),c=void 0!==e.label?e.label:e.key;switch(e.type){case"label":t=s.a.createElement("div",{key:o,className:"form-text"},e.text);break;case"attachedFile":t=s.a.createElement(T.a,{key:o,className:"action-compact secondary action-full-width",onClick:U()(B.a.mark(function _callee3(){var t;return B.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(t=a.state.types[a.state.type],!e.hash){r.next=4;break}return r.next=4,a.props.objectStore.DownloadPart({libraryId:Ot.contentSpaceLibraryId,objectId:t.id,versionHash:t.hash,partHash:e.hash,callback:function(){var t=U()(B.a.mark(function _callee2(t){return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Pa(t,e.filename||c);case 2:case"end":return a.stop()}},_callee2)}));return function callback(e){return t.apply(this,arguments)}}()});case 4:case"end":return r.stop()}},_callee3)}))},"Download");break;case"string":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,value:i,onChange:n});break;case"text":t=s.a.createElement("textarea",{key:o,name:e.key,required:e.required,value:i,onChange:n});break;case"integer":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,value:i,type:"number",step:1,onChange:n});break;case"number":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,value:i,type:"number",step:1e-12,onChange:n});break;case"boolean":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,checked:i,type:"checkbox",onChange:n});break;case"choice":return s.a.createElement(T.p,{key:o,name:e.key,required:e.required,selected:i,options:e.options,onChange:n});case"json":t=s.a.createElement(T.l,{key:o,name:e.key,value:i,onChange:function onChange(t){return a.HandleFieldChange(t,e,r)}});break;case"file":var l=e.required&&this.state.createForm;t=s.a.createElement(T.d,{key:o,accept:e.accept,name:e.key,onChange:n,multiple:e.multiple,required:l,preview:e.preview,progress:this.state.uploadStatus[e.key]||{}});break;case"list":var u=Object.keys(i).map(function(t){var n={key:t,type:"list-element"};return a.BuildField(n,r.concat(e.key))});t=s.a.createElement("div",{key:o,className:"full-width"},s.a.createElement(T.a,{onClick:function onClick(){return a.HandleFieldChange({target:{value:""}},{key:Ir.next()},r.concat(e.key))}},"Add Element"),s.a.createElement("div",{className:"list"},u));break;case"list-element":return s.a.createElement("div",{key:o,className:"list-item"},s.a.createElement("input",{name:e.key,required:e.required,value:i,onChange:n}),s.a.createElement(T.j,{icon:Oa.a,label:"Remove Element",onClick:function onClick(){return a.RemoveElement(r,e.key)}}));case"object":var p=this.BuildType(e.fields,r.concat([e.key]));if(e.flattenDisplay)return p;t=s.a.createElement("div",{key:o,className:"form-content no-margins"},p)}return[s.a.createElement("label",{key:o+"-label",className:["label","list","text","json","object","file"].includes(e.type)?"align-top":"",htmlFor:name},c),t]}},{key:"BuildType",value:function BuildType(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){return t.BuildField(e,a)})}},{key:"MetadataField",value:function MetadataField(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:"align-top"},"Metadata"),s.a.createElement(T.l,{onChange:this.HandleInputChange,name:"metadata",value:this.state.metadata}))}},{key:"AccessChargeField",value:function AccessChargeField(){return[s.a.createElement("label",{key:"access-charge-label",htmlFor:"accessCharge"},"Access Charge"),s.a.createElement("input",{key:"access-charge",type:"number",step:1e-7,name:"accessCharge",value:this.state.accessCharge||0,onChange:this.HandleInputChange})]}},{key:"FrameCompleted",value:function FrameCompleted(){this.setState({completed:!0})}},{key:"AppFormSelection",value:function AppFormSelection(){var e=this;return this.state.manageAppUrl?s.a.createElement(T.q,{className:"compact",selected:this.state.showManageApp,onChange:function onChange(t){return e.setState({showManageApp:t})},options:[["App",!0],["Form",!1]]}):null}},{key:"AppFrame",value:function AppFrame(e){var t={contentSpaceId:Ot.contentSpaceId,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,type:this.state.type,action:"manage"};return s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("legend",null,e),this.AppFormSelection(),this.TypeField(),s.a.createElement("br",null),s.a.createElement(Cr,{appUrl:this.state.manageAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted,className:"form-frame"}),s.a.createElement("div",{className:"form-actions"},s.a.createElement(T.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"FormContent",value:function FormContent(e,t,a){return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:e,redirectPath:t,cancelPath:a,OnSubmit:this.HandleSubmit},s.a.createElement("div",null,this.AppFormSelection(),s.a.createElement("div",{className:"form-content"},this.TypeField(),this.BuildType(this.state.schema),this.MetadataField(),this.AccessChargeField()))))}},{key:"PageContent",value:function PageContent(){if(!this.state.schema&&!this.state.manageAppUrl)return null;var e=this.state.createForm?"Contribute content":"Manage content",t=ma.a.dirname(this.props.match.url);this.state.createForm&&this.state.objectId&&(t=X()(ma.a.dirname(this.props.match.url),this.state.objectId));var a=ma.a.dirname(this.props.match.url);return this.state.completed?s.a.createElement(Wt.a,{push:!0,to:t}):this.state.manageAppUrl&&this.state.showManageApp?this.AppFrame(e):this.FormContent(e,t,a)}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee4(){return B.a.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.typeStore.ContentTypes();case 2:return t.next=4,e.props.libraryStore.ContentLibrary({libraryId:e.props.objectStore.libraryId});case 4:if(!e.props.objectStore.objectId){t.next=7;break}return t.next=7,e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId});case 7:e.setState({createForm:!e.props.objectStore.objectId}),e.Initialize();case 9:case"end":return t.stop()}},_callee4)})),render:this.PageContent})}}]),ContentObjectForm}(s.a.Component))||or)||or)||or)||or,Tr=Object(P.b)("objectStore")(ir=Object(P.c)(ir=function(e){function ContentObjectReviewForm(e){var t;return d()(this,ContentObjectReviewForm),(t=f()(this,v()(ContentObjectReviewForm).call(this,e))).state={approve:!0,note:""},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t.FrameCompleted=t.FrameCompleted.bind(Lt()(t)),t}var t;return C()(ContentObjectReviewForm,e),h()(ContentObjectReviewForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.objectStore.ReviewContentObject({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,approve:this.state.approve,note:this.state.note});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"FrameCompleted",value:function FrameCompleted(){this.setState({completed:!0})}},{key:"ReviewAppFrame",value:function ReviewAppFrame(e){var t={contentSpaceId:Ot.contentSpaceId,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,type:this.props.objectStore.object.type,action:"review"};return s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("legend",null,e),s.a.createElement(Cr,{appUrl:this.state.reviewAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted}),s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"PageContent",value:function PageContent(){if(this.state.completed)return s.a.createElement(Wt.a,{push:!0,to:ma.a.dirname(this.props.match.url)});var e='Review "'.concat(this.props.objectStore.object.name,'"');return this.state.reviewAppUrl?this.ReviewAppFrame(e):s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:e,redirectPath:ma.a.dirname(this.props.match.url),cancelPath:ma.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"approve"},"Approval"),s.a.createElement(T.p,{name:"approve",inline:!0,options:[["Approve",!0],["Reject",!1]],selected:this.state.approve,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"note"},"Note"),s.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId});case 2:e.setState({reviewAppUrl:e.props.objectStore.object.reviewAppUrl||e.props.objectStore.object.typeInfo&&e.props.objectStore.object.typeInfo.reviewAppUrl});case 3:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),ContentObjectReviewForm}(s.a.Component))||ir)||ir,Pr=Object(P.b)("objectStore")(cr=Object(P.c)(cr=function(e){function ContentObjectPartsForm(e){var t;return d()(this,ContentObjectPartsForm),(t=f()(this,v()(ContentObjectPartsForm).call(this,e))).state={encrypt:!0,progress:{}},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleFileSelect=t.HandleFileSelect.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(ContentObjectPartsForm,e),h()(ContentObjectPartsForm,[{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e,t=this;return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=function callback(e){var a=e.uploaded,r=e.total,n=e.filename,o=Object(ie.f)(a,r);t.setState({progress:Z()({},t.state.progress,pa()({},n,o))})},a.next=3,this.props.objectStore.UploadParts({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,files:this.state.files,encrypt:this.state.encrypt,callback:e});case 3:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"PageContent",value:function PageContent(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:"Upload parts to ".concat(this.props.objectStore.object.meta.name||this.props.objectStore.objectId),redirectPath:ma.a.dirname(this.props.match.url),cancelPath:ma.a.dirname(this.props.match.url),className:"small-form",OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"files",className:"align-top"},"Files"),s.a.createElement(T.d,{name:"files",onChange:this.HandleFileSelect,required:!0,multiple:!0,progress:this.state.progress}),s.a.createElement("label",{htmlFor:"encrypt"},"Encrypt Parts"),s.a.createElement("input",{type:"checkbox",name:"encrypt",value:this.state.encrypt,checked:this.state.encrypt,onChange:function onChange(){e.setState({encrypt:!e.state.encrypt})}}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId});case 2:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),ContentObjectPartsForm}(s.a.Component))||cr)||cr,Hr=Object(P.b)("libraryStore")(sr=Object(P.b)("objectStore")(sr=Object(P.c)(sr=function(e){function ContentApps(e){var t;return d()(this,ContentApps),(t=f()(this,v()(ContentApps).call(this,e))).state={role:"",showUpload:!1,pageVersion:0},t.PageContent=t.PageContent.bind(Lt()(t)),t.DeleteApp=t.DeleteApp.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t,a;return C()(ContentApps,e),h()(ContentApps,[{key:"HandleSubmit",value:(a=U()(B.a.mark(function _callee(e){var t,a,r;return B.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.fileList,a=e.isDirectory,r=e.callback,n.next=3,this.props.objectStore.AddApp({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,role:this.state.role,isDirectory:a,fileList:t,callback:r});case 3:case"end":return n.stop()}},_callee,this)})),function HandleSubmit(e){return a.apply(this,arguments)})},{key:"UploadModal",value:function UploadModal(){var e=this;if(!this.state.showUpload)return null;var t=function closeModal(){return e.setState({showUpload:!1})};return s.a.createElement(T.n,{closable:!0,OnClickOutside:t},s.a.createElement(Da,{legend:"Upload ".concat(this.state.role," Application"),path:this.state.path,displayPath:this.state.displayPath,Upload:this.HandleSubmit,OnCancel:t,OnComplete:function OnComplete(){t(),e.setState({pageVersion:e.state.pageVersion+1})}}))}},{key:"AppRoles",value:function AppRoles(){return["display","manage"]}},{key:"DeleteApp",value:(t=U()(B.a.mark(function _callee3(e){var t=this;return B.a.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(T.e)({message:"Are you sure you want to remove the ".concat(e," app?"),onConfirm:function(){var a=U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.props.objectStore.RemoveApp({libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,role:e});case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return a.stop()}},_callee2)}));return function onConfirm(){return a.apply(this,arguments)}}()});case 2:case"end":return a.stop()}},_callee3)})),function DeleteApp(e){return t.apply(this,arguments)})},{key:"AppEntry",value:function AppEntry(e){var t,a,r,n=this,o=this.state.apps[e];if(o)r=s.a.createElement(T.a,{onClick:function onClick(){return n.DeleteApp(e)},className:"action danger action-compact action-wide"},"Remove ".concat(e.capitalize()," App")),t=s.a.createElement(ya,{label:"Name"},o.filename);else{var i=this.props.objectStore.object.typeInfo&&this.props.objectStore.object.typeInfo.meta||{},c=i["eluv.".concat(e,"App")];if(c){var l=i.name||"content type";t=s.a.createElement(ya,{label:"Name"},"".concat(c," (").concat(l,")"))}}return a=s.a.createElement(T.a,{onClick:function onClick(){return n.setState({showUpload:!0,role:e})},className:"action-compact action-wide"},"Add ".concat(e.capitalize()," App")),s.a.createElement("div",{key:"app-entry"+e},s.a.createElement("h3",null,e.capitalize()),s.a.createElement("div",{className:"indented"},t,s.a.createElement(ya,null,a,r)))}},{key:"PageContent",value:function PageContent(){var e=this,t=this.props.objectStore.object.isContentLibraryObject?this.props.libraryStore.library.name+" > Library Object":this.props.libraryStore.library.name+" > "+this.props.objectStore.object.name;return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Pt,{header:t,subHeader:"App management"}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},this.AppRoles().map(function(t){return e.AppEntry(t)}))),this.UploadModal())}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{key:"apps-page-".concat(this.state.pageVersion),Load:U()(B.a.mark(function _callee4(){var t;return B.a.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.libraryStore.ContentLibrary({libraryId:e.props.objectStore.libraryId});case 2:return a.next=4,e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId});case 4:t={},e.AppRoles().map(function(a){var r=e.props.objectStore.object.meta["eluv.".concat(a,"App")];r&&(t[a]={filename:r})}),e.setState({apps:t});case 7:case"end":return a.stop()}},_callee4)})),render:this.PageContent})}}]),ContentApps}(s.a.Component))||sr)||sr)||sr,Gr=Object(P.b)("groupStore")(lr=Object(P.c)(lr=function(e){function AccessGroups(e){var t;return d()(this,AccessGroups),(t=f()(this,v()(AccessGroups).call(this,e))).state={listingVersion:0},t.AccessGroups=t.AccessGroups.bind(Lt()(t)),t}return C()(AccessGroups,e),h()(AccessGroups,[{key:"AccessGroups",value:function AccessGroups(){var e=this;return this.props.groupStore.accessGroups?Object.values(this.props.groupStore.accessGroups).map(function(t){return{id:t.address,title:t.name,description:t.address,status:"",icon:_.a,link:X()(e.props.match.url,t.address)}}):[]}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this;return s.a.createElement(sa,{className:"compact",pageId:"AccessGroups",paginate:!0,count:this.props.groupStore.accessGroupsCount,LoadContent:function(){var t=U()(B.a.mark(function _callee(t){var a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,e.props.groupStore.ListAccessGroups({params:a});case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:this.AccessGroups,noIcon:!0,noStatus:!0})}},{key:"render",value:function render(){return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:"/access-groups/create"},"New Access Group")),s.a.createElement(Pt,{header:"Access Groups"}),this.AccessGroupsListing())}}]),AccessGroups}(s.a.Component))||lr)||lr,Rr=a(110),zr=Object(P.b)("groupStore")(ur=Object(P.c)(ur=function(e){function AccessGroup(e){var t;return d()(this,AccessGroup),(t=f()(this,v()(AccessGroup).call(this,e))).state={visibleElements:{},view:"members",listingVersion:0},t.PageContent=t.PageContent.bind(Lt()(t)),t.DeleteAccessGroup=t.DeleteAccessGroup.bind(Lt()(t)),t.AccessGroupMembers=t.AccessGroupMembers.bind(Lt()(t)),t.RemoveAccessGroupMember=t.RemoveAccessGroupMember.bind(Lt()(t)),t.LeaveAccessGroup=t.LeaveAccessGroup.bind(Lt()(t)),t}return C()(AccessGroup,e),h()(AccessGroup,[{key:"DeleteAccessGroup",value:function(){var e=U()(B.a.mark(function _callee2(){var e=this;return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.e)({message:"Are you sure you want to delete this access group?",onConfirm:function(){var t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.groupStore.RemoveAccessGroup({address:e.props.groupStore.contractAddress});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}));return function DeleteAccessGroup(){return e.apply(this,arguments)}}()},{key:"RemoveAccessGroupMember",value:function(){var e=U()(B.a.mark(function _callee4(e){var t,a=this;return B.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t="managers"===this.state.view,r.next=3,Object(T.e)({message:"Are you sure you want to remove this ".concat(t?"manager":"member"," from the group?"),onConfirm:function(){var r=U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.props.groupStore.RemoveAccessGroupMember({contractAddress:a.props.groupStore.contractAddress,memberAddress:e,manager:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_callee3)}));return function onConfirm(){return r.apply(this,arguments)}}()});case 3:this.state.listingRef&&this.state.listingRef.Load();case 4:case"end":return r.stop()}},_callee4,this)}));return function RemoveAccessGroupMember(t){return e.apply(this,arguments)}}()},{key:"LeaveAccessGroup",value:function(){var e=U()(B.a.mark(function _callee6(){var e=this;return B.a.wrap(function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.e)({message:"Are you sure you want to leave this group?",onConfirm:function(){var t=U()(B.a.mark(function _callee5(){return B.a.wrap(function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.groupStore.LeaveAccessGroup({contractAddress:e.props.groupStore.contractAddress});case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}},_callee5)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee6)}));return function LeaveAccessGroup(){return e.apply(this,arguments)}}()},{key:"AccessGroupMembers",value:function AccessGroupMembers(){var e=this,t="managers"===this.state.view?this.props.groupStore.accessGroup.managers:this.props.groupStore.accessGroup.members;return t?Object.values(t).map(function(t){var a=e.props.groupStore.accessGroup.isManager||e.props.groupStore.accessGroup.isOwner;return{id:t.address,sortKey:t.name||"zz",key:"".concat(e.state.view,"-").concat(t.address),title:t.name,description:t.address,status:s.a.createElement("div",{className:"listing-action-icon"},s.a.createElement(T.j,{icon:R.a,label:"Remove ".concat("managers"===e.state.view?"Manager":"Member"),onClick:U()(B.a.mark(function _callee7(){return B.a.wrap(function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.RemoveAccessGroupMember(t.address);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_callee7)})),hidden:!a},"Remove"))}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"AccessGroupMembersListing",value:function AccessGroupMembersListing(){var e=this,t="managers"===this.state.view?this.props.groupStore.accessGroup.managersCount:this.props.groupStore.accessGroup.membersCount;return s.a.createElement(sa,{ref:function ref(t){e.state.listingRef||e.setState({listingRef:t})},key:"".concat(this.state.view,"-listing"),className:"compact",pageId:"AccessGroupMembers",paginate:!0,count:t,LoadContent:function(){var t=U()(B.a.mark(function _callee8(t){var a;return B.a.wrap(function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,e.props.groupStore.ListAccessGroupMembers({contractAddress:e.props.groupStore.contractAddress,showManagers:"managers"===e.state.view,params:a});case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}},_callee8)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:this.AccessGroupMembers,noIcon:!0})}},{key:"Actions",value:function Actions(){return s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"edit"),hidden:!this.props.groupStore.accessGroup.isOwner},"Manage"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"add-member"),hidden:!this.props.groupStore.accessGroup.isManager},"Add Member"),s.a.createElement(T.a,{className:"danger",onClick:this.LeaveAccessGroup,hidden:this.props.groupStore.accessGroup.isOwner},"Leave Group"),s.a.createElement(T.a,{className:"danger",onClick:this.DeleteAccessGroup,hidden:!0},"Delete"))}},{key:"PageContent",value:function PageContent(){var e=this;if(this.state.redirect)return s.a.createElement(Wt.a,{push:!0,to:ma.a.dirname(this.props.match.url)});var t=this.props.groupStore.accessGroup.ownerName?s.a.createElement("span",null,this.props.groupStore.accessGroup.ownerName,s.a.createElement("span",{className:"help-text"},"(",this.props.groupStore.accessGroup.owner,")")):this.props.groupStore.accessGroup.owner,a=s.a.createElement(ja,{className:"object-description",text:this.props.groupStore.accessGroup.description});return s.a.createElement("div",{className:"page-container access-group-page-container"},this.Actions(),s.a.createElement(Pt,{header:this.props.groupStore.accessGroup.name}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement(ya,{label:"Description"},a),s.a.createElement(ya,{label:"Owner"},t),s.a.createElement(ya,{label:"Contract Address"},s.a.createElement(S.a,{className:"inline-link",to:X()(this.props.match.url,"contract")},this.props.groupStore.accessGroup.address))),s.a.createElement(T.q,{options:[["Members","members"],["Managers","managers"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}}),this.AccessGroupMembersListing()))}},{key:"render",value:function render(){var e=this;return s.a.createElement(Rr.a,{Load:U()(B.a.mark(function _callee9(){return B.a.wrap(function _callee9$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.props.groupStore.AccessGroup({contractAddress:e.props.groupStore.contractAddress}));case 1:case"end":return t.stop()}},_callee9)})),render:this.PageContent})}}]),AccessGroup}(s.a.Component))||ur)||ur,Dr=Object(P.b)("groupStore")(pr=Object(P.c)(pr=function(e){function AccessGroupForm(e){var t;return d()(this,AccessGroupForm),(t=f()(this,v()(AccessGroupForm).call(this,e))).state={createForm:!e.groupStore.contractAddress,name:"",description:""},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(AccessGroupForm,e),h()(AccessGroupForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e;return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.groupStore.SaveAccessGroup({address:this.props.groupStore.contractAddress,name:this.state.name,description:this.state.description});case 2:e=t.sent,this.setState({contractAddress:e});case 4:case"end":return t.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"PageContent",value:function PageContent(){var e=ma.a.dirname(this.props.match.url),t=this.state.createForm?X()(e,this.state.contractAddress||""):e;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:this.state.createForm?"Create Access Group":"Manage Access Group",redirectPath:t,cancelPath:e,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"description",className:"align-top"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.createForm){t.next=4;break}return t.next=3,e.props.groupStore.AccessGroup({contractAddress:e.props.groupStore.contractAddress});case 3:e.setState({name:e.props.groupStore.accessGroup.name,description:e.props.groupStore.accessGroup.description});case 4:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),AccessGroupForm}(s.a.Component))||pr)||pr,Br=Object(P.b)("groupStore")(dr=Object(P.c)(dr=function(e){function AccessGroupMemberForm(e){var t;return d()(this,AccessGroupMemberForm),(t=f()(this,v()(AccessGroupMemberForm).call(this,e))).state={memberAddress:"",manager:!1},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(AccessGroupMemberForm,e),h()(AccessGroupMemberForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.groupStore.AddAccessGroupMember({contractAddress:this.props.groupStore.contractAddress,memberAddress:this.state.memberAddress,manager:this.state.manager});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"PageContent",value:function PageContent(){var e=this,t=ma.a.dirname(this.props.match.url);return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:"Add member to '".concat(this.props.groupStore.accessGroup.name,"'"),redirectPath:t,cancelPath:t,OnSubmit:this.HandleSubmit,className:"small-form"},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"memberAddress"},"Address"),s.a.createElement("input",{name:"memberAddress",value:this.state.memberAddress,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"manager"},"Manager"),s.a.createElement("input",{type:"checkbox",name:"manager",value:this.state.manager,onChange:function onChange(){return e.setState({manager:!e.state.manager})}}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.groupStore.AccessGroup({contractAddress:e.props.groupStore.contractAddress});case 2:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),AccessGroupMemberForm}(s.a.Component))||dr)||dr,$r=Object(P.b)("contractStore")(mr=Object(P.c)(mr=function(e){function Contracts(e){var t;return d()(this,Contracts),(t=f()(this,v()(Contracts).call(this,e))).state={view:t.props.match.url.endsWith("/saved")?"saved":"deployed",listingVersion:0},t.Contracts=t.Contracts.bind(Lt()(t)),t}return C()(Contracts,e),h()(Contracts,[{key:"Contracts",value:function Contracts(e){var t=this;return e?Object.keys(e).map(function(a){var r="deployed"===t.state.view?X()("/contracts","deployed",a):X()("/contracts",a),n=e[a],o=Object.values(n.abi).filter(function(e){return"event"===e.type}).length;o=1===o?o+" event":o+" events";var i=Object.values(n.abi).filter(function(e){return"function"===e.type}).length;return i=1===i?i+" method":i+" methods",{id:a,title:n.name,description:n.description,status:"".concat(o,", ").concat(i),link:r}}):[]}},{key:"ContractsListing",value:function ContractsListing(){var e=this;return"saved"===this.state.view?s.a.createElement(sa,{key:"contracts-listing",className:"compact",pageId:"Contracts",paginate:!0,count:this.props.contractStore.contractsCount,LoadContent:function(){var t=U()(B.a.mark(function _callee(t){var a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,e.props.contractStore.ListContracts({params:a});case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:function RenderContent(){return e.Contracts(e.props.contractStore.contracts)},noIcon:!0}):s.a.createElement(sa,{key:"deployed-contracts-listing",pageId:"Contracts",paginate:!0,count:this.props.contractStore.deployedContractsCount,LoadContent:function(){var t=U()(B.a.mark(function _callee2(t){var a;return B.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,e.props.contractStore.ListDeployedContracts({params:a});case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}},_callee2)}));return function(e){return t.apply(this,arguments)}}(),RenderContent:function RenderContent(){return e.Contracts(e.props.contractStore.deployedContracts)},noIcon:!0})}},{key:"render",value:function render(){var e=this,t=s.a.createElement(T.q,{options:[["Deployed","deployed"],["Saved","saved"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}});return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:"/contracts/compile"},"New Contract"),s.a.createElement(T.a,{type:"link",to:"/contracts/deploy"},"Deploy Contract"),s.a.createElement(T.a,{type:"link",to:"/contracts/watch"},"Watch Contract")),s.a.createElement(Pt,{header:"Contracts"}),t,this.ContractsListing())}}]),Contracts}(s.a.Component))||mr)||mr,Ur=Object(P.b)("contractStore")(hr=Object(P.c)(hr=function(e){function Contract(e){var t;return d()(this,Contract),(t=f()(this,v()(Contract).call(this,e))).state={visibleMethods:{},deleted:!1},t.PageContent=t.PageContent.bind(Lt()(t)),t.DeleteContract=t.DeleteContract.bind(Lt()(t)),t}var t;return C()(Contract,e),h()(Contract,[{key:"ToggleElement",value:function ToggleElement(e){this.setState({visibleMethods:Z()({},this.state.visibleMethods,pa()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleMethods[t],n=(r?"Hide ":"Show ")+e;return s.a.createElement(T.a,{className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleElement(t)}},n)}},{key:"DeleteContract",value:(t=U()(B.a.mark(function _callee2(){var e=this;return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.e)({message:"Are you sure you want to remove this contract?",onConfirm:function(){var t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.contractStore.RemoveContract({name:e.props.contractStore.contractName});case 2:e.setState({deleted:!0});case 3:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)})),function DeleteContract(){return t.apply(this,arguments)})},{key:"ContractInfo",value:function ContractInfo(e){var t=this;return e.map(function(e){if(!e.name&&"constructor"!==e.type)return null;var a=t.state.visibleMethods[e.name]?s.a.createElement("pre",null,JSON.stringify(e,null,2)):null;return s.a.createElement("div",{className:"indented",key:"contract-method-"+e.name},s.a.createElement(ya,{label:e.name,wideLabel:!0},t.ToggleButton(e.type.capitalize()+" Info",e.name)),a)})}},{key:"PageContent",value:function PageContent(){if(this.state.deleted)return s.a.createElement(Wt.a,{push:!0,to:ma.a.dirname(this.props.match.url)});var e=s.a.createElement(ja,{className:"object-description",text:this.props.contractStore.contract.description}),t=this.state.visibleMethods.__abi?s.a.createElement("pre",null,JSON.stringify(this.props.contractStore.contract.abi,null,2)):null,a=this.state.visibleMethods.__bytecode?s.a.createElement("pre",null,this.props.contractStore.contract.bytecode):null,r=this.props.contractStore.contract.abi||[],n=Object.values(r),o=n.filter(function(e){return"constructor"===e.type}),i=n.filter(function(e){return"event"===e.type}),c=n.filter(function(e){return"function"===e.type}),l=c.filter(function(e){return e.constant}),u=c.filter(function(e){return!e.constant});return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:"/contracts/saved",className:"secondary"},"Back"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"edit")},"Edit Contract"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"deploy")},"Deploy Contract"),s.a.createElement(T.a,{className:"danger",onClick:this.DeleteContract},"Delete Contract")),s.a.createElement(Pt,{header:this.props.contractStore.contractName}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Contract Info"),s.a.createElement(ya,{label:"Description"},e),s.a.createElement(ya,{label:"ABI"},this.ToggleButton("Full ABI","__abi")),t,s.a.createElement(ya,{label:"Bytecode"},this.ToggleButton("Bytecode","__bytecode")),a,s.a.createElement("h3",null,"Contract Constructor"),this.ContractInfo(o),s.a.createElement("h3",null,"Constant Methods"),this.ContractInfo(l),s.a.createElement("h3",null,"Dynamic Methods"),this.ContractInfo(u),s.a.createElement("h3",null,"Contract Events"),this.ContractInfo(i))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.contractStore.ListContracts({params:{paginate:!1}});case 2:case"end":return t.stop()}},_callee3)})),render:this.PageContent})}}]),Contract}(s.a.Component))||hr)||hr,qr=Object(P.b)("contractStore")(br=Object(P.c)(br=function(e){function CompileContractForm(e){var t;return d()(this,CompileContractForm),(t=f()(this,v()(CompileContractForm).call(this,e))).state={compileFromSource:!0,files:[],name:"",description:"",abi:"",bytecode:""},t.HandleFileSelect=t.HandleFileSelect.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(CompileContractForm,e),h()(CompileContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value)),"compileFromSource"===e.target.name&&this.setState({errors:void 0})}},{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.compileFromSource){e.next=12;break}return e.prev=1,e.next=4,this.props.contractStore.CompileContracts(this.state.files);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.setState({errors:e.t0}),"Compilation Error";case 10:e.next=14;break;case 12:return e.next=14,this.props.contractStore.SaveContract({name:this.state.name,description:this.state.description,abi:this.state.abi,bytecode:this.state.bytecode});case 14:case"end":return e.stop()}},_callee,this,[[1,6]])})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"Errors",value:function Errors(){return this.state.errors?s.a.createElement("pre",null,"Compilation errors: \n\n"+this.state.errors):null}},{key:"AbiForm",value:function AbiForm(){return this.state.compileFromSource?null:s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),s.a.createElement(T.l,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"bytecode"},"Bytecode"),s.a.createElement("textarea",{name:"bytecode",required:!0,value:this.state.bytecode,onChange:this.HandleInputChange}))}},{key:"FileSelection",value:function FileSelection(){return this.state.compileFromSource?s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"contractFiles",className:"align-top"},"Contract Files"),s.a.createElement(T.d,{name:"contractFiles",onChange:this.HandleFileSelect,required:!0,multiple:!0})):null}},{key:"render",value:function render(){var e=ma.a.dirname(this.props.match.url),t=this.state.compileFromSource?X()(e,"save"):X()(e,"saved");return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:"Compile contracts",redirectPath:t,cancelPath:e,status:status,OnSubmit:this.HandleSubmit,className:"small-form"},s.a.createElement("div",null,s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"source"},"Source"),s.a.createElement(T.p,{name:"compileFromSource",options:[["Solidity",!0],["ABI and Bytecode",!1]],inline:!0,selected:this.state.compileFromSource,onChange:this.HandleInputChange})),this.FileSelection(),this.AbiForm(),this.Errors())))}}]),CompileContractForm}(s.a.Component))||br)||br,Vr=Object(P.b)("contractStore")(fr=Object(P.c)(fr=function(e){function ContractForm(e){var t;return d()(this,ContractForm),(t=f()(this,v()(ContractForm).call(this,e))).state={contractName:"",name:"",description:"",abi:"",bytecode:""},t.PageContent=t.PageContent.bind(Lt()(t)),t.SwitchContract=t.SwitchContract.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(ContractForm,e),h()(ContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"SwitchContract",value:function SwitchContract(e){if(this.props.contractStore.compiledContracts){var t=e.split(":").slice(-1)[0],a=this.props.contractStore.compiledContracts[e];this.setState({name:t,selectedContract:e,abi:a.interface,bytecode:a.bytecode,contract:a})}}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.contractStore.SaveContract({name:this.state.name,oldContractName:this.state.contractName||this.state.name,description:this.state.description,abi:this.state.contract.interface||this.state.contract.abi,bytecode:this.state.contract.bytecode});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"AvailableContracts",value:function AvailableContracts(){var e=this,t=Object.keys(this.props.contractStore.compiledContracts).map(function(e){return s.a.createElement("option",{key:e,value:e},e)});return s.a.createElement("select",{key:"contract-options",name:"selectedContract",onChange:function onChange(t){return e.SwitchContract(t.target.value)}},t)}},{key:"ContractSelection",value:function ContractSelection(){return this.state.createForm?[s.a.createElement("label",{key:"selected-contract-label",htmlFor:"selectedContract"},"Contract"),this.AvailableContracts()]:null}},{key:"PageContent",value:function PageContent(){if(this.state.createForm&&!this.props.contractStore.compiledContracts)return s.a.createElement(Wt.a,{to:ma.a.dirname(this.props.match.url)});var e=ma.a.dirname(this.props.match.url);return this.props.contractStore.contract&&(e=X()(ma.a.dirname(ma.a.dirname(this.props.match.url)),this.state.name)),s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:e,className:"secondary"},"Back")),s.a.createElement(T.i,{legend:this.state.createForm?"Save contract":"Edit Contract",redirectPath:e,cancelPath:e,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),this.ContractSelection(),s.a.createElement("label",{htmlFor:"description",className:"align-top"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){var t,a;return B.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.props.contractStore.ListContracts({params:{paginate:!1}});case 2:return r.next=4,e.props.contractStore.ListDeployedContracts({params:{paginate:!1}});case 4:t=e.props.contractStore.contract||{},e.setState({createForm:!e.props.contractStore.contract,contract:t,contractName:t.name,name:t.name||"",description:t.description||"",abi:t.abi||"",bytecode:t.bytecode||""}),e.state.createForm&&e.props.contractStore.compiledContracts&&(a=Object.keys(e.props.contractStore.compiledContracts)[0],e.SwitchContract(a));case 7:case"end":return r.stop()}},_callee2)})),render:this.PageContent})}}]),ContractForm}(s.a.Component))||fr)||fr,Wr=Object(P.b)("contractStore")(yr=Object(P.c)(yr=function(e){function WatchContractForm(e){var t;return d()(this,WatchContractForm),(t=f()(this,v()(WatchContractForm).call(this,e))).state={name:"",description:"",abi:"",address:""},t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t;return C()(WatchContractForm,e),h()(WatchContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.contractStore.WatchContract({name:this.state.name,description:this.state.description,address:this.state.address,abi:this.state.abi});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=X()(ma.a.dirname(this.props.match.url),"deployed",this.state.address);return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:"Watch Deployed Contract",redirectPath:e,cancelPath:ma.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{name:"address",value:this.state.address,required:!0,placeholder:"0x0000000000000000000000000000000000000000",onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),s.a.createElement(T.l,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange}))))}}]),WatchContractForm}(s.a.Component))||yr)||yr,Kr=Object(P.b)("contractStore")(vr=Object(P.c)(vr=function(e){function DeployContractForm(e){var t;d()(this,DeployContractForm),t=f()(this,v()(DeployContractForm).call(this,e));var a=e.contractStore.contractName,r=Ot.contentSpaceLibraryId===e.contractStore.libraryId,n=!!a,o=ma.a.dirname(t.props.match.url);return n&&(o=ma.a.dirname(o)),t.state={name:"",description:"",funds:0,redirectPath:o,isContentObjectContract:!!t.props.contractStore.objectId,isContentTypeContract:r,selectedContract:a,fixedContract:n,contractSource:"saved",contracts:{},currentContractFunds:0},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleContractChange=t.HandleContractChange.bind(Lt()(t)),t.HandleContractSourceChange=t.HandleContractSourceChange.bind(Lt()(t)),t.HandleConstructorInputChange=t.HandleConstructorInputChange.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t}var t,a;return C()(DeployContractForm,e),h()(DeployContractForm,[{key:"Contracts",value:function Contracts(){return"saved"===this.state.contractSource?this.props.contractStore.contracts:this.props.contractStore.deployedContracts}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleContractSourceChange",value:function HandleContractSourceChange(e){var t=this;this.setState({contractSource:e.target.value,selectedContract:void 0},function(){return t.HandleContractChange()})}},{key:"HandleContractChange",value:(a=U()(B.a.mark(function _callee(e){var t,a,r,n,o;return B.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(t=this.Contracts(),a=e&&e.target.value||this.state.selectedContract||Object.keys(t)[0],r=t[a],a&&r){i.next=6;break}return this.setState({selectedContract:a}),i.abrupt("return");case 6:n=r.abi.find(function(e){return"constructor"===e.type}),o={},n&&n.inputs&&n.inputs.map(function(e){o[e.name]=""}),this.setState({selectedContract:a,constructorInputs:o,constructor:n,factoryAbi:"",funds:0}),"deployed"===this.state.contractSource&&this.setState({balance:this.props.contractStore.GetContractBalance({contractAddress:r.address})});case 11:case"end":return i.stop()}},_callee,this)})),function HandleContractChange(e){return a.apply(this,arguments)})},{key:"HandleConstructorInputChange",value:function HandleConstructorInputChange(e){this.setState({constructorInputs:Z()({},this.state.constructorInputs,pa()({},e.target.name,e.target.value))})}},{key:"ConstructorInput",value:function ConstructorInput(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map(function(t){return e.state.constructorInputs[t.name]}):[]}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee2(){var e,t;return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Contracts()[this.state.selectedContract],!this.state.isContentObjectContract){a.next=7;break}return a.next=4,this.props.contractStore.SetCustomContract({libraryId:this.props.contractStore.libraryId,objectId:this.props.contractStore.objectId,contractName:this.state.selectedContract,contractDescription:e.description,address:e.address,abi:e.abi,factoryAbi:this.state.factoryAbi,bytecode:e.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds});case 4:t=a.sent,a.next=10;break;case 7:return a.next=9,this.props.contractStore.DeployContract({contractName:this.state.name,contractDescription:this.state.description,abi:e.abi,bytecode:e.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds});case 9:t=a.sent;case 10:this.setState({contractAddress:t});case 11:case"end":return a.stop()}},_callee2,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"ConstructorForm",value:function ConstructorForm(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map(function(t){return[s.a.createElement("label",{key:"contract-constructor-param-label-"+t.name,htmlFor:t.name},t.name),s.a.createElement("input",{key:"contract-constructor-param-"+t.name,placeholder:t.type,name:t.name,required:!0,value:e.state.constructorInputs[t.name],onChange:e.HandleConstructorInputChange})]}):null}},{key:"ContractSelection",value:function ContractSelection(){var e=this;if(this.state.fixedContract)return[s.a.createElement("label",{key:"contract-selection-label"},"Contract"),s.a.createElement("div",{key:"contract-selection",className:"form-text"},this.state.selectedContract)];var t=Object.keys(this.Contracts()).map(function(t){return s.a.createElement("option",{key:t,value:t},e.Contracts()[t].name)});return[s.a.createElement("label",{key:"contract-selection-label",htmlFor:"selectedContract"},"Contract"),s.a.createElement("select",{key:"contract-selection",name:"selectedContract",onChange:this.HandleContractChange,value:this.state.selectedContract,disabled:this.state.fixedContract},t)]}},{key:"ContractSourceSelection",value:function ContractSourceSelection(){return this.state.fixedContract||!this.state.isContentObjectContract?null:[s.a.createElement("label",{key:"contract-source-label",htmlFor:"contractSource"},"Contract Source"),s.a.createElement(T.p,{key:"contract-source",name:"contractSource",options:[["Saved","saved"],["Deployed","deployed"]],inline:!0,selected:this.state.contractSource,onChange:this.HandleContractSourceChange})]}},{key:"ContractInfoFields",value:function ContractInfoFields(){return this.state.isContentObjectContract?null:[s.a.createElement("label",{key:"contract-name-label",htmlFor:"name"},"Name"),s.a.createElement("input",{key:"contract-name",name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),s.a.createElement("label",{key:"contract-description-label",className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{key:"contract-description",name:"description",value:this.state.description,onChange:this.HandleInputChange})]}},{key:"ContractFunds",value:function ContractFunds(e){var t=[],a="Funds";return"deployed"===this.state.contractSource&&(a="Additional Funds",t=[s.a.createElement("label",{key:"contract-balance-label"},"Current Balance"),s.a.createElement("div",{key:"contract-balance",className:"form-text"},e)]),[].concat(K()(t),[s.a.createElement("label",{key:"contract-funds-label",htmlFor:"funds"},a),s.a.createElement("input",{key:"contract-funds",name:"funds",value:this.state.funds,type:"number",step:"0.00000001",onChange:this.HandleInputChange})])}},{key:"FactoryAbi",value:function FactoryAbi(){if(this.state.isContentTypeContract)return[s.a.createElement("label",{key:"contract-factory-abi-info-label"},"Factory ABI"),s.a.createElement("div",{key:"contract-factory-abi-info",className:"form-text"},"If this contract is a factory, specify the ABI of the contract that will be applied to the content objects of this type"),s.a.createElement("label",{key:"contract-factory-abi-label",className:"align-top",htmlFor:"factoryAbi"}),s.a.createElement(T.l,{key:"contract-factory-abi",name:"factoryAbi",value:this.state.factoryAbi,onChange:this.HandleInputChange})]}},{key:"ContractForm",value:function ContractForm(){if(0===Object.keys(this.Contracts()).length)return s.a.createElement("div",null,s.a.createElement("div",{className:"form-content"},this.ContractSourceSelection()),s.a.createElement("label",null),s.a.createElement("div",{className:"form-text"},"No ".concat(this.state.contractSource," contracts available")));var e,t=this.Contracts()[this.state.selectedContract]||{};return t.description&&(e=[s.a.createElement("label",{key:"contract-description-label",htmlFor:"selectedContractDescription"}),s.a.createElement("div",{key:"contract-description",className:"form-text"},t.description)]),s.a.createElement("div",null,s.a.createElement("div",{className:"form-content"},this.ContractSourceSelection(),this.ContractSelection(),this.FactoryAbi(),this.ContractInfoFields(),e,this.ConstructorForm(),this.ContractFunds(t.balance)))}},{key:"PageContent",value:function PageContent(){var e=this.state.isContentObjectContract?"Set Custom Contract":"Deploy Custom Contract",t=ma.a.dirname(this.props.match.url),a=this.state.isContentObjectContract?t:X()("/contracts","deployed",this.state.contractAddress||"");return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(T.i,{legend:e,redirectPath:a,cancelPath:t,OnSubmit:this.HandleSubmit},this.ContractForm()))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee3(){var t,a;return B.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.props.contractStore.ListContracts({params:{paginate:!1}});case 2:return r.next=4,e.props.contractStore.ListDeployedContracts({params:{paginate:!1}});case 4:t=e.state.selectedContract,a="saved",t||(Object.keys(e.props.contractStore.contracts).length>0?t=Object.keys(e.props.contractStore.contracts)[0]:Object.keys(e.props.contractStore.deployedContracts).length>0&&(t=Object.keys(e.props.contractStore.deployedContracts)[0],a="deployed")),e.setState({selectedContract:t,contractSource:a},function(){return e.HandleContractChange()});case 8:case"end":return r.stop()}},_callee3)})),render:this.PageContent})}}]),DeployContractForm}(s.a.Component))||vr)||vr,Jr=a(149),Zr=a.n(Jr),Yr=a(151),Qr=a.n(Yr),Xr={accessGroup:"accessGroup",contentSpace:"contentSpace",contentType:"contentType",customObject:"customObject",library:"library",object:"object",unknown:"unknown"},en=function DetermineContractInterface(e){var t=e.libraryId,a=e.objectId,r=e.isAccessGroup,n=e.isCustomContentObjectContract,o=e.contractAddressParam,i=t===Ot.contentSpaceLibraryId,c=a&&Ot.utils.EqualHash(t,a);return r?{type:Xr.accessGroup,description:"Base Access Group Contract",abi:oe.a.abi,contractAddress:o}:i&&c?{type:Xr.contentSpace,description:"Base Content Space Contract",abi:Zr.a.abi,contractAddress:Ot.utils.HashToAddress(t)}:c?{type:Xr.library,description:"Base Content Library Contract",abi:te.a.abi,contractAddress:Ot.utils.HashToAddress(t)}:i&&!n?{type:Xr.contentType,description:"Base Content Type Contract",abi:Qr.a.abi,contractAddress:Ot.utils.HashToAddress(a)}:a?n?{type:Xr.customObject,description:"Custom Content Object Contract",abi:void 0,contractAddress:void 0}:{type:Xr.object,description:"Base Content Object Contract",abi:re.a.abi,contractAddress:Ot.utils.HashToAddress(a)}:{type:Xr.unknown,description:void 0,abi:void 0,contractAddress:o}},tn=a(73),an=a.n(tn),rn=Object(P.b)("eventsStore")(gr=Object(P.c)(gr=function(e){function EventLogs(e){var t;return d()(this,EventLogs),(t=f()(this,v()(EventLogs).call(this,e))).state={view:"formatted"},t}return C()(EventLogs,e),h()(EventLogs,[{key:"Key",value:function Key(e){return"log-".concat(e.transactionHash,"-").concat(e.logIndex)}},{key:"Inputs",value:function Inputs(e){return e.values?Object.entries(e.values).filter(function(e){var t=Gt()(e,1)[0];return"length"!==t&&parseInt(t).toString()!==t}).map(function(e){var t=Gt()(e,2),a=t[0],r=t[1];return null==r?[a,"null"]:"object"===an()(r)&&r._hex?[a,"".concat(parseInt(r._hex,16)," (").concat(r._hex,")")]:66===r.length?[a,Object(ie.e)(r),r]:[a,r.toString()]}):[]}},{key:"InputFields",value:function InputFields(e){var t=this.Inputs(e);if(0===t.length)return null;var a=t.map(function(e){var t=Gt()(e,2),a=t[0],r=t[1];return s.a.createElement("div",{className:"labelled-field",key:"input-"+a},s.a.createElement("label",null,a),s.a.createElement("div",{className:"value",title:r.toString()},r))});return s.a.createElement("div",{className:"transaction-input"},s.a.createElement("div",{className:"section-label"},"Method Inputs"),a)}},{key:"Id",value:function Id(e){var t;switch(this.props.eventsStore.contractNames[Object(ie.d)(e)]){case"BaseContentSpace":t=Ot.utils.AddressToSpaceId(e);break;case"BaseLibrary":t=Ot.utils.AddressToLibraryId(e);break;case"BaseContent":case"BaseContentType":case"BsAccessWallet":case"BsAccessCtrlGrp":t=Ot.utils.AddressToObjectId(e);break;default:return}return t}},{key:"Value",value:function Value(e){return"0"===(e=e?Ot.utils.WeiToEther(parseInt(e._hex,16)):"0").toString()?null:s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"Value"),s.a.createElement("div",{className:"value"},s.a.createElement(T.c,{balance:e.toString()})))}},{key:"From",value:function From(e){return e.fromName?s.a.createElement("span",null,e.fromName,s.a.createElement("span",{className:"help-text"},"(",Object(ie.d)(e.from),")")):Object(ie.d)(e.from)}},{key:"To",value:function To(e){return e.to?e.toName?s.a.createElement("span",null,e.toName,s.a.createElement("span",{className:"help-text"},"(",Object(ie.d)(e.to),")")):Object(ie.d)(e.to):Object(ie.d)(e.contractAddress)}},{key:"ParsedLog",value:function ParsedLog(e){var t=this.props.eventsStore.contractNames[Object(ie.d)(e.address)];t||(t=e.contract);var a,r=t&&"Unknown"!==t?"".concat(t,"  ").concat(e.name):e.name,n=this.Id(e.address);return n&&(a=s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"ID"),s.a.createElement("div",{className:"value"},n))),s.a.createElement("div",{className:"log",key:this.Key(e)},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"title bold"},r||"Transaction"),s.a.createElement("div",{className:"info"},(e.logIndex||0)+1)),s.a.createElement("div",{className:"inputs indented"},s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"Transaction Hash"),s.a.createElement("div",{className:"value"},e.transactionHash)),a,s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,e.address?"Contract Address":"To"),s.a.createElement("div",{className:"value"},this.To(e))),s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"From"),s.a.createElement("div",{className:"value"},this.From(e))),this.Value(e.value),this.InputFields(e)))}},{key:"RenderEvent",value:function RenderEvent(e){var t=this;Array.isArray(e)||(e=[e]);var a=e&&e[0]?e[0].blockNumber:"unknown";return s.a.createElement("div",{className:"event",key:"event-"+a},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"title"},"Block "+a),s.a.createElement("div",{className:"info"},a)),s.a.createElement("div",{className:"logs"},e.map(function(e){return e.name,t.ParsedLog(e)})))}},{key:"Text",value:function Text(e){var t=this;return e.map(function(e){if(Array.isArray(e)||(e=[e]),e){var a=e&&e[0]?e[0].blockNumber:"unknown",r=e.map(function(e){var a,r=t.props.eventsStore.contractNames[Object(ie.d)(e.address)],n=t.Id(e.address),o=t.Inputs(e),i=e.value?"Value: ".concat(Ot.utils.WeiToEther(parseInt(e.value._hex,16))):"";return o.length>0&&((a=o.map(function(e){var t=Gt()(e,2),a=t[0],r=t[1];return"".concat(a,": ").concat(r)})).unshift("Method Inputs"),a=a.join("\n\t\t")),[r&&"Unknown"!==r?"".concat(r," | ").concat(e.name):e.name||"","Transaction Hash: ".concat(e.hash),n?"ID: ".concat(t.Id(e.address)):"",!e.to&&e.contractAddress?"Contract Address: ".concat(Object(ie.d)(e.address)):"To: ".concat(Object(ie.d)(e.to)),i,"From: ".concat(e.fromName?"".concat(e.fromName," (").concat(Object(ie.d)(e.from),")"):Object(ie.d)(e.from)),a].filter(function(e){return e}).join("\n\t")}).join("\n\n\t");return["Block ".concat(a),"\t".concat(r)].join("\n")}}).filter(function(e){return e}).join("\n\n")}},{key:"render",value:function render(){var e=this,t=this.props.events;if(this.props.filter){var a=this.props.filter.toLowerCase();t=t.filter(function(t){return t.find(function(t){return(t.contract||"").toLowerCase().includes(a)||(t.name||"").toLowerCase().includes(a)||(t.address||"").toLowerCase().includes(a)||(t.to||"").toLowerCase().includes(a)||(t.from||"").toLowerCase().includes(a)||(t.contractAddress||"").toLowerCase().includes(a)||(e.props.eventsStore.contractNames[Object(ie.d)(t.address)]||"").toLowerCase().includes(a)})})}return 0===t.length?s.a.createElement("h4",null,"No events found"):s.a.createElement("div",{className:"events-page"},s.a.createElement(T.q,{options:[["Formatted","formatted"],["Raw","raw"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}}),s.a.createElement("div",{className:"events-container"},"formatted"===this.state.view?t.map(function(t){return e.RenderEvent(t)}):s.a.createElement("div",{className:"events-raw"},s.a.createElement(T.f,{copy:this.Text(t),className:"events-copy-button"},s.a.createElement(T.k,{icon:ba.a})),s.a.createElement("pre",{className:"events-raw-text"},this.Text(t))),s.a.createElement("div",{ref:function ref(t){t&&e.props.scrollToBottom&&t.scrollIntoView()}})))}}]),EventLogs}(s.a.PureComponent))||gr)||gr;rn.propTypes={events:Tt.a.arrayOf(Tt.a.arrayOf(Tt.a.object)).isRequired,filter:Tt.a.string,scrollToBottom:Tt.a.bool};var nn,on=rn,cn=Object(P.b)("contractStore")(nn=Object(P.c)(nn=function(e){function DeployedContractMethodForm(e){var t;d()(this,DeployedContractMethodForm),t=f()(this,v()(DeployedContractMethodForm).call(this,e));var a=Array.isArray(e.contract.abi)?e.contract.abi.filter(function(e){return"function"===e.type}):[];return t.state={contractMethods:a},t.SetMethodInterface=t.SetMethodInterface.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t.HandleMethodChange=t.HandleMethodChange.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleComplete=t.HandleComplete.bind(Lt()(t)),t}var t;return C()(DeployedContractMethodForm,e),h()(DeployedContractMethodForm,[{key:"SetMethodInterface",value:function SetMethodInterface(e){var t=this.state.contractMethods.find(function(t){return t.name===e});if(t){var a={__funds:0};t.inputs=t.inputs.map(function(e,t){return e.name||(e.name="Argument "+t),a[e.name]="",e}),this.setState({methodInterface:t,inputs:a})}}},{key:"HandleMethodChange",value:function HandleMethodChange(e){this.setState({method:e.target.value,methodResults:void 0,transactionResults:void 0}),this.SetMethodInterface(e.target.value)}},{key:"HandleInputChange",value:function HandleInputChange(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState({inputs:Z()({},this.state.inputs,pa()({},e.target.name,t))})}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){var e,t,a,r;return B.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(this.state.method){n.next=2;break}return n.abrupt("return");case 2:return e=Z()({},this.state.inputs),t=e.__funds||0,delete e.__funds,a=Object.values(e),n.next=8,this.props.contractStore.CallContractMethod({contractAddress:this.props.contract.contractAddress,abi:this.props.contract.abi,methodName:this.state.method,methodArgs:a,value:t});case 8:return r=n.sent,n.t0=this,n.t1=r,n.t2=Z.a,n.t3={},n.t4=this.props.contract,n.next=16,this.props.contractStore.GetContractBalance({contractAddress:this.props.contract.contractAddress});case 16:n.t5=n.sent,n.t6={balance:n.t5},n.t7=(0,n.t2)(n.t3,n.t4,n.t6),n.t8={methodResults:n.t1,contract:n.t7},n.t0.setState.call(n.t0,n.t8);case 21:case"end":return n.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"HandleComplete",value:function HandleComplete(){if(this.state.methodInterface.constant){var e=this.state.methodInterface.outputs,t=this.state.methodResults;Array.isArray(t)||(t=[t]);var a=t.map(function(t,a){return t=t._hex?"".concat(parseInt(t._hex,16)," (").concat(t._hex,")"):"bytes32"===e[a].type?Object(ie.b)(t):t.toString(),[e[a].name||"Output ".concat(a),t]});this.setState({methodResults:a,transactionResults:void 0})}else{var r=this.state.methodResults;Array.isArray(r)||(r=[r]),this.setState({methodResults:void 0,transactionResults:r})}}},{key:"ContractMethodSelection",value:function ContractMethodSelection(){var e=this.state.contractMethods.filter(function(e){return e.constant}).sort(function(e,t){return e.name<t.name?-1:1}),t=this.state.contractMethods.filter(function(e){return!e.constant}).sort(function(e,t){return e.name<t.name?-1:1}),a=e.map(function(e){return s.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)}),r=t.map(function(e){return s.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)});a.unshift(s.a.createElement("option",{disabled:!0,key:"method-option-constant-label"},"CONSTANTS")),r.unshift(s.a.createElement("option",{disabled:!0,key:"method-option-transaction-label"},"TRANSACTIONS"));var n=[s.a.createElement("option",{key:"method-option-select-prompt",value:""},"[Select a Method]")].concat(a.concat(r));return s.a.createElement("select",{name:"method",value:this.state.method,onChange:this.HandleMethodChange},n)}},{key:"ContractMethodForm",value:function ContractMethodForm(){var e,t,a,r=this;return this.state.methodInterface&&(e=this.state.methodInterface.inputs.map(function(e){var t=e.type,a="bool"===t?"checkbox":"text";return[s.a.createElement("label",{key:"contract-method-input-label-"+e.name,htmlFor:e.name},e.name),s.a.createElement("input",{key:"contract-method-input-"+e.name,name:e.name,value:r.state.inputs[e.name],type:a,placeholder:t,maxLength:256,onChange:r.HandleInputChange})]}),a=[s.a.createElement("label",{key:"contract-method-type-label"},"Type"),s.a.createElement("div",{key:"contract-method-type",className:"form-text"},this.state.methodInterface.constant?"Constant":"Transaction")],this.state.methodInterface.payable&&(t=[s.a.createElement("label",{key:"contract-method-funds-label",htmlFor:"__funds"},"Funds"),s.a.createElement("input",{key:"contract-method-funds",type:"number",step:1e-10,name:"__funds",value:this.state.inputs.__funds,onChange:this.HandleInputChange})])),s.a.createElement("div",{className:"form-content"},s.a.createElement("label",null,"Method"),s.a.createElement("div",{className:"form-text"},this.ContractMethodSelection()),a,t,e)}},{key:"MethodResults",value:function MethodResults(){if(this.state.methodResults){var e=(Array.isArray(this.state.methodResults)?this.state.methodResults:[this.state.methodResults]).map(function(e){return s.a.createElement(ya,{key:"result-"+e[0],label:e[0],value:e[1]})});return s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Result: "),e)}if(this.state.transactionResults)return s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Result: "),s.a.createElement(on,{events:[this.state.transactionResults]}))}},{key:"render",value:function render(){return s.a.createElement("div",{className:"contract-method-form"},s.a.createElement(T.i,{legend:"Call Contract Method",OnSubmit:this.HandleSubmit,OnComplete:this.HandleComplete,className:"small-form"},this.ContractMethodForm()),this.MethodResults())}}]),DeployedContractMethodForm}(s.a.Component))||nn)||nn;cn.propTypes={contract:Tt.a.object.isRequired};var sn,ln,un,pn=cn,dn=Object(P.b)("contractStore")(sn=Object(P.c)(sn=function(e){function DeployedContract(e){var t;return d()(this,DeployedContract),(t=f()(this,v()(DeployedContract).call(this,e))).state={visibleMethods:{},method:"",removed:!1},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t}return C()(DeployedContract,e),h()(DeployedContract,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"DeleteButton",value:function DeleteButton(){var e=this;return this.state.contract.type!==Xr.unknown?null:s.a.createElement(T.a,{className:"danger",onClick:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.e)({message:"Are you sure you want to stop watching this contract?",onConfirm:function(){var t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.contractStore.RemoveDeployedContract({address:e.state.contract.contractAddress});case 2:e.setState({removed:!0});case 3:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}))},"Remove Contract")}},{key:"ToggleElement",value:function ToggleElement(e){this.setState({visibleMethods:Z()({},this.state.visibleMethods,pa()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleMethods[t],n=(r?"Hide ":"Show ")+e;return s.a.createElement(T.a,{key:"toggle-"+e,className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleElement(t)}},n)}},{key:"AbiInfo",value:function AbiInfo(){if(!this.state.contract.abi)return null;var e=this.state.visibleMethods.__abi?s.a.createElement("pre",{key:"abi-content"},JSON.stringify(this.state.contract.abi,null,2)):null;return[s.a.createElement(ya,{key:"abi-label",label:"ABI"},this.ToggleButton("ABI","__abi")),e]}},{key:"PageContent",value:function PageContent(){var e=ma.a.dirname(this.props.match.url);if([Xr.contentSpace,Xr.library,Xr.unknown].includes(this.state.contract.type)?e=ma.a.dirname(e):this.state.contract.type!==Xr.accessGroup||this.props.accessGroup||(e=ma.a.dirname(e)),this.state.removed)return s.a.createElement(Wt.a,{push:!0,to:e});var t="".concat(Math.round(1e3*(this.state.contract.balance||0))/1e3);return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:e,className:"secondary"},"Back"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"funds")},"Transfer Funds"),s.a.createElement(T.a,{type:"link",to:X()(this.props.match.url,"events")},"Contract Events"),this.DeleteButton()),s.a.createElement(Pt,{header:this.state.contract.name,subHeader:this.state.contract.description}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Contract Info"),s.a.createElement(ya,{label:"Name"},this.state.contract.name),s.a.createElement(ya,{label:"Description"},this.state.contract.description),s.a.createElement(ya,{label:"Contract Address"},this.state.contract.contractAddress),s.a.createElement(ya,{label:"Balance"},t),this.AbiInfo(),s.a.createElement("h3",null,"Contract Methods"),s.a.createElement(pn,{contract:this.state.contract}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.props.contractStore.DeployedContractInfo();case 3:t.t1=t.sent,t.t2={contract:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},_callee3)})),render:this.PageContent})}}]),DeployedContract}(s.a.Component))||sn)||sn,mn=Object(P.b)("contractStore")(ln=Object(P.c)(ln=function(e){function DeployedContractFundsForm(e){var t;return d()(this,DeployedContractFundsForm),(t=f()(this,v()(DeployedContractFundsForm).call(this,e))).state={amount:0},t.PageContent=t.PageContent.bind(Lt()(t)),t.HandleSubmit=t.HandleSubmit.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t}var t;return C()(DeployedContractFundsForm,e),h()(DeployedContractFundsForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.contractStore.SendFunds({recipient:this.state.contract.contractAddress,ether:this.state.amount});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"PageContent",value:function PageContent(){return s.a.createElement("div",{className:"page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",className:"secondary",to:ma.a.dirname(this.props.match.url)},"Back")),s.a.createElement(Pt,{header:this.state.contract.name,subHeader:this.state.contract.description}),s.a.createElement(T.i,{legend:"Transfer Contract Funds",redirectPath:ma.a.dirname(this.props.match.url),cancelPath:ma.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit,className:"small-form"},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",null,"Current Balance"),s.a.createElement("span",null,this.state.contract.balance),s.a.createElement("label",{htmlFor:"amount"},"Amount"),s.a.createElement("input",{name:"amount",type:"number",step:1e-10,value:this.state.amount,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.props.contractStore.DeployedContractInfo();case 3:t.t1=t.sent,t.t2={contract:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},_callee2)})),render:this.PageContent})}}]),DeployedContractFundsForm}(s.a.Component))||ln)||ln,hn=a(204),bn=a.n(hn),fn=a(205),yn=a.n(fn),vn=Object(P.b)("eventsStore")(un=Object(P.c)(un=function(e){function Events(e){var t;return d()(this,Events),(t=f()(this,v()(Events).call(this,e))).state={filterInput:"",filter:"",filtering:!1,fromBlock:0,toBlock:0,scrollToBottom:!1,watchEvents:!1,watcher:void 0,loading:!1},t.Reset=t.Reset.bind(Lt()(t)),t.HandleInputChange=t.HandleInputChange.bind(Lt()(t)),t.HandleFilterChange=t.HandleFilterChange.bind(Lt()(t)),t.LoadMoreEvents=t.LoadMoreEvents.bind(Lt()(t)),t.ToggleWatch=t.ToggleWatch.bind(Lt()(t)),t}var t,a;return C()(Events,e),h()(Events,[{key:"componentDidMount",value:function componentDidMount(){this.Request()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.CancelWatch(),this.props.contractAddress?this.props.eventsStore.ClearContractEvents({contractAddress:this.props.contractAddress}):this.props.eventsStore.ClearEvents()}},{key:"Loading",value:function Loading(){return this.state.loading&&!this.state.watchEvents||this.state.filtering}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(pa()({},e.target.name,parseInt(e.target.value)))}},{key:"HandleFilterChange",value:function HandleFilterChange(e){var t=this,a=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({filterInput:a,filtering:!0,filterTimeout:setTimeout(function(){t.CancelWatch(),t.setState({filter:a,filtering:!1})},500),scrollToBottom:!1})}},{key:"Watch",value:function Watch(){var e=this;this.setState({watchEvents:!0,watcher:setTimeout(U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e.setState({scrollToBottom:!1},U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Request({fromBlock:e.state.fromBlock});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee)}))),e.Watch();case 2:case"end":return t.stop()}},_callee2)})),3e3)})}},{key:"CancelWatch",value:function CancelWatch(){clearTimeout(this.state.watcher),this.setState({watchEvents:!1})}},{key:"ToggleWatch",value:function ToggleWatch(){this.state.watchEvents?this.CancelWatch():this.Watch()}},{key:"Reset",value:function Reset(){var e=this;this.setState({filter:"",filterInput:""},function(){return e.Request({clear:!0})})}},{key:"Request",value:(a=U()(B.a.mark(function _callee3(){var e,t,a,r,n,o,i,c,s,l,u,p,d=arguments;return B.a.wrap(function _callee3$(m){for(;;)switch(m.prev=m.next){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:{},t=e.fromBlock,a=e.toBlock,r=e.updateFrom,n=void 0===r||r,o=e.updateTo,i=void 0===o||o,c=e.cancelWatch,s=void 0===c||c,l=e.clear,u=void 0!==l&&l,s&&this.CancelWatch(),m.next=4,this.props.eventsStore.BlockNumber();case 4:if(p=m.sent,(!a||a>p)&&(a=p),(void 0===t||t<0)&&(t=this.props.contractAddress?0:Math.max(1,a-10)),a<t&&(t=a),this.setState({loading:!0}),!this.props.contractAddress){m.next=14;break}return m.next=12,this.props.eventsStore.ContractEvents({contractAddress:this.props.contractAddress,abi:this.props.abi,fromBlock:t,toBlock:a,clear:u});case 12:m.next=16;break;case 14:return m.next=16,this.props.eventsStore.Events({fromBlock:t,toBlock:a,clear:u});case 16:this.setState({fromBlock:n?t:this.state.fromBlock,toBlock:i?a:this.state.toBlock,loading:!1});case 17:case"end":return m.stop()}},_callee3,this)})),function Request(){return a.apply(this,arguments)})},{key:"LoadMoreEvents",value:(t=U()(B.a.mark(function _callee4(){return B.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:this.Request({fromBlock:this.state.fromBlock-10,toBlock:this.state.toBlock}),this.setState({scrollToBottom:!0});case 2:case"end":return e.stop()}},_callee4,this)})),function LoadMoreEvents(){return t.apply(this,arguments)})},{key:"LoadMoreEventsButton",value:function LoadMoreEventsButton(){return this.state.fromBlock<=1?null:s.a.createElement(T.m,{loading:this.Loading(),noIndicator:!0},s.a.createElement(T.a,{onClick:this.LoadMoreEvents},"Load More Events"))}},{key:"FilterControls",value:function FilterControls(){var e=this,t=this.state.watchEvents?yn.a:bn.a,a=this.state.watchEvents?"Stop Watching Events":"Watch Events",r=this.state.watchEvents?"watch-icon watching":"watch-icon",n=function request(){return e.Request({toBlock:e.state.toBlock,fromBlock:e.state.fromBlock,clear:!0})};return s.a.createElement("div",{className:"event-controls"},s.a.createElement("div",{className:"control-group filter-group"},s.a.createElement("input",{name:"filterInput",className:"event-filter",value:this.state.filterInput,onChange:this.HandleFilterChange,placeholder:"Filter"})),s.a.createElement("div",{className:"control-group"},s.a.createElement("label",{htmlFor:"fromBlock"},"From"),s.a.createElement("input",{type:"number",name:"fromBlock",value:this.state.fromBlock,onChange:this.HandleInputChange,onKeyPress:Object(T.s)(n)}),s.a.createElement("label",{htmlFor:"toBlock"},"To"),s.a.createElement("input",{type:"number",name:"toBlock",value:this.state.toBlock,onChange:this.HandleInputChange,onKeyPress:Object(T.s)(n)})),s.a.createElement("div",{className:"control-group action-group"},s.a.createElement(T.m,{loading:this.Loading(),loadingIcon:"rotate",loadingClassname:"filter-loading"},s.a.createElement(T.a,{onClick:n},"Update"),s.a.createElement(T.a,{className:"secondary",onClick:this.Reset},"Reset"))),s.a.createElement(T.j,{icon:t,label:a,title:a,className:r,onClick:this.ToggleWatch}))}},{key:"render",value:function render(){var e=this.props.contractAddress?this.props.eventsStore.contractEvents[this.props.contractAddress]||[]:this.props.eventsStore.events;return s.a.createElement("div",{className:"events page-content"},this.FilterControls(),s.a.createElement(on,{events:e,filter:this.state.filter,scrollToBottom:this.state.scrollToBottom}),s.a.createElement("div",{className:"load-more"},this.LoadMoreEventsButton()))}}]),Events}(s.a.Component))||un)||un;vn.propTypes={contractAddress:Tt.a.string,abi:Tt.a.array};var gn,Cn,xn,kn,wn,Sn,jn,In,En,_n,An,On,Nn,Fn,Ln,Mn,Tn,Pn,Hn,Gn,Rn,zn,Dn,Bn,$n,Un,qn,Vn,Wn,Kn,Jn,Zn,Yn,Qn,Xn,eo,to,ao,ro,no,oo,io,co,so,lo,uo,po,mo,ho,bo,fo,yo,vo,go,Co,xo,ko,wo,So,jo,Io,Eo,_o,Ao,Oo,No,Fo,Lo,Mo,Po,Ho,Go,Ro,zo,Do,Bo,$o,Uo,qo,Vo,Wo,Ko,Jo,Zo,Yo,Qo,Xo,ei,ti,ai,ri,ni,oi,ii,ci,si,li,ui,pi,di,mi,hi,bi,fi,yi,vi,gi,Ci,xi,ki,wi,Si,ji,Ii,Ei,_i,Ai,Oi,Ni,Fi,Li,Mi,Ti,Pi,Hi,Gi,Ri,zi,Di,Bi,$i,Ui,qi,Vi,Wi,Ki,Ji,Zi,Yi,Qi,Xi,ec,tc,ac,rc,nc,oc,ic,cc,sc,lc=vn,uc=Object(P.b)("contractStore")(gn=Object(P.b)("eventsStore")(gn=Object(P.c)(gn=function(e){function DeployedContractEvents(e){var t;return d()(this,DeployedContractEvents),(t=f()(this,v()(DeployedContractEvents).call(this,e))).PageContent=t.PageContent.bind(Lt()(t)),t}return C()(DeployedContractEvents,e),h()(DeployedContractEvents,[{key:"PageContent",value:function PageContent(){return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(T.a,{type:"link",to:ma.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Pt,{header:this.state.contract.name,subHeader:this.state.contract.description}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement("div",{className:"contract-events"},s.a.createElement(lc,{contractAddress:this.state.contract.contractAddress,abi:this.state.contract.abi})))))}},{key:"render",value:function render(){var e=this;return s.a.createElement(T.b,{Load:U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.props.contractStore.DeployedContractInfo();case 3:t.t1=t.sent,t.t2={contract:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},_callee)})),render:this.PageContent})}}]),DeployedContractEvents}(s.a.Component))||gn)||gn)||gn,pc=function(e){function EventsPage(){return d()(this,EventsPage),f()(this,v()(EventsPage).apply(this,arguments))}return C()(EventsPage,e),h()(EventsPage,[{key:"render",value:function render(){return s.a.createElement("div",{className:"page-container"},s.a.createElement("div",{className:"page-header-container"},s.a.createElement("h3",{className:"page-header"},"Blockchain Events")),s.a.createElement(lc,null))}}]),EventsPage}(s.a.Component),dc=a(93),mc=Object(P.b)("notificationStore")(Cn=Object(P.b)("routeStore")(Cn=Object(P.c)(Cn=function(e){function WatchedRouteClass(e){var t;return d()(this,WatchedRouteClass),(t=f()(this,v()(WatchedRouteClass).call(this,e))).state={routeSet:!1},t}var t;return C()(WatchedRouteClass,e),h()(WatchedRouteClass,[{key:"componentDidMount",value:(t=U()(B.a.mark(function _callee2(){var e,t=this;return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ot.GetFramePath();case 2:e=a.sent,this.setState({DisposeRouteReaction:Object(Nt.n)(function(){return{match:JSON.stringify(t.props.match)}},U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.routeStore.UpdateRoute(t.props.computedMatch);case 2:t.setState({routeSet:!0});case 3:case"end":return e.stop()}},_callee)})))}),this.props.history.push(e);case 5:case"end":return a.stop()}},_callee2,this)})),function componentDidMount(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.DisposeRouteReaction&&this.state.DisposeRouteReaction()}},{key:"render",value:function render(){return this.state.routeSet?s.a.createElement(q.a,{exact:this.props.exact,path:this.props.path,component:Object(dc.a)(this.props.component)}):null}}]),WatchedRouteClass}(s.a.Component))||Cn)||Cn)||Cn,hc=Object(dc.a)(Object(T.h)(mc)),bc=function(e){function Router(e){var t;return d()(this,Router),t=f()(this,v()(Router).call(this,e)),Ot.Initialize(),t}return C()(Router,e),h()(Router,[{key:"render",value:function render(){return s.a.createElement("div",{className:"main-content-container"},s.a.createElement(V.a,null,s.a.createElement(hc,{exact:!0,path:"/",component:la}),"/* Access Groups */",s.a.createElement(hc,{exact:!0,path:"/access-groups",component:Gr}),s.a.createElement(hc,{exact:!0,path:"/access-groups/create",component:Dr}),s.a.createElement(hc,{exact:!0,path:"/access-groups/:contractAddress",component:zr}),s.a.createElement(hc,{exact:!0,path:"/access-groups/:contractAddress/edit",component:Dr}),s.a.createElement(hc,{exact:!0,path:"/access-groups/:contractAddress/add-member",component:Br}),s.a.createElement(hc,{exact:!0,path:"/access-groups/:contractAddress/contract",component:dn}),s.a.createElement(hc,{exact:!0,path:"/access-groups/:contractAddress/contract/events",component:uc}),s.a.createElement(hc,{exact:!0,path:"/access-groups/:contractAddress/contract/funds",component:mn}),"/* Content */ /* For most content routes, add content-types route corresponding to /content/:contentSpaceLibrary */",s.a.createElement(hc,{exact:!0,path:"/content-types",component:Fa}),s.a.createElement(hc,{exact:!0,path:"/content",component:la}),s.a.createElement(hc,{exact:!0,path:"/content/create",component:Ea}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId",component:Ia}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/edit",component:Ea}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/groups",component:_a}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/types",component:Na}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/create",component:Mr}),s.a.createElement(hc,{exact:!0,path:"/content-types/create",component:La}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId",component:Sr}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId",component:Sr}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/edit",component:Mr}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/edit",component:La}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/review",component:Tr}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/upload",component:Pr}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/upload",component:Pr}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/apps",component:Hr}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/apps",component:Hr}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/deploy",component:Kr}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/deploy",component:Kr}),"/* Base content contract */",s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/contract",component:dn}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/contract",component:dn}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/contract/events",component:uc}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/contract/events",component:uc}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/contract/funds",component:mn}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/contract/funds",component:mn}),"/* Custom content contract */",s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract",component:dn}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/custom-contract",component:dn}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/events",component:uc}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/custom-contract/events",component:uc}),s.a.createElement(hc,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/funds",component:mn}),s.a.createElement(hc,{exact:!0,path:"/content-types/:objectId/custom-contract/funds",component:mn}),"/* Contracts */",s.a.createElement(hc,{exact:!0,path:"/contracts",component:$r}),s.a.createElement(hc,{exact:!0,path:"/contracts/saved",component:$r}),s.a.createElement(hc,{exact:!0,path:"/contracts/deployed",component:$r}),s.a.createElement(hc,{exact:!0,path:"/contracts/compile",component:qr}),s.a.createElement(hc,{exact:!0,path:"/contracts/save",component:Vr}),s.a.createElement(hc,{exact:!0,path:"/contracts/watch",component:Wr}),s.a.createElement(hc,{exact:!0,path:"/contracts/deploy",component:Kr}),s.a.createElement(hc,{exact:!0,path:"/contracts/deployed/:contractAddress",component:dn}),s.a.createElement(hc,{exact:!0,path:"/contracts/deployed/:contractAddress/events",component:uc}),s.a.createElement(hc,{exact:!0,path:"/contracts/deployed/:contractAddress/funds",component:mn}),s.a.createElement(hc,{exact:!0,path:"/contracts/:contractName",component:Ur}),s.a.createElement(hc,{exact:!0,path:"/contracts/:contractName/edit",component:Vr}),s.a.createElement(hc,{exact:!0,path:"/contracts/:contractName/deploy",component:Kr}),"/* Logs */",s.a.createElement(hc,{exact:!0,path:"/events",component:pc})))}}]),Router}(s.a.Component),fc=a(15),yc=a.n(fc),vc=a(9),gc=a.n(vc),Cc=(a(57),function(){var e=U()(B.a.mark(function _callee(e,t){return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,e.promise(function(){return t()});case 3:return a.abrupt("return",a.sent);case 6:return a.next=8,t();case 8:return a.abrupt("return",a.sent);case 9:case"end":return a.stop()}},_callee)}));return function Cancelable(t,a){return e.apply(this,arguments)}}()),xc=(xn=Nt.d.bound,kn=Nt.d.bound,wn=Nt.d.bound,Sn=Nt.d.bound,jn=Nt.d.bound,In=Nt.d.bound,En=Nt.d.bound,_n=Nt.d.bound,An=Nt.d.bound,On=Nt.d.bound,Nn=Nt.d.bound,Fn=function(){function LibraryStore(e){d()(this,LibraryStore),yc()(this,"libraries",Ln,this),yc()(this,"count",Mn,this),yc()(this,"ListContentLibraries",Tn,this),yc()(this,"ContentLibrary",Pn,this),yc()(this,"CreateContentLibrary",Hn,this),yc()(this,"UpdateContentLibrary",Gn,this),yc()(this,"ListLibraryTypes",Rn,this),yc()(this,"UpdateContentLibraryTypes",zn,this),yc()(this,"ListLibraryGroups",Dn,this),yc()(this,"ContentLibraryGroupPermissions",Bn,this),yc()(this,"UpdateContentLibraryGroup",$n,this),yc()(this,"ListContentObjects",Un,this),this.rootStore=e}return h()(LibraryStore,[{key:"library",get:function get(){var e=this.rootStore.routerStore.libraryId;return this.libraries[e]}},{key:"libraryId",get:function get(){return this.rootStore.routerStore.libraryId}}]),h()(LibraryStore,[{key:"ClearLibraryCache",value:function ClearLibraryCache(e){var t=e.libraryId;this.libraries[t]&&(this.libraries[t].listingCacheId=void 0)}}]),LibraryStore}(),Ln=gc()(Fn.prototype,"libraries",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Mn=gc()(Fn.prototype,"count",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),gc()(Fn.prototype,"library",[Nt.e],Object.getOwnPropertyDescriptor(Fn.prototype,"library"),Fn.prototype),gc()(Fn.prototype,"libraryId",[Nt.e],Object.getOwnPropertyDescriptor(Fn.prototype,"libraryId"),Fn.prototype),Tn=gc()(Fn.prototype,"ListContentLibraries",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee2(e){var t,a,r,n;return B.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Cc(t.cancelable,U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.ListContentLibraries({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee)})));case 3:a=o.sent,r=a.libraries,n=a.count,this.libraries=r,this.count=n;case 8:case"end":return o.stop()}},_callee2,this)}))}}),Pn=gc()(Fn.prototype,"ContentLibrary",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee3(e){var t;return B.a.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.t0=Z.a,a.t1={},a.next=5,Ot.GetContentLibrary({libraryId:t});case 5:a.t2=a.sent,a.t3={groups:{},groupsCount:{}},this.libraries[t]=(0,a.t0)(a.t1,a.t2,a.t3);case 8:case"end":return a.stop()}},_callee3,this)}))}}),Hn=gc()(Fn.prototype,"CreateContentLibrary",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee4(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:t=e.name,a=e.description,r=e.publicMetadata,n=e.privateMetadata,o=e.image,i=e.kmsId,s.prev=1,n=Object(T.o)(n),s.next=8;break;case 5:throw s.prev=5,s.t0=s.catch(1),"Invalid Private Metadata: ".concat(s.t0.message);case 8:s.prev=8,r=Object(T.o)(r),s.next=15;break;case 12:throw s.prev=12,s.t1=s.catch(8),"Invalid Public Metadata: ".concat(s.t1.message);case 15:return r.name=t,r["eluv.description"]=a,s.next=19,Ot.CreateContentLibrary({name:t,description:a,publicMetadata:r,privateMetadata:n,kmsId:i});case 19:if(c=s.sent,!o){s.next=29;break}return s.t2=Ot,s.t3=c,s.next=25,new Response(o).blob();case 25:return s.t4=s.sent,s.t5={libraryId:s.t3,image:s.t4},s.next=29,s.t2.SetContentLibraryImage.call(s.t2,s.t5);case 29:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully created content library '"+t+"'",redirect:!0}),s.abrupt("return",c);case 31:case"end":return s.stop()}},_callee4,this,[[1,5],[8,12]])}))}}),Gn=gc()(Fn.prototype,"UpdateContentLibrary",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee6(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee6$(s){for(;;)switch(s.prev=s.next){case 0:t=e.libraryId,a=e.name,r=e.description,n=e.publicMetadata,o=e.privateMetadata,i=e.image,s.prev=1,o=Object(T.o)(o),s.next=8;break;case 5:throw s.prev=5,s.t0=s.catch(1),"Invalid Private Metadata: ".concat(s.t0.message);case 8:s.prev=8,n=Object(T.o)(n),s.next=15;break;case 12:throw s.prev=12,s.t1=s.catch(8),"Invalid Public Metadata: ".concat(s.t1.message);case 15:return o.name=a,o["eluv.description"]=r,n.name=a,n["eluv.description"]=r,delete o.public,c=t.replace("ilib","iq__"),s.next=23,Ot.EditAndFinalizeContentObject({libraryId:t,objectId:c,todo:function(){var e=U()(B.a.mark(function _callee5(e){return B.a.wrap(function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ot.ReplaceMetadata({libraryId:t,objectId:c,writeToken:e,metadata:Z()({},o,{public:n})});case 2:case"end":return a.stop()}},_callee5)}));return function todo(t){return e.apply(this,arguments)}}()});case 23:if(!i){s.next=32;break}return s.t2=Ot,s.t3=t,s.next=28,new Response(i).blob();case 28:return s.t4=s.sent,s.t5={libraryId:s.t3,image:s.t4},s.next=32,s.t2.SetContentLibraryImage.call(s.t2,s.t5);case 32:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content library '"+a+"'",redirect:!0}),s.abrupt("return",t);case 34:case"end":return s.stop()}},_callee6,this,[[1,5],[8,12]])}))}}),Rn=gc()(Fn.prototype,"ListLibraryTypes",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee7(e){var t,a;return B.a.wrap(function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,r.next=3,Ot.ListLibraryContentTypes({libraryId:t});case 3:a=r.sent,this.libraries[t]=Z()({},this.libraries[t]||{},{types:a});case 5:case"end":return r.stop()}},_callee7,this)}))}}),zn=gc()(Fn.prototype,"UpdateContentLibraryTypes",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee9(e){var t,a,r,n,o,i,c,s,l,u,p,d,m,h,b,f,y,v,g;return B.a.wrap(function _callee9$(C){for(;;)switch(C.prev=C.next){case 0:return t=e.libraryId,a=e.typeIds,r=void 0===a?[]:a,C.t0=Object,C.next=4,Ot.ListLibraryContentTypes({libraryId:t});case 4:if(C.t1=C.sent,C.t2=function(e){return e.id},n=C.t0.values.call(C.t0,C.t1).map(C.t2),!((o=r.filter(function(e){return!n.includes(e)})).length>0)){C.next=39;break}return C.t3=Object,C.next=12,Ot.ContentTypes();case 12:C.t4=C.sent,i=C.t3.values.call(C.t3,C.t4),c=!0,s=!1,l=void 0,C.prev=17,u=B.a.mark(function _callee8(){var e,a,r;return B.a.wrap(function _callee8$(n){for(;;)switch(n.prev=n.next){case 0:return e=d.value,a=i.find(function(t){return t.id===e}),r=a.meta.custom_contract&&a.meta.custom_contract.address,n.next=5,Ot.AddLibraryContentType({libraryId:t,typeId:e,customContractAddress:r});case 5:case"end":return n.stop()}},_callee8)}),p=o[Symbol.iterator]();case 20:if(c=(d=p.next()).done){C.next=25;break}return C.delegateYield(u(),"t5",22);case 22:c=!0,C.next=20;break;case 25:C.next=31;break;case 27:C.prev=27,C.t6=C.catch(17),s=!0,l=C.t6;case 31:C.prev=31,C.prev=32,c||null==p.return||p.return();case 34:if(C.prev=34,!s){C.next=37;break}throw l;case 37:return C.finish(34);case 38:return C.finish(31);case 39:m=n.filter(function(e){return!r.includes(e)}),h=!0,b=!1,f=void 0,C.prev=43,y=m[Symbol.iterator]();case 45:if(h=(v=y.next()).done){C.next=52;break}return g=v.value,C.next=49,Ot.RemoveLibraryContentType({libraryId:t,typeId:g});case 49:h=!0,C.next=45;break;case 52:C.next=58;break;case 54:C.prev=54,C.t7=C.catch(43),b=!0,f=C.t7;case 58:C.prev=58,C.prev=59,h||null==y.return||y.return();case 61:if(C.prev=61,!b){C.next=64;break}throw f;case 64:return C.finish(61);case 65:return C.finish(58);case 66:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content library types",redirect:!0});case 67:case"end":return C.stop()}},_callee9,this,[[17,27,31,39],[32,,34,38],[43,54,58,66],[59,,61,65]])}))}}),Dn=gc()(Fn.prototype,"ListLibraryGroups",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee10(e){var t,a,r,n,o,i;return B.a.wrap(function _callee10$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.type,r=e.params,c.next=3,Ot.ListContentLibraryGroups({libraryId:t,type:a,params:r});case 3:n=c.sent,o=n.accessGroups,i=n.count,this.libraries[t]["".concat(a,"Groups")]=o,this.libraries[t]["".concat(a,"GroupsCount")]=i;case 8:case"end":return c.stop()}},_callee10,this)}))}}),Bn=gc()(Fn.prototype,"ContentLibraryGroupPermissions",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee12(e){var t,a;return B.a.wrap(function _callee12$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a={},r.next=4,Promise.all(["accessor","contributor","reviewer"].map(function(){var e=U()(B.a.mark(function _callee11(e){var r,n;return B.a.wrap(function _callee11$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ot.ListContentLibraryGroups({libraryId:t,type:e,params:{paginate:!1}});case 2:r=o.sent,n=r.accessGroups,Object.keys(n).forEach(function(t){a[t]=Z()(pa()({},e,!0),a[t]||{})});case 5:case"end":return o.stop()}},_callee11)}));return function(t){return e.apply(this,arguments)}}()));case 4:this.libraries[t].groupPermissions=a;case 5:case"end":return r.stop()}},_callee12,this)}))}}),$n=gc()(Fn.prototype,"UpdateContentLibraryGroup",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee14(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee14$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.groupAddress,r=e.accessor,n=e.contributor,o=e.reviewer,i={accessor:r,contributor:n,reviewer:o},c=this.libraries[t].groupPermissions[a]||{},s.next=5,Promise.all(["accessor","contributor","reviewer"].map(function(){var e=U()(B.a.mark(function _callee13(e){return B.a.wrap(function _callee13$(r){for(;;)switch(r.prev=r.next){case 0:if(c[e]||!i[e]){r.next=5;break}return r.next=3,Ot.AddContentLibraryGroup({libraryId:t,address:a,groupType:e});case 3:r.next=8;break;case 5:if(!c[e]||i[e]){r.next=8;break}return r.next=8,Ot.RemoveContentLibraryGroup({libraryId:t,address:a,groupType:e});case 8:case"end":return r.stop()}},_callee13)}));return function(t){return e.apply(this,arguments)}}()));case 5:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully added library group",redirect:!0});case 6:case"end":return s.stop()}},_callee14,this)}))}}),Un=gc()(Fn.prototype,"ListContentObjects",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee16(e){var t,a,r,n,o,i;return B.a.wrap(function _callee16$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.params,c.next=3,Cc(a.cancelable,U()(B.a.mark(function _callee15(){return B.a.wrap(function _callee15$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.ListContentObjects({libraryId:t,params:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee15)})));case 3:r=c.sent,n=r.objects,o=r.count,i=r.cacheId,this.libraries[t].objects=n,this.libraries[t].objectsCount=o,this.libraries[t].listingCacheId=i;case 10:case"end":return c.stop()}},_callee16,this)}))}}),gc()(Fn.prototype,"ClearLibraryCache",[Nn],Object.getOwnPropertyDescriptor(Fn.prototype,"ClearLibraryCache"),Fn.prototype),Fn),kc=(qn=Nt.d.bound,Vn=function(){function RouterStore(e){var t=this;d()(this,RouterStore),yc()(this,"initialRoute",Wn,this),yc()(this,"path",Kn,this),yc()(this,"libraryId",Jn,this),yc()(this,"objectId",Zn,this),yc()(this,"contractAddress",Yn,this),this.rootStore=e,Ot.GetFramePath().then(function(e){return Object(Nt.o)(function(){return t.initialRoute=e})})}return h()(RouterStore,[{key:"UpdateRoute",value:function UpdateRoute(e){this.initialRoute=void 0,this.path=e.url,this.libraryId=e.params.libraryId,this.objectId=e.params.objectId,this.contractName=e.params.contractName,this.contractAddress=Object(ie.d)(e.params.contractAddress),this.path.startsWith("/content-types")&&(this.libraryId=Ot.contentSpaceLibraryId),this.rootStore.notificationStore.ChangeRoute(),Ot.SetFramePath({path:this.path})}}]),RouterStore}(),Wn=gc()(Vn.prototype,"initialRoute",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=gc()(Vn.prototype,"path",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=gc()(Vn.prototype,"libraryId",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=gc()(Vn.prototype,"objectId",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=gc()(Vn.prototype,"contractAddress",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc()(Vn.prototype,"UpdateRoute",[qn],Object.getOwnPropertyDescriptor(Vn.prototype,"UpdateRoute"),Vn.prototype),Vn),wc=(Qn=Nt.d.bound,Xn=Nt.d.bound,eo=Nt.d.bound,to=Nt.d.bound,ao=Nt.d.bound,ro=Nt.d.bound,no=function(){function EventsStore(e){d()(this,EventsStore),yc()(this,"events",oo,this),yc()(this,"contractEvents",io,this),yc()(this,"contractNames",co,this),yc()(this,"ContractEvents",so,this),yc()(this,"Events",lo,this),this.rootStore=e}var e,t;return h()(EventsStore,[{key:"SortBlocks",value:function SortBlocks(e){var t={};return e.forEach(function(e){return t[e[0].blockNumber]=e}),Object.values(t).sort(function(e,t){return e[0].blockNumber<t[0].blockNumber?1:-1})}},{key:"ContractNames",value:(t=U()(B.a.mark(function _callee2(e){var t=this;return B.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.limitedMap(5,function(){var e=U()(B.a.mark(function _callee(e){var a;return B.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(t.contractNames[e]){r.next=5;break}return r.next=3,Ot.ContractName(e);case 3:a=r.sent,Object(Nt.o)(function(){return t.contractNames[e]=a});case 5:case"end":return r.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return a.stop()}},_callee2)})),function ContractNames(e){return t.apply(this,arguments)})},{key:"ClearContractEvents",value:function ClearContractEvents(e){var t=e.contractAddress;this.contractEvents[t]=[]}},{key:"ClearEvents",value:function ClearEvents(){this.events=[]}},{key:"BlockNumber",value:(e=U()(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.GetBlockNumber();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee3)})),function BlockNumber(){return e.apply(this,arguments)})}]),EventsStore}(),oo=gc()(no.prototype,"events",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),io=gc()(no.prototype,"contractEvents",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),co=gc()(no.prototype,"contractNames",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),gc()(no.prototype,"ContractNames",[Qn],Object.getOwnPropertyDescriptor(no.prototype,"ContractNames"),no.prototype),so=gc()(no.prototype,"ContractEvents",[Xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee4(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.contractAddress,a=e.abi,r=e.fromBlock,n=void 0===r?0:r,o=e.toBlock,i=e.clear,void 0!==i&&i&&this.ClearContractEvents({contractAddress:t}),s.next=4,Ot.ContractEvents({contractAddress:t,abi:a,fromBlock:n,toBlock:o});case 4:return c=s.sent,this.contractEvents[t]=this.SortBlocks((this.contractEvents[t]||[]).concat(c)),s.next=8,this.ContractNames([t]);case 8:case"end":return s.stop()}},_callee4,this)}))}}),gc()(no.prototype,"ClearContractEvents",[eo],Object.getOwnPropertyDescriptor(no.prototype,"ClearContractEvents"),no.prototype),lo=gc()(no.prototype,"Events",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee5(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee5$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.toBlock,a=e.fromBlock,r=e.count,n=[],!(this.events.length>0)){s.next=24;break}if(o=this.events.map(function(e){return e[0].blockNumber}),i=Math.min.apply(Math,K()(o)),c=Math.max.apply(Math,K()(o)),!(t<i||a>c)){s.next=12;break}return s.next=9,Ot.GetBlockchainEvents({toBlock:t,fromBlock:a,count:r});case 9:n=s.sent,s.next=22;break;case 12:if(!(c<t)){s.next=16;break}return s.next=15,Ot.GetBlockchainEvents({toBlock:t,fromBlock:c+1,count:r});case 15:n=s.sent;case 16:if(!(i-1>a)){s.next=22;break}return s.t0=n,s.next=20,Ot.GetBlockchainEvents({toBlock:i,fromBlock:a,count:r});case 20:s.t1=s.sent,n=s.t0.concat.call(s.t0,s.t1);case 22:s.next=27;break;case 24:return s.next=26,Ot.GetBlockchainEvents({toBlock:t,fromBlock:a,count:r});case 26:n=s.sent;case 27:return this.events=this.SortBlocks(n.concat(this.events)).filter(function(e){return e[0].blockNumber<=t&&e[0].blockNumber>=a}),s.next=30,this.ContractNames(this.events.map(function(e){return Object(ie.d)(e[0].address)}));case 30:case"end":return s.stop()}},_callee5,this)}))}}),gc()(no.prototype,"ClearEvents",[ao],Object.getOwnPropertyDescriptor(no.prototype,"ClearEvents"),no.prototype),gc()(no.prototype,"BlockNumber",[ro],Object.getOwnPropertyDescriptor(no.prototype,"BlockNumber"),no.prototype),no),Sc=(a(447),uo=Nt.d.bound,po=Nt.d.bound,mo=Nt.d.bound,ho=Nt.d.bound,bo=Nt.d.bound,fo=Nt.d.bound,yo=Nt.d.bound,vo=Nt.d.bound,go=Nt.d.bound,Co=Nt.d.bound,xo=Nt.d.bound,ko=Nt.d.bound,wo=function(){function ContractStore(e){d()(this,ContractStore),yc()(this,"contracts",So,this),yc()(this,"contractsCount",jo,this),yc()(this,"deployedContracts",Io,this),yc()(this,"deployedContractsCount",Eo,this),yc()(this,"compiledContracts",_o,this),yc()(this,"ListContracts",Ao,this),yc()(this,"ListDeployedContracts",Oo,this),yc()(this,"RemoveContract",No,this),yc()(this,"RemoveDeployedContract",Fo,this),yc()(this,"DeployedContractInfo",Lo,this),yc()(this,"CompileContracts",Mo,this),yc()(this,"SaveContract",Po,this),yc()(this,"WatchContract",Ho,this),yc()(this,"DeployContract",Go,this),yc()(this,"SetCustomContract",Ro,this),yc()(this,"CallContractMethod",zo,this),yc()(this,"SendFunds",Do,this),this.rootStore=e}var e;return h()(ContractStore,[{key:"contractName",get:function get(){return this.rootStore.routerStore.contractName}},{key:"contractAddress",get:function get(){return this.rootStore.routerStore.contractAddress}},{key:"libraryId",get:function get(){return this.rootStore.routerStore.libraryId}},{key:"objectId",get:function get(){return this.rootStore.routerStore.objectId}},{key:"contract",get:function get(){return this.contractAddress?this.deployedContracts[this.contractAddress]:this.contracts[this.contractName]}}]),h()(ContractStore,[{key:"GetContractBalance",value:(e=U()(B.a.mark(function _callee(e){var t;return B.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.contractAddress,a.next=3,Ot.GetBalance({address:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee)})),function GetContractBalance(t){return e.apply(this,arguments)})}]),ContractStore}(),So=gc()(wo.prototype,"contracts",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=gc()(wo.prototype,"contractsCount",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=gc()(wo.prototype,"deployedContracts",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=gc()(wo.prototype,"deployedContractsCount",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=gc()(wo.prototype,"compiledContracts",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc()(wo.prototype,"contractName",[Nt.e],Object.getOwnPropertyDescriptor(wo.prototype,"contractName"),wo.prototype),gc()(wo.prototype,"contractAddress",[Nt.e],Object.getOwnPropertyDescriptor(wo.prototype,"contractAddress"),wo.prototype),gc()(wo.prototype,"libraryId",[Nt.e],Object.getOwnPropertyDescriptor(wo.prototype,"libraryId"),wo.prototype),gc()(wo.prototype,"objectId",[Nt.e],Object.getOwnPropertyDescriptor(wo.prototype,"objectId"),wo.prototype),gc()(wo.prototype,"contract",[Nt.e],Object.getOwnPropertyDescriptor(wo.prototype,"contract"),wo.prototype),Ao=gc()(wo.prototype,"ListContracts",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee3(e){var t,a,r,n;return B.a.wrap(function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Cc(t.cancelable,U()(B.a.mark(function _callee2(){return B.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot.Contracts({params:t}));case 1:case"end":return e.stop()}},_callee2)})));case 3:a=o.sent,r=a.contracts,n=a.count,this.contracts=r,this.contractsCount=n;case 8:case"end":return o.stop()}},_callee3,this)}))}}),Oo=gc()(wo.prototype,"ListDeployedContracts",[po],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee5(e){var t,a,r,n;return B.a.wrap(function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Cc(t.cancelable,U()(B.a.mark(function _callee4(){return B.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot.DeployedContracts({params:t}));case 1:case"end":return e.stop()}},_callee4)})));case 3:a=o.sent,r=a.contracts,n=a.count,this.deployedContracts=r,this.deployedContractsCount=n;case 8:case"end":return o.stop()}},_callee5,this)}))}}),No=gc()(wo.prototype,"RemoveContract",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee6(e){var t;return B.a.wrap(function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.name,a.next=3,Ot.RemoveContract({name:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully removed contract",redirect:!0});case 4:case"end":return a.stop()}},_callee6,this)}))}}),Fo=gc()(wo.prototype,"RemoveDeployedContract",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee7(e){var t;return B.a.wrap(function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,Ot.RemoveDeployedContract({address:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully removed contract",redirect:!0});case 4:case"end":return a.stop()}},_callee7,this)}))}}),Lo=gc()(wo.prototype,"DeployedContractInfo",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee8(){var e,t,a,r,n,o,i,c,s,l,u,p,d;return B.a.wrap(function _callee8$(m){for(;;)switch(m.prev=m.next){case 0:e=this.rootStore.routerStore.path,t=e.startsWith("/access-groups"),a=e.includes("custom-contract"),r=en({libraryId:this.libraryId,objectId:this.objectId,contractAddressParam:this.contractAddress,isAccessGroup:t,isCustomContentObjectContract:a}),n=r.type,o=r.description,i=r.abi,c=r.contractAddress,m.t0=n,m.next=m.t0===Xr.library?7:m.t0===Xr.customObject?12:m.t0===Xr.object?18:m.t0===Xr.contentType?18:m.t0===Xr.accessGroup?23:m.t0===Xr.unknown?28:32;break;case 7:return m.next=9,this.rootStore.libraryStore.ContentLibrary({libraryId:this.libraryId});case 9:return l=this.rootStore.libraryStore.library.name||this.libraryId,s="".concat(l," - Content Library Contract"),m.abrupt("break",32);case 12:return m.next=14,Ot.GetCustomContentContractAddress({libraryId:this.libraryId,objectId:this.objectId});case 14:return c=m.sent,m.next=17,Ot.GetContentObjectMetadata({libraryId:this.libraryId,objectId:this.objectId,metadataSubtree:X()("custom_contract","abi")});case 17:i=m.sent;case 18:return m.next=20,this.rootStore.objectStore.ContentObject({libraryId:this.libraryId,objectId:this.objectId});case 20:return u=this.rootStore.objectStore.object.meta.name||this.objectId,s="".concat(u," - Content Object Contract"),m.abrupt("break",32);case 23:return m.next=25,this.rootStore.groupStore.ListAccessGroups({params:{paginate:!1}});case 25:return p=this.rootStore.groupStore.accessGroup.name||"Access Group",s="".concat(p," - Access Group Contract"),m.abrupt("break",32);case 28:return m.next=30,this.ListDeployedContracts({params:{paginate:!1}});case 30:return s=this.contract.name,m.abrupt("break",32);case 32:return m.next=34,this.GetContractBalance({contractAddress:c});case 34:return d=m.sent,m.abrupt("return",{type:n,name:s,balance:d,description:o,abi:i,contractAddress:c});case 36:case"end":return m.stop()}},_callee8,this)}))}}),Mo=gc()(wo.prototype,"CompileContracts",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee9(e){var t,a,r,n,o,i,c,s=this;return B.a.wrap(function _callee9$(l){for(;;)switch(l.prev=l.next){case 0:t={},a=!0,r=!1,n=void 0,l.prev=4,o=e[Symbol.iterator]();case 6:if(a=(i=o.next()).done){l.next=14;break}return c=i.value,l.next=10,new Response(c).text();case 10:t[c.name]=l.sent;case 11:a=!0,l.next=6;break;case 14:l.next=20;break;case 16:l.prev=16,l.t0=l.catch(4),r=!0,n=l.t0;case 20:l.prev=20,l.prev=21,a||null==o.return||o.return();case 23:if(l.prev=23,!r){l.next=26;break}throw n;case 26:return l.finish(23);case 27:return l.finish(20);case 28:return l.next=30,new Promise(function(e,a){window.BrowserSolc.loadVersion("soljson-v0.4.24+commit.e67f0147.js",function(r){var n=r.compile({sources:t},1),o=n.errors||[];if(o.some(function(e){return!e.includes("Warning:")}))a(o);else{s.rootStore.notificationStore.SetNotificationMessage({message:"Compilation successful",redirect:!0});var i={};Object.keys(n.contracts).map(function(e){var t=n.contracts[e];i[e]={bytecode:t.bytecode,interface:JSON.parse(t.interface),gasEstimates:t.gasEstimates}}),e(i)}})});case 30:this.compiledContracts=l.sent;case 31:case"end":return l.stop()}},_callee9,this,[[4,16,20,28],[21,,23,27]])}))}}),Po=gc()(wo.prototype,"SaveContract",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee10(e){var t,a,r,n,o;return B.a.wrap(function _callee10$(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.name,a=e.oldContractName,r=e.description,n=e.abi,o=e.bytecode,"string"!=typeof n){i.next=9;break}i.prev=2,n=Object(T.o)(n),i.next=9;break;case 6:throw i.prev=6,i.t0=i.catch(2),"Invalid ABI: ".concat(i.t0.message);case 9:return i.next=11,Ot.AddContract({name:t.trim(),description:r,abi:Object(Nt.q)(n),bytecode:o});case 11:if(!a||a===t){i.next=14;break}return i.next=14,Ot.RemoveContract({name:a});case 14:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully saved contract",redirect:!0});case 15:case"end":return i.stop()}},_callee10,this,[[2,6]])}))}}),Ho=gc()(wo.prototype,"WatchContract",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee11(e){var t,a,r,n,o;return B.a.wrap(function _callee11$(i){for(;;)switch(i.prev=i.next){case 0:t=e.name,a=e.address,r=e.description,n=e.abi,a=Object(ie.d)(a),i.prev=2,n=Object(T.o)(n),i.next=9;break;case 6:throw i.prev=6,i.t0=i.catch(2),"Invalid ABI: ".concat(i.t0.message);case 9:return i.next=11,Ot.CurrentAccountAddress();case 11:return o=i.sent,i.prev=12,i.next=15,Ot.GetBalance({address:a});case 15:i.next=20;break;case 17:throw i.prev=17,i.t1=i.catch(12),Error("Unable to connect to contract at "+a);case 20:return i.next=22,Ot.AddDeployedContract({name:t,description:r,address:a,abi:n,owner:o});case 22:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully added watched contract",redirect:!0});case 23:case"end":return i.stop()}},_callee11,this,[[2,6],[12,17]])}))}}),Go=gc()(wo.prototype,"DeployContract",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee12(e){var t,a,r,n,o,i,c,s,l;return B.a.wrap(function _callee12$(u){for(;;)switch(u.prev=u.next){case 0:return t=e.contractName,a=e.contractDescription,r=e.abi,n=e.bytecode,o=e.inputs,i=e.funds,u.prev=1,u.next=4,Ot.CurrentAccountAddress();case 4:if(c=u.sent,r=Object(Nt.q)(r),s=[],!(o.length>0)){u.next=11;break}return u.next=10,Ot.FormatContractArguments({abi:r,methodName:"constructor",args:o});case 10:s=u.sent;case 11:return u.next=13,Ot.DeployContract({abi:r,bytecode:n,constructorArgs:s});case 13:if(l=u.sent,!i){u.next=17;break}return u.next=17,Ot.SendFunds({recipient:l.contractAddress,ether:i});case 17:return u.next=19,Ot.AddDeployedContract({name:t,description:a,address:l.contractAddress,abi:r,bytecode:n,inputs:o,owner:c});case 19:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deployed custom contract",redirect:!0}),u.abrupt("return",Object(ie.d)(l.contractAddress));case 23:u.prev=23,u.t0=u.catch(1),console.error("Failed to deploy contract"),console.error(u.t0),this.rootStore.notificationStore.SetErrorMessage({message:"Failed to deploy contract: ".concat(u.t0.message||u.t0)});case 28:case"end":return u.stop()}},_callee12,this,[[1,23]])}))}}),Ro=gc()(wo.prototype,"SetCustomContract",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee13(e){var t,a,r,n,o,i,c,s,l,u,p,d,m,h;return B.a.wrap(function _callee13$(b){for(;;)switch(b.prev=b.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.contractName,n=e.contractDescription,o=e.address,i=e.abi,c=e.factoryAbi,s=e.bytecode,l=e.inputs,u=e.funds,i=Object(Nt.q)(i),!(c=Object(Nt.q)(c))){b.next=11;break}b.prev=4,c=Object(T.o)(c),b.next=11;break;case 8:throw b.prev=8,b.t0=b.catch(4),"Invalid Factory ABI: ".concat(b.t0.message);case 11:if(p=t===Ot.contentSpaceLibraryId,d=[],!(l.length>0)){b.next=17;break}return b.next=16,Ot.FormatContractArguments({abi:i,methodName:"constructor",args:l});case 16:d=b.sent;case 17:if(o){b.next=22;break}return b.next=20,Ot.DeployContract({abi:i,bytecode:s,constructorArgs:d});case 20:m=b.sent,o=m.contractAddress;case 22:if(p){b.next=27;break}return b.next=25,Ot.SetCustomContentContract({libraryId:t,objectId:a,name:r,description:n,customContractAddress:o,abi:i,factoryAbi:c,overrides:{gasLimit:6e7,gasPrice:1e6}});case 25:b.next=34;break;case 27:return b.next=29,Ot.EditContentObject({libraryId:t,objectId:a});case 29:return h=b.sent,b.next=32,Ot.ReplaceMetadata({libraryId:t,objectId:a,writeToken:h.write_token,metadataSubtree:"custom_contract",metadata:{name:r,description:n,address:Object(ie.d)(o),abi:i,factoryAbi:c}});case 32:return b.next=34,Ot.FinalizeContentObject({libraryId:t,objectId:a,writeToken:h.write_token});case 34:if(!u){b.next=37;break}return b.next=37,Ot.SendFunds({recipient:o,ether:u});case 37:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deployed custom contract",redirect:!0}),b.abrupt("return",Object(ie.d)(o));case 39:case"end":return b.stop()}},_callee13,this,[[4,8]])}))}}),zo=gc()(wo.prototype,"CallContractMethod",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee14(e){var t,a,r,n,o,i,c,s,l;return B.a.wrap(function _callee14$(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value,i=void 0===o?0:o,c=Object.values(a).find(function(e){return"function"===e.type&&e.name===r}),!(n.length>0)){u.next=6;break}return u.next=5,Ot.FormatContractArguments({abi:a,methodName:r,args:n});case 5:n=u.sent;case 6:if(!c.constant){u.next=12;break}return u.next=9,Ot.CallContractMethod({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:i});case 9:s=u.sent,u.next=25;break;case 12:return u.next=14,Ot.CallContractMethodAndWait({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:i});case 14:return l=u.sent,u.next=17,Ot.ContractEvents({contractAddress:t,abi:a,fromBlock:l.blockNumber,toBlock:l.blockNumber});case 17:if(0!==(s=u.sent).length){u.next=22;break}return u.next=21,Ot.GetBlockchainEvents({fromBlock:l.blockNumber,toBlock:l.blockNumber});case 21:s=u.sent;case 22:if(0!==s.length){u.next=24;break}throw Error("Transaction failed");case 24:s=s[0];case 25:return u.abrupt("return",s);case 26:case"end":return u.stop()}},_callee14)}))}}),Do=gc()(wo.prototype,"SendFunds",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee15(e){var t,a;return B.a.wrap(function _callee15$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.recipient,a=e.ether,r.next=3,Ot.SendFunds({recipient:t,ether:a});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully sent "+a+" to "+t,redirect:!0});case 4:case"end":return r.stop()}},_callee15,this)}))}}),wo),jc=(Bo=Nt.d.bound,$o=Nt.d.bound,Uo=Nt.d.bound,qo=Nt.d.bound,Vo=Nt.d.bound,Wo=Nt.d.bound,Ko=Nt.d.bound,Jo=Nt.d.bound,Zo=function(){function GroupStore(e){d()(this,GroupStore),yc()(this,"accessGroups",Yo,this),yc()(this,"accessGroupsCount",Qo,this),yc()(this,"ListAccessGroups",Xo,this),yc()(this,"AccessGroup",ei,this),yc()(this,"SaveAccessGroup",ti,this),yc()(this,"RemoveAccessGroup",ai,this),yc()(this,"ListAccessGroupMembers",ri,this),yc()(this,"AddAccessGroupMember",ni,this),yc()(this,"RemoveAccessGroupMember",oi,this),yc()(this,"LeaveAccessGroup",ii,this),this.rootStore=e}return h()(GroupStore,[{key:"contractAddress",get:function get(){return this.rootStore.routerStore.contractAddress}},{key:"accessGroup",get:function get(){return this.accessGroups[this.contractAddress]}}]),GroupStore}(),Yo=gc()(Zo.prototype,"accessGroups",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Qo=gc()(Zo.prototype,"accessGroupsCount",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),gc()(Zo.prototype,"contractAddress",[Nt.e],Object.getOwnPropertyDescriptor(Zo.prototype,"contractAddress"),Zo.prototype),gc()(Zo.prototype,"accessGroup",[Nt.e],Object.getOwnPropertyDescriptor(Zo.prototype,"accessGroup"),Zo.prototype),Xo=gc()(Zo.prototype,"ListAccessGroups",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee2(e){var t,a,r,n;return B.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Cc(t.cancelable,U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.ListAccessGroups({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee)})));case 3:a=o.sent,r=a.accessGroups,n=a.count,this.accessGroups=r,this.accessGroupsCount=n;case 8:case"end":return o.stop()}},_callee2,this)}))}}),ei=gc()(Zo.prototype,"AccessGroup",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee3(e){var t,a;return B.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,r.next=3,Ot.GetAccessGroup({contractAddress:t});case 3:a=r.sent,this.accessGroups[t]=a;case 5:case"end":return r.stop()}},_callee3,this)}))}}),ti=gc()(Zo.prototype,"SaveAccessGroup",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee5(e){var t,a,r,n;return B.a.wrap(function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.name,a=e.description,!(r=e.address)){o.next=8;break}return n=Ot.utils.AddressToObjectId(r),o.next=5,Ot.EditAndFinalizeContentObject({libraryId:Ot.contentSpaceLibraryId,objectId:n,todo:function(){var e=U()(B.a.mark(function _callee4(e){return B.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ot.MergeMetadata({libraryId:Ot.contentSpaceLibraryId,objectId:n,writeToken:e,metadata:{name:t,description:a}});case 2:case"end":return r.stop()}},_callee4)}));return function todo(t){return e.apply(this,arguments)}}()});case 5:this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully updated",redirect:!0}),o.next=12;break;case 8:return o.next=10,Ot.CreateAccessGroup({name:t,metadata:{description:a}});case 10:r=o.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully created",redirect:!0});case 12:return o.abrupt("return",Object(ie.d)(r));case 13:case"end":return o.stop()}},_callee5,this)}))}}),ai=gc()(Zo.prototype,"RemoveAccessGroup",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee6(e){var t;return B.a.wrap(function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,Ot.DeleteAccessGroup({address:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully deleted",redirect:!0});case 4:case"end":return a.stop()}},_callee6,this)}))}}),ri=gc()(Zo.prototype,"ListAccessGroupMembers",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee7(e){var t,a,r,n,o,i,c;return B.a.wrap(function _callee7$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.contractAddress,a=e.showManagers,r=void 0!==a&&a,n=e.params,s.next=3,Ot.ListAccessGroupMembers({contractAddress:t,showManagers:r,params:n});case 3:o=s.sent,i=o.members,c=o.count,r?(this.accessGroups[t].managers=i,this.accessGroups[t].managersCount=c):(this.accessGroups[t].members=i,this.accessGroups[t].membersCount=c);case 7:case"end":return s.stop()}},_callee7,this)}))}}),ni=gc()(Zo.prototype,"AddAccessGroupMember",[Wo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee8(e){var t,a,r,n;return B.a.wrap(function _callee8$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.contractAddress,a=e.memberAddress,r=e.manager,!(n=void 0!==r&&r)){o.next=6;break}return o.next=4,Ot.AddAccessGroupManager({contractAddress:t,memberAddress:a});case 4:o.next=8;break;case 6:return o.next=8,Ot.AddAccessGroupMember({contractAddress:t,memberAddress:a});case 8:this.rootStore.notificationStore.SetNotificationMessage({message:"".concat(n?"Manager":"Member"," successfully added"),redirect:!0});case 9:case"end":return o.stop()}},_callee8,this)}))}}),oi=gc()(Zo.prototype,"RemoveAccessGroupMember",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee9(e){var t,a,r,n;return B.a.wrap(function _callee9$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.contractAddress,a=e.memberAddress,r=e.manager,!(n=void 0!==r&&r)){o.next=6;break}return o.next=4,Ot.RemoveAccessGroupManager({contractAddress:t,memberAddress:a});case 4:o.next=8;break;case 6:return o.next=8,Ot.RemoveAccessGroupMember({contractAddress:t,memberAddress:a});case 8:this.rootStore.notificationStore.SetNotificationMessage({message:"".concat(n?"Manager":"Member"," successfully removed"),redirect:!1});case 9:case"end":return o.stop()}},_callee9,this)}))}}),ii=gc()(Zo.prototype,"LeaveAccessGroup",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee10(e){var t;return B.a.wrap(function _callee10$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.contractAddress,a.next=3,Ot.LeaveAccessGroup({contractAddress:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully left",redirect:!0});case 4:case"end":return a.stop()}},_callee10,this)}))}}),Zo),Ic=(ci=Nt.d.bound,si=Nt.d.bound,li=Nt.d.bound,ui=Nt.d.bound,pi=Nt.d.bound,di=function(){function TypeStore(e){d()(this,TypeStore),yc()(this,"allTypes",mi,this),yc()(this,"types",hi,this),yc()(this,"count",bi,this),yc()(this,"ListContentTypes",fi,this),yc()(this,"ContentTypes",yi,this),yc()(this,"ContentType",vi,this),yc()(this,"CreateContentType",gi,this),yc()(this,"UpdateContentType",Ci,this),this.rootStore=e}return h()(TypeStore,[{key:"type",get:function get(){var e=this.rootStore.routerStore.objectId;return this.types[e]}},{key:"typeId",get:function get(){return this.rootStore.routerStore.objectId}}]),TypeStore}(),mi=gc()(di.prototype,"allTypes",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),hi=gc()(di.prototype,"types",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),bi=gc()(di.prototype,"count",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),gc()(di.prototype,"type",[Nt.e],Object.getOwnPropertyDescriptor(di.prototype,"type"),di.prototype),gc()(di.prototype,"typeId",[Nt.e],Object.getOwnPropertyDescriptor(di.prototype,"typeId"),di.prototype),fi=gc()(di.prototype,"ListContentTypes",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee2(e){var t,a,r,n;return B.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Cc(t.cancelable,U()(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot.ListContentTypes({params:t}));case 1:case"end":return e.stop()}},_callee)})));case 3:a=o.sent,r=a.types,n=a.count,this.types=r,this.count=n;case 8:case"end":return o.stop()}},_callee2,this)}))}}),yi=gc()(di.prototype,"ContentTypes",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee3(){return B.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot.ContentTypes();case 2:this.allTypes=e.sent;case 3:case"end":return e.stop()}},_callee3,this)}))}}),vi=gc()(di.prototype,"ContentType",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee4(e){var t;return B.a.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.typeId,a.next=3,Ot.GetContentObject({libraryId:Ot.contentSpaceLibraryId,objectId:t});case 3:this.types[t]=a.sent;case 4:case"end":return a.stop()}},_callee4,this)}))}}),gi=gc()(di.prototype,"CreateContentType",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee5(e){var t,a,r,n,o;return B.a.wrap(function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:t=e.name,a=e.description,r=e.metadata,n=e.bitcode,i.prev=1,r=Object(T.o)(r),i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(1),"Invalid Metadata: ".concat(i.t0.message);case 8:return i.next=10,Ot.CreateContentType({name:t,description:a,metadata:r,bitcode:n});case 10:return o=i.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully created content type",redirect:!0}),i.abrupt("return",o);case 13:case"end":return i.stop()}},_callee5,this,[[1,5]])}))}}),Ci=gc()(di.prototype,"UpdateContentType",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee7(e){var t,a,r,n,o,i;return B.a.wrap(function _callee7$(c){for(;;)switch(c.prev=c.next){case 0:t=e.typeId,a=e.name,r=e.description,n=e.bitcode,o=e.metadata,c.prev=1,o=Object(T.o)(o),c.next=8;break;case 5:throw c.prev=5,c.t0=c.catch(1),"Invalid Metadata: ".concat(c.t0.message);case 8:return i=Ot.contentSpaceLibraryId,c.next=11,Ot.EditAndFinalizeContentObject({libraryId:i,objectId:t,todo:function(){var e=U()(B.a.mark(function _callee6(e){var c;return B.a.wrap(function _callee6$(s){for(;;)switch(s.prev=s.next){case 0:return o.name=a,o["eluv.description"]=r,s.next=4,Ot.ReplaceMetadata({libraryId:i,objectId:t,writeToken:e,metadata:o});case 4:if(!n){s.next=10;break}return s.next=7,Ot.UploadPart({libraryId:i,objectId:t,writeToken:e,file:n,encrypted:!1});case 7:return c=s.sent,s.next=10,Ot.ReplaceMetadata({libraryId:i,objectId:t,writeToken:e,metadataSubtree:"bitcode_part",metadata:c.part.hash});case 10:case"end":return s.stop()}},_callee6)}));return function todo(t){return e.apply(this,arguments)}}()});case 11:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content type",redirect:!0}),c.abrupt("return",t);case 13:case"end":return c.stop()}},_callee7,this,[[1,5]])}))}}),di),Ec=(xi=Nt.d.bound,ki=Nt.d.bound,wi=Nt.d.bound,Si=Nt.d.bound,ji=Nt.d.bound,Ii=Nt.d.bound,Ei=Nt.d.bound,_i=Nt.d.bound,Ai=Nt.d.bound,Oi=Nt.d.bound,Ni=Nt.d.bound,Fi=Nt.d.bound,Li=Nt.d.bound,Mi=function(){function ObjectStore(e){d()(this,ObjectStore),yc()(this,"objects",Ti,this),yc()(this,"versions",Pi,this),yc()(this,"ContentObject",Hi,this),yc()(this,"ContentObjectVersions",Gi,this),yc()(this,"ContentObjectVersion",Ri,this),yc()(this,"ContentObjectPermissions",zi,this),yc()(this,"CreateFromContentTypeSchema",Di,this),yc()(this,"UpdateFromContentTypeSchema",Bi,this),yc()(this,"DeleteContentObject",$i,this),yc()(this,"DeleteContentObjectVersion",Ui,this),yc()(this,"UploadParts",qi,this),yc()(this,"AddApp",Vi,this),yc()(this,"RemoveApp",Wi,this),yc()(this,"PublishContentObject",Ki,this),yc()(this,"RevewContentObject",Ji,this),this.rootStore=e}var e,t,a;return h()(ObjectStore,[{key:"libraryId",get:function get(){return this.rootStore.routerStore.libraryId}},{key:"objectId",get:function get(){return this.rootStore.routerStore.objectId}},{key:"object",get:function get(){var e=this.rootStore.routerStore.objectId;return this.objects[e]}}]),h()(ObjectStore,[{key:"DownloadPart",value:(a=U()(B.a.mark(function _callee(e){var t,a,r,n,o,i;return B.a.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,(o=e.callback)({bytesFinished:0,bytesTotal:1}),i=[],c.next=5,Ot.DownloadPart({libraryId:t,objectId:a,versionHash:r,partHash:n,format:"arrayBuffer",chunked:!0,chunkSize:1e7,callback:function callback(e){var t=e.bytesFinished,a=e.bytesTotal,r=e.chunk;o({bytesFinished:t,bytesTotal:a}),i.push(r)}});case 5:return c.abrupt("return",window.URL.createObjectURL(new Blob(i)));case 6:case"end":return c.stop()}},_callee)})),function DownloadPart(e){return a.apply(this,arguments)})},{key:"UploadFiles",value:function(){var e=U()(B.a.mark(function _callee3(e){var t,a,r,n,o;return B.a.wrap(function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.path,n=e.fileList,o=e.callback,i.next=3,Ot.EditAndFinalizeContentObject({libraryId:t,objectId:a,awaitCommitConfirmation:!1,todo:function(){var e=U()(B.a.mark(function _callee2(e){var i;return B.a.wrap(function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ha(r,n);case 2:return i=c.sent,c.next=5,Ot.UploadFiles({libraryId:t,objectId:a,writeToken:e,fileInfo:i,callback:o});case 5:case"end":return c.stop()}},_callee2)}));return function todo(t){return e.apply(this,arguments)}}()});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully uploaded files"});case 4:case"end":return i.stop()}},_callee3,this)}));return function UploadFiles(t){return e.apply(this,arguments)}}()},{key:"DownloadFile",value:(t=U()(B.a.mark(function _callee4(e){var t,a,r,n,o,i;return B.a.wrap(function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath,c.next=3,Ot.DownloadFile({libraryId:t,objectId:a,versionHash:r,filePath:n,format:"blob"});case 3:return o=c.sent,i=window.URL.createObjectURL(o),c.next=7,Pa(i,ma.a.basename(n));case 7:case"end":return c.stop()}},_callee4)})),function DownloadFile(e){return t.apply(this,arguments)})},{key:"FileUrl",value:(e=U()(B.a.mark(function _callee5(e){var t,a,r,n;return B.a.wrap(function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath,o.next=3,Ot.FileUrl({libraryId:t,objectId:a,versionHash:r,filePath:n});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},_callee5)})),function FileUrl(t){return e.apply(this,arguments)})},{key:"CollectMetadata",value:function(e){function CollectMetadata(t){return e.apply(this,arguments)}return CollectMetadata.toString=function(){return e.toString()},CollectMetadata}(function(){var e=U()(B.a.mark(function _callee8(e){var t,a,r,n,o,i,c,s,l,u,p,d,m;return B.a.wrap(function _callee8$(h){for(;;)switch(h.prev=h.next){case 0:t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.schema,o=e.fields,i=e.callback,c={},s=!0,l=!1,u=void 0,h.prev=5,p=B.a.mark(function _callee7(){var e,n,s,l,u;return B.a.wrap(function _callee7$(p){for(;;)switch(p.prev=p.next){case 0:e=m.value,p.t0=e.type,p.next="label"===p.t0?4:"attachedFile"===p.t0?4:"file"===p.t0?5:"json"===p.t0?19:"list"===p.t0?27:"object"===p.t0?29:33;break;case 4:return p.abrupt("break",34);case 5:if(!Array.isArray(o[e.key])&&"string"!=typeof o[e.key]){p.next=8;break}return c[e.key]=o[e.key],p.abrupt("break",34);case 8:n=Array.from(o[e.key]),s=[],l=B.a.mark(function _callee6(){var o,c;return B.a.wrap(function _callee6$(l){for(;;)switch(l.prev=l.next){case 0:return o=n[u],c=void 0,i&&(c=function uploadCallback(t){var a=t.status,r=t.uploaded,n=t.total;return i({key:e.key,status:a,uploaded:r,total:n,filename:o.name})}),l.t0=s,l.next=6,Ot.UploadPart({libraryId:t,objectId:a,writeToken:r,file:o,chunkSize:2e6,callback:c});case 6:l.t1=l.sent,l.t0.push.call(l.t0,l.t1);case 8:case"end":return l.stop()}},_callee6)}),u=0;case 12:if(!(u<n.length)){p.next=17;break}return p.delegateYield(l(),"t1",14);case 14:u++,p.next=12;break;case 17:return e.multiple?c[e.key]=s.map(function(e){return e.part.hash}):c[e.key]=s.length>0?s[0].part.hash:"",p.abrupt("break",34);case 19:p.prev=19,c[e.key]=Object(T.o)(o[e.key]),p.next=26;break;case 23:throw p.prev=23,p.t2=p.catch(19),"Invalid ".concat(e.key,": ").concat(p.t2.message);case 26:return p.abrupt("break",34);case 27:return c[e.key]=_r(o[e.key]).filter(function(e){return e}),p.abrupt("break",34);case 29:return p.next=31,CollectMetadata({libraryId:t,objectId:a,writeToken:r,schema:e.fields,fields:o[e.key]});case 31:return c[e.key]=p.sent,p.abrupt("break",34);case 33:c[e.key]=o[e.key];case 34:case"end":return p.stop()}},_callee7,null,[[19,23]])}),d=n[Symbol.iterator]();case 8:if(s=(m=d.next()).done){h.next=13;break}return h.delegateYield(p(),"t0",10);case 10:s=!0,h.next=8;break;case 13:h.next=19;break;case 15:h.prev=15,h.t1=h.catch(5),l=!0,u=h.t1;case 19:h.prev=19,h.prev=20,s||null==d.return||d.return();case 22:if(h.prev=22,!l){h.next=25;break}throw u;case 25:return h.finish(22);case 26:return h.finish(19);case 27:return h.abrupt("return",c);case 28:case"end":return h.stop()}},_callee8,null,[[5,15,19,27],[20,,22,26]])}));return function(t){return e.apply(this,arguments)}}())}]),ObjectStore}(),Ti=gc()(Mi.prototype,"objects",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Pi=gc()(Mi.prototype,"versions",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),gc()(Mi.prototype,"libraryId",[Nt.e],Object.getOwnPropertyDescriptor(Mi.prototype,"libraryId"),Mi.prototype),gc()(Mi.prototype,"objectId",[Nt.e],Object.getOwnPropertyDescriptor(Mi.prototype,"objectId"),Mi.prototype),gc()(Mi.prototype,"object",[Nt.e],Object.getOwnPropertyDescriptor(Mi.prototype,"object"),Mi.prototype),Hi=gc()(Mi.prototype,"ContentObject",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee9(e){var t,a;return B.a.wrap(function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,Ot.GetContentObject({libraryId:t,objectId:a});case 3:this.objects[a]=r.sent;case 4:case"end":return r.stop()}},_callee9,this)}))}}),Gi=gc()(Mi.prototype,"ContentObjectVersions",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee10(e){var t,a;return B.a.wrap(function _callee10$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,Ot.GetContentObjectVersions({libraryId:t,objectId:a});case 3:return this.objects[a].versions=r.sent,r.next=6,this.ContentObjectVersion({versionHash:this.objects[a].versions[0]});case 6:case"end":return r.stop()}},_callee10,this)}))}}),Ri=gc()(Mi.prototype,"ContentObjectVersion",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee11(e){var t;return B.a.wrap(function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.versionHash,!this.versions[t]){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Ot.GetContentObjectVersion({versionHash:t});case 5:this.versions[t]=a.sent;case 6:case"end":return a.stop()}},_callee11,this)}))}}),zi=gc()(Mi.prototype,"ContentObjectPermissions",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee12(e){var t,a;return B.a.wrap(function _callee12$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,Ot.GetContentObjectPermissions({libraryId:t,objectId:a});case 3:this.objects[a].permissions=r.sent;case 4:case"end":return r.stop()}},_callee12,this)}))}}),Di=gc()(Mi.prototype,"CreateFromContentTypeSchema",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee13(e){var t,a,r,n,o,i,c,s;return B.a.wrap(function _callee13$(l){for(;;)switch(l.prev=l.next){case 0:t=e.libraryId,a=e.type,r=e.metadata,n=e.accessCharge,o=e.schema,i=e.fields,c=e.callback,l.prev=1,r=Object(T.o)(r),l.next=8;break;case 5:throw l.prev=5,l.t0=l.catch(1),"Invalid Metadata: ".concat(l.t0.message);case 8:return l.next=10,Ot.CreateContentObject({libraryId:t,type:a,metadata:r});case 10:return s=l.sent,l.t1=Ot,l.t2=t,l.t3=s.id,l.t4=s.write_token,l.t5=Z.a,l.t6={},l.t7=r,l.next=20,this.CollectMetadata({libraryId:t,objectId:s.id,writeToken:s.write_token,schema:o,fields:i,callback:c});case 20:return l.t8=l.sent,l.t9=(0,l.t5)(l.t6,l.t7,l.t8),l.t10={libraryId:l.t2,objectId:l.t3,writeToken:l.t4,metadata:l.t9},l.next=25,l.t1.MergeMetadata.call(l.t1,l.t10);case 25:return l.next=27,Ot.FinalizeContentObject({libraryId:t,objectId:s.id,writeToken:s.write_token});case 27:if(!(n>0)){l.next=30;break}return l.next=30,Ot.SetAccessCharge({objectId:s.id,accessCharge:n});case 30:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully created content",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t}),l.abrupt("return",s.id);case 33:case"end":return l.stop()}},_callee13,this,[[1,5]])}))}}),Bi=gc()(Mi.prototype,"UpdateFromContentTypeSchema",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee15(e){var t,a,r,n,o,i,c,s=this;return B.a.wrap(function _callee15$(l){for(;;)switch(l.prev=l.next){case 0:t=e.libraryId,a=e.objectId,r=e.metadata,n=e.accessCharge,o=e.schema,i=e.fields,c=e.callback,l.prev=1,r=Object(T.o)(r),l.next=8;break;case 5:throw l.prev=5,l.t0=l.catch(1),"Invalid Metadata: ".concat(l.t0.message);case 8:return l.next=10,Ot.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=U()(B.a.mark(function _callee14(e){return B.a.wrap(function _callee14$(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ot,n.t1=t,n.t2=a,n.t3=e,n.t4=Z.a,n.t5={},n.t6=r,n.next=9,s.CollectMetadata({libraryId:t,writeToken:e,schema:o,fields:i,callback:c});case 9:return n.t7=n.sent,n.t8=(0,n.t4)(n.t5,n.t6,n.t7),n.t9={libraryId:n.t1,objectId:n.t2,writeToken:n.t3,metadata:n.t8},n.next=14,n.t0.ReplaceMetadata.call(n.t0,n.t9);case 14:case"end":return n.stop()}},_callee14)}));return function todo(t){return e.apply(this,arguments)}}()});case 10:return l.next=12,Ot.IsNormalObject({objectId:a});case 12:if(!l.sent){l.next=15;break}return l.next=15,Ot.SetAccessCharge({objectId:a,accessCharge:n});case 15:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t}),l.abrupt("return",a);case 18:case"end":return l.stop()}},_callee15,this,[[1,5]])}))}}),$i=gc()(Mi.prototype,"DeleteContentObject",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee16(e){var t,a;return B.a.wrap(function _callee16$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,Ot.DeleteContentObject({libraryId:t,objectId:a});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deleted content object",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t});case 5:case"end":return r.stop()}},_callee16,this)}))}}),Ui=gc()(Mi.prototype,"DeleteContentObjectVersion",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee17(e){var t,a,r;return B.a.wrap(function _callee17$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n.next=3,Ot.DeleteContentVersion({libraryId:t,objectId:a,versionHash:r});case 3:delete this.versions[r],this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deleted content version",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t});case 6:case"end":return n.stop()}},_callee17,this)}))}}),qi=gc()(Mi.prototype,"UploadParts",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee19(e){var t,a,r,n,o,i,c,s,l;return B.a.wrap(function _callee19$(u){for(;;)switch(u.prev=u.next){case 0:return t=e.libraryId,a=e.objectId,r=e.files,n=e.encrypt,o=void 0!==n&&n,i=e.callback,c={},u.next=4,Ot.EditContentObject({libraryId:t,objectId:a});case 4:return s=u.sent,u.next=7,Array.from(r).limitedMap(3,function(){var e=U()(B.a.mark(function _callee18(e){var r;return B.a.wrap(function _callee18$(n){for(;;)switch(n.prev=n.next){case 0:return i&&(r=function partCallback(t){var a=t.uploaded,r=t.total;return i({uploaded:a,total:r,filename:e.name})}),n.next=3,Ot.UploadPart({libraryId:t,objectId:a,writeToken:s.write_token,file:e,encrypt:o,chunkSize:1e7,callback:r});case 3:c[e.name]=n.sent.part.hash;case 4:case"end":return n.stop()}},_callee18)}));return function(t){return e.apply(this,arguments)}}());case 7:return u.next=9,Ot.MergeMetadata({libraryId:t,objectId:a,writeToken:s.write_token,metadataSubtree:"eluv-fb.parts",metadata:c});case 9:return u.next=11,Ot.FinalizeContentObject({libraryId:t,objectId:a,writeToken:s.write_token,awaitCommitConfirmation:!1});case 11:l=r.length>1?"parts":"part",this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully uploaded "+l,redirect:!0});case 13:case"end":return u.stop()}},_callee19,this)}))}}),Vi=gc()(Mi.prototype,"AddApp",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee21(e){var t,a,r,n,o,i,c,s;return B.a.wrap(function _callee21$(l){for(;;)switch(l.prev=l.next){case 0:return t=e.libraryId,a=e.objectId,r=e.role,n=e.isDirectory,o=e.fileList,i=e.callback,c="".concat(r,"App"),l.next=4,Ha(c,o,!1,n);case 4:if((s=l.sent).find(function(e){return e.path.endsWith("index.html")})){l.next=7;break}throw Error("App must contain an index.html file");case 7:return l.next=9,Ot.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=U()(B.a.mark(function _callee20(e){return B.a.wrap(function _callee20$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ot.UploadFiles({libraryId:t,objectId:a,writeToken:e,fileInfo:s,callback:i});case 2:return n.next=4,Ot.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App"),metadata:X()(c,"index.html")});case 4:case"end":return n.stop()}},_callee20)}));return function todo(t){return e.apply(this,arguments)}}()});case 9:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully added "+r+" app",redirect:!0});case 10:case"end":return l.stop()}},_callee21,this)}))}}),Wi=gc()(Mi.prototype,"RemoveApp",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee23(e){var t,a,r;return B.a.wrap(function _callee23$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.role,n.next=3,Ot.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=U()(B.a.mark(function _callee22(e){return B.a.wrap(function _callee22$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ot.DeleteMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App")});case 2:case"end":return n.stop()}},_callee22)}));return function todo(t){return e.apply(this,arguments)}}()});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully removed "+r+" app",redirect:!0});case 4:case"end":return n.stop()}},_callee23,this)}))}}),Ki=gc()(Mi.prototype,"PublishContentObject",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee24(e){var t;return B.a.wrap(function _callee24$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,Ot.PublishContentObject({objectId:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content object",redirect:!0});case 4:case"end":return a.stop()}},_callee24,this)}))}}),Ji=gc()(Mi.prototype,"RevewContentObject",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee26(e){var t,a,r,n,o;return B.a.wrap(function _callee26$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.approve,n=e.note,i.next=3,Ot.ReviewContentObject({libraryId:t,objectId:a,approve:r,note:n});case 3:return i.next=5,Ot.CurrentAccountAddress();case 5:return o=i.sent,i.next=8,Ot.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=U()(B.a.mark(function _callee25(e){return B.a.wrap(function _callee25$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ot.MergeMetadata({libraryId:t,writeToken:e,metadata:{"eluv.reviewer":o,"eluv.reviewNote":n}});case 2:case"end":return a.stop()}},_callee25)}));return function todo(t){return e.apply(this,arguments)}}()});case 8:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content object",redirect:!0});case 9:case"end":return i.stop()}},_callee26,this)}))}}),Mi),_c=(Zi=Nt.d.bound,Yi=Nt.d.bound,Qi=Nt.d.bound,Xi=Nt.d.bound,ec=function(){function NotificationStore(e){d()(this,NotificationStore),yc()(this,"notification",tc,this),yc()(this,"error",ac,this),yc()(this,"redirect",rc,this),this.rootStore=e}return h()(NotificationStore,[{key:"SetNotificationMessage",value:function SetNotificationMessage(e){var t=e.message,a=e.redirect,r=void 0!==a&&a;this.notification=t,this.error="",this.redirect=r}},{key:"SetErrorMessage",value:function SetErrorMessage(e){var t=e.message,a=e.redirect,r=void 0!==a&&a;this.notification="",this.error=t,this.redirect=r}},{key:"ClearMessage",value:function ClearMessage(){this.notification="",this.error="",this.redirect=!1}},{key:"ChangeRoute",value:function ChangeRoute(){this.redirect?this.redirect=!1:this.ClearMessage()}}]),NotificationStore}(),tc=gc()(ec.prototype,"notification",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=gc()(ec.prototype,"error",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rc=gc()(ec.prototype,"redirect",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),gc()(ec.prototype,"SetNotificationMessage",[Zi],Object.getOwnPropertyDescriptor(ec.prototype,"SetNotificationMessage"),ec.prototype),gc()(ec.prototype,"SetErrorMessage",[Yi],Object.getOwnPropertyDescriptor(ec.prototype,"SetErrorMessage"),ec.prototype),gc()(ec.prototype,"ClearMessage",[Qi],Object.getOwnPropertyDescriptor(ec.prototype,"ClearMessage"),ec.prototype),gc()(ec.prototype,"ChangeRoute",[Xi],Object.getOwnPropertyDescriptor(ec.prototype,"ChangeRoute"),ec.prototype),ec);Object(Nt.f)({enforceActions:"always"});var Ac=new(nc=Nt.d.bound,oc=function RootStore(){d()(this,RootStore),yc()(this,"client",ic,this),yc()(this,"currentAccountAddress",cc,this),yc()(this,"InitializeClient",sc,this),this.InitializeClient(),this.contractStore=new Sc(this),this.eventsStore=new wc(this),this.groupStore=new jc(this),this.libraryStore=new xc(this),this.notificationStore=new _c(this),this.objectStore=new Ec(this),this.routerStore=new kc(this),this.typeStore=new Ic(this)},ic=gc()(oc.prototype,"client",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cc=gc()(oc.prototype,"currentAccountAddress",[Nt.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sc=gc()(oc.prototype,"InitializeClient",[nc],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(Nt.h)(B.a.mark(function _callee(){return B.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.client=new Y.FrameClient({target:window.parent,timeout:30}),e.next=3,this.client.CurrentAccountAddress();case 3:this.currentAccountAddress=e.sent;case 4:case"end":return e.stop()}},_callee,this)}))}}),oc),Oc=Ac,Nc=Ac.contractStore,Fc=Ac.eventsStore,Lc=Ac.groupStore,Mc=Ac.libraryStore,Tc=Ac.notificationStore,Pc=Ac.objectStore,Hc=Ac.routerStore,Gc=Ac.typeStore;Object(l.render)(s.a.createElement(s.a.Fragment,null,s.a.createElement(P.a,r,s.a.createElement("div",{className:"app-container"},s.a.createElement(u.a,null,s.a.createElement(w,null,s.a.createElement("div",{className:"view-container"},s.a.createElement(H,null),s.a.createElement(z,null),s.a.createElement(bc,null)))))),s.a.createElement("div",{className:"app-version"},EluvioConfiguration.version)),document.getElementById("app"))},61:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-package"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line><line x1="7" y1="3.5" x2="17" y2="8.5"></line></svg>'},83:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},95:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>'}});