!function(e){function webpackJsonpCallback(t){for(var n,o,s=t[0],i=t[1],l=t[2],u=0,p=[];u<s.length;u++)o=s[u],a[o]&&p.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);p.length;)p.shift()();return r.push.apply(r,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=__webpack_require__(__webpack_require__.s=n[0]))}return e}var t={},a={1:0},r=[];function __webpack_require__(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.e=function requireEnsure(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=n);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.src=function jsonpScriptSrc(e){return __webpack_require__.p+""+({0:"elv-client-js",2:"vendors~elv-client-js"}[e]||e)+".bundle.js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(i);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",c.name="ChunkLoadError",c.type=n,c.request=o,r[1](c)}a[e]=void 0}};var i=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(a,r,function(t){return e[t]}.bind(null,r));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__.oe=function(e){throw console.error(e),e};var n=window.webpackJsonp=window.webpackJsonp||[],o=n.push.bind(n);n.push=webpackJsonpCallback,n=n.slice();for(var s=0;s<n.length;s++)webpackJsonpCallback(n[s]);var c=o;r.push([677,3]),checkDeferredModules()}({116:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>'},143:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>'},144:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>'},19:function(e,t,a){"use strict";(function(e){a.d(t,"f",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return m}),a.d(t,"e",function(){return h}),a.d(t,"b",function(){return b});a(1),a(3);var r=a(0),n=a.n(r),o=a(146),s=a.n(o),c=a(195),i=a.n(c),l=a(4),u=function SafeTraverse(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];1===a.length&&Array.isArray(a[0])&&(a=a[0]);for(var n=e,o=0;o<a.length;o++)if(void 0===(n=n[a[o]]))return;return n},p=function FormatAddress(e){return s.a.FormatAddress(e)},d=function EqualAddress(e,t){return p(e)===p(t)},m=function AccessChargeDisplay(e){return 0===e||"0"===e?"Free":n.a.createElement(l.c,{balance:e})},h=function ParseBytes32(e){try{return b(e)}catch(t){return e.startsWith("0x0000")?new i.a(e).toString():e}},b=function Bytes32ToUtf8(t){for(var a=e.from(t.replace("0x",""),"hex"),r="",n=0;n<a.length;){var o=a[n++];if(o>>7!=0){var s=null,c=null;if(192==(224&o))s=1,c=127;else if(224==(240&o))s=2,c=2047;else{if(240!=(248&o)){if(128==(192&o))throw new Error("invalid utf8 byte sequence; unexpected continuation byte");throw new Error("invalid utf8 byte sequence; invalid prefix")}s=3,c=65535}if(n+s>a.length)throw new Error("invalid utf8 byte sequence; too short");for(var i=o&(1<<8-s-1)-1,l=0;l<s;l++){var u=a[n];if(128!=(192&u)){i=null;break}i=i<<6|63&u,n++}if(null===i)throw new Error("invalid utf8 byte sequence; invalid continuation byte");if(i<=c)throw new Error("invalid utf8 byte sequence; overlong");if(i>1114111)throw new Error("invalid utf8 byte sequence; out-of-range");if(i>=55296&&i<=57343)throw new Error("invalid utf8 byte sequence; utf-16 surrogate");i<=65535?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296+(i>>10&1023),56320+(1023&i)))}else r+=String.fromCharCode(o)}return r}}).call(this,a(70).Buffer)},281:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line></svg>'},282:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'},283:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>'},284:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>'},285:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg>'},286:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},287:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><g fill="none" stroke="#626262" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 2v4h8V2h-8zm-1 2H6v26h20V4h-5"></path></g></svg>'},289:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>'},290:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'},291:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'},292:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-corner-up-left"><polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path></svg>'},293:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>'},294:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'},295:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'},301:function(e,t,a){var r=a(302);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(42)(r,n);r.locals&&(e.exports=r.locals)},302:function(e,t,a){(e.exports=a(41)(!1)).push([e.i,'*{-webkit-box-sizing:border-box;box-sizing:border-box}html,body{background-color:#fff;color:#222;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;height:100%;margin:0;padding:0}h1{font-size:28px;font-weight:bold;margin:0}h2{font-size:24px;font-weight:bold;margin:0}h3{font-size:20px;font-weight:normal;margin:0}h3.header-with-loader{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}h4{color:#222;font-size:16px;font-weight:normal;margin:8px 0 4px}a{text-decoration:none}a,a:visited{color:#555}a.link{display:block}a.image-link{display:-webkit-box;display:-ms-flexbox;display:flex}ul{display:-webkit-box;display:-ms-flexbox;display:flex;list-style-type:none;margin:0;padding:0}ul li{display:inline}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url("data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+") no-repeat 98% 50%;border:1px solid #ccc;border-radius:0;cursor:pointer;font-size:16px;height:32px;padding:0 0 0 4px;width:250px}input{height:32px}input,textarea,pre{border:1px solid #ddd;padding:0 4px}pre{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:0;overflow:auto;padding:12px 8px;white-space:pre-wrap;word-wrap:break-word}.-elv-copyable{cursor:pointer}.hidden{display:none !important}.bold{font-weight:bold}.full-width{width:100%}.clickable{cursor:pointer}.actions-container.manage-actions{margin-bottom:24px}.actions-container .-elv-button{margin-right:8px}.help-text{color:#8c8c8c;font-size:12px;margin-left:4px}.clipped-text{cursor:pointer;position:relative;width:100%}.clipped-text.hide{overflow:hidden}.clipped-text.show{max-height:100% !important}.clipped-text .text{background-color:transparent;border:0;font-family:inherit;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.clipped-text .cover.show-more,.clipped-text .cover.show-less{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;width:100%}.clipped-text .cover.show-more{background-image:-webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(transparent), color-stop(transparent), to(#fff));background-image:linear-gradient(to bottom, transparent, transparent, transparent, #fff)}.copyable .copy-icon{height:1.2em;margin-left:8px;width:1.2em}.app{height:100%;max-width:100vw;width:100%}.app-container{height:100%}.header-container{grid-area:header}.navbar-container{grid-area:navbar}.notification-container{grid-area:notifications}.main-content-container{grid-area:main-content;padding:16px 48px 64px}.page-container{height:100%;width:100%}.page-container .page-header-container{margin:24px 0}.page-container .page-header-container .page-subheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6c6c6c;font-size:14px;margin-top:4px;width:70vw}.page-container .page-content{width:100%}.view-container{display:grid;grid-template:"navbar notifications" 35px "navbar main-content" 1fr / 200px;min-height:100%}.loading-page-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.error-page{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.error-page .error-message{color:#a33;margin:24px 0}.error-page .actions-container{height:35px}.modal{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;background:rgba(0,0,0,0.3);color:#222;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.modal .modal-content{background:#fff;border:1px solid #444;border-radius:2px;margin-top:128px;max-height:75%;overflow-y:auto;padding:15px 20px 20px;z-index:1001}.modal .modal-error{-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#a33;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;padding:10px}.modal .modal-error:empty{display:none}.navbar-container{background:#f5f5f5;z-index:99}.navbar-links-container{margin-top:16px}.navbar-links-container .navbar-link-container{display:block;height:50px;text-align:center;width:100%}.navbar-links-container .navbar-link{color:#555;font-size:16px;padding:0 16px}.navbar-links-container .navbar-link:hover{background:#eee}.navbar-links-container .navbar-link.active,.navbar-links-container .navbar-link:hover{font-weight:bold}.navbar-links-container .navbar-link.active{color:#222}.navbar-links-container .navbar-link.active i{color:#1b73e8}.navbar-links-container .navbar-link,.navbar-links-container .navbar-link-span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:100%}.navbar-links-container .navbar-link-icon{color:#444;display:inline-block;height:25px;margin-right:12px;width:25px}.navbar-links-container .navbar-link-text{justify-self:center;text-align:left;width:auto}.navbar-account-container{width:100px}.notification-container{font-size:14px;position:relative}.notification-container .notification-message-container{-webkit-animation:FadeInOut 8s linear;animation:FadeInOut 8s linear;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;background:#1b73e8;color:#fff;opacity:0}.notification-container .error-message-container{background:#a33;color:#fff}.notification-container .notification-message-container,.notification-container .error-message-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.notification-container .notification-message-container span,.notification-container .error-message-container span{text-align:center;width:100%}.notification-container .clear-notification{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:auto;margin-right:12px;width:20px}.notification-container .clear-notification i{height:20px}.notification-container .clear-notification i svg{color:#fff;padding-top:2px;width:20px}.notification-container .clear-notification i svg:hover{color:#aaa}@-webkit-keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:1}}@keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:1}}.object-image{float:right}.object-image img{max-height:20vw;max-width:20vw}.video-player{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.video-player video{cursor:pointer;max-height:60vh;max-width:85%}.content-object-data{margin:20px 0}.app-frame{border:1px solid #eee;display:block;height:50vh;width:100%}.app-frame.display-frame{margin-bottom:24px}.account-image{max-height:100px;max-width:100px}.version-info{margin-bottom:10px}.version-info.version-visible{margin-bottom:30px}.object-description{height:100%;margin-bottom:5px}.object-description.show{max-height:100%}.object-description.hide{max-height:3.5em}.part-info{margin-bottom:16px}.download-progress{color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.download-progress progress{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:8px}.label-box{width:100%}.label-box h2{font-size:20px;font-weight:400;margin:24px 0 16px}.label-box h3{font-size:18px;margin:24px 0 16px}.label-box .labelled-field{display:-webkit-box;display:-ms-flexbox;display:flex;min-height:1.8em;padding:4px 16px 4px 0}.label-box .labelled-field label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#6c6c6c;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:150px}.label-box .labelled-field label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.label-box .labelled-field label.wide{min-width:250px}.label-box .labelled-field label.bold{font-weight:bold}.label-box .labelled-field .inline-link{color:#1b73e8}.label-box .labelled-field .comma-separated-list{white-space:normal}.label-box .labelled-field .comma-separated-list *::after{color:#222;content:",";margin-right:8px}.label-box .labelled-field .comma-separated-list *:last-child::after{content:""}.label-box .labelled-field>div,.label-box .labelled-field>.copyable>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:525px}.label-box .labelled-field>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.label-box .labelled-field.labelled-field button{font-size:12px;width:200px}.label-box .indented{padding-left:24px}.label-box pre{margin-top:16px;max-width:75vw;white-space:pre-wrap}.label-box pre.event-log{max-height:500px}.events{max-width:1200px}.events h4{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:18px;font-weight:bold;height:50vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.events .event-controls{display:-webkit-box;display:-ms-flexbox;display:flex;height:32px;margin-bottom:16px;width:100%}.events .event-controls .control-group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:100%}.events .event-controls .control-group.action-group{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}.events .event-controls .control-group.filter-group{-webkit-box-flex:15;-ms-flex-positive:15;flex-grow:15}.events .event-controls .control-group label{margin-right:8px}.events .event-controls .control-group input,.events .event-controls .control-group button{font-size:14px;height:100%}.events .event-controls .control-group input:not(:last-child),.events .event-controls .control-group button:not(:last-child){margin-right:8px}.events .event-controls .control-group input:not(.watch-icon),.events .event-controls .control-group button:not(.watch-icon){min-width:auto;width:100px}.events .event-controls .control-group input.event-filter,.events .event-controls .control-group button.event-filter{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:16px;margin-right:16px}.events .event-controls .watch-icon{width:35px}.events .event-controls .watch-icon.watching svg{-webkit-animation:watch-pulse 3s infinite normal;animation:watch-pulse 3s infinite normal}.events .event-controls .watch-icon:hover svg{color:#aaa}.events .events-container{height:75vh;max-height:75vh;overflow-y:auto;padding:16px 8px 16px 0}.events .filter-loading{width:208px}.events .load-more{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:16px;width:100%}.event .header,.log .header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:8px}.event .header .info,.log .header .info{color:#6c6c6c;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:12px}.event{border:1px solid #555;font-size:12px;margin-bottom:24px;padding:16px}.log{border:1px solid #ccc;margin-bottom:8px;padding:16px}.log .labelled-field{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1.6}.log .labelled-field label{min-width:175px;width:175px}.log .labelled-field .value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:12px;max-width:50vw}.log .section-label{font-size:12px;font-weight:600;margin:16px 0 4px}@-webkit-keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}@keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}.upload-widget{padding:16px}.file-browser{border:1px solid #ddd;margin:16px 0;max-height:50vh;overflow-y:auto;width:100%}.file-browser i,.file-browser .download-button,.file-browser .copy-button{height:20px;margin:0;padding:0;width:20px}.file-browser button:hover svg{color:#aaa}.file-browser table{border-collapse:collapse;table-layout:fixed;width:100%}.file-browser thead{height:45px}.file-browser th{text-align:left}.file-browser th.type-header{width:40px}.file-browser th.type-header button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.file-browser th.type-header button i{width:20px}.file-browser th.actions-header{padding:4px 0;text-align:center;width:130px}.file-browser th.size-header{width:5em}.file-browser tr{border-top:1px solid #eee;height:35px}.file-browser tr.directory{cursor:pointer}.file-browser tr.directory:hover{background-color:#f5f5f5}.file-browser tr td{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:35px}.file-browser tr td.item-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.file-browser tr td.info-cell{text-align:right}.file-browser tr td.actions-cell{text-align:center}.file-browser tr td.actions-cell button{margin-right:8px}.file-browser tr td .item-path{max-width:150px}.listing .loading{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.listing .listing-actions{display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.listing .listing-actions .controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:35px;margin-right:8px}.listing .listing-actions .controls.right-controls{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.listing .listing-actions .controls input{max-width:250px}.listing .listing-actions .controls select{max-width:200px}.listing .listing-actions .controls input,.listing .listing-actions .controls select{border:1px solid #ddd;-ms-flex-preferred-size:100px;flex-basis:100px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:100%;width:auto}.listing .listing-actions .controls input.per-page-controls,.listing .listing-actions .controls select.per-page-controls{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0}.listing .listing-actions .page-controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%}.listing .listing-actions .page-controls li{border:1px solid #ddd;border-right:0;height:100%}.listing .listing-actions .page-controls li .page-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:transparent;border:0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;min-width:2.5em}.listing .listing-actions .page-controls li .page-button:hover{background:#ddd}.listing .listing-actions .page-controls li .page-button:active{background:#eee}.listing .listing-actions .page-controls li .page-button:disabled{color:#222;font-weight:bold}.listing .listing-actions .page-controls li .page-button:disabled:hover,.listing .listing-actions .page-controls li .page-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li .page-button:disabled.selected{background:#f5f5f5}.listing .listing-actions .page-controls li .text-button:disabled{color:#aaa;font-weight:normal}.listing .listing-actions .page-controls li .text-button:disabled:hover,.listing .listing-actions .page-controls li .text-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li:last-child{border-right:1px solid #ddd}.listing .listing-actions .per-page-controls{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;margin-left:8px;min-width:4em}.listing .listing-actions .listing-action{margin:0 4px;padding:4px}.listing .listing-actions .listing-action i{height:25px;width:25px}.listing .listing-actions .loading-action{width:41px}.listing .listing-actions .filter{font-size:16px;height:30px;margin-right:8px;padding:0 8px}.listing .listing-count{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:8px 0 16px}.listing .grid-listing{display:grid;grid-gap:32px 24px;grid-template-columns:repeat(auto-fill, 215px)}.listing .grid-listing-element:hover .listing-info,.listing .grid-listing-element:focus .listing-info{background-color:#ddd}.listing .grid-listing-element .icon-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.listing .grid-listing-element .icon-container .-elv-cropped-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(215px * .75);-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;max-height:calc(215px * .75);overflow:hidden;width:215px}.listing .grid-listing-element .icon-container .-elv-cropped-icon .-elv-icon{height:calc(215px * .75);max-height:calc(215px * .75);max-width:215px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;padding:0;width:215px}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action{position:relative}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action .-elv-hover-action{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;visibility:hidden;width:100%;z-index:1000}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action .-elv-hover-action span{background:rgba(0,0,0,0.75);color:#fff;padding:8px}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action:hover .-elv-hover-action{background:rgba(0,0,0,0.3);visibility:visible}.listing .grid-listing-element .icon-container i{padding:8px 32px 32px !important}.listing .grid-listing-element .listing-info{height:120px;padding:8px 4px 0}.listing .grid-listing-element .title{color:#222;font-size:18px;margin-bottom:8px}.listing .grid-listing-element .description{font-size:14px;height:50px;margin-bottom:8px;max-height:80px;overflow:hidden}.listing .grid-listing-element .title,.listing .grid-listing-element .status{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.listing .grid-listing-element .title,.listing .grid-listing-element .description,.listing .grid-listing-element .status{text-align:center}.listing table{border-collapse:collapse;max-width:100%;table-layout:fixed;width:100%}.listing table *{border:0}.listing thead tr th{margin:0;padding:0}.listing thead tr th.icon-header{width:125px}.listing thead tr th.title-header{width:35%}.listing thead tr th.status-header{width:150px}.listing tbody tr{height:calc(calc(125px * .75) + 8px);max-height:calc(calc(125px * .75) + 8px)}.listing tbody tr:hover,.listing tbody tr:focus{background-color:#f5f5f5}.listing tbody tr td{color:#6c6c6c;margin:0;overflow:hidden;padding:8px 0 8px 16px;word-wrap:break-word}.listing tbody tr td.icon-cell{padding:0}.listing tbody tr td.title-cell{color:#222;font-size:18px}.listing tbody tr td.status-cell{font-size:14px}.listing tbody tr td .cropped-text{height:auto;max-height:70px;overflow-x:visible;overflow-y:hidden;white-space:normal}.listing tbody tr td .icon-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.listing tbody tr td .icon-container .-elv-cropped-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(125px * .75);-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;max-height:calc(125px * .75);overflow:hidden;width:125px}.listing tbody tr td .icon-container .-elv-cropped-icon .-elv-icon{height:calc(125px * .75);max-height:calc(125px * .75);max-width:125px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;padding:0;width:125px}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action{position:relative}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action .-elv-hover-action{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;visibility:hidden;width:100%;z-index:1000}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action .-elv-hover-action span{background:rgba(0,0,0,0.75);color:#fff;padding:8px}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action:hover .-elv-hover-action{background:rgba(0,0,0,0.3);visibility:visible}.listing tbody tr td .icon-container i{padding:0 16px !important}.listing tbody tr td a{display:block;height:100%;width:100%}.listing.compact thead th.title-header{width:45%}.listing.compact tbody tr{height:70px}.listing.compact tbody td.title-cell{font-size:16px}.listing.compact tbody td.description-cell{font-size:14px}.listing .listing-link{cursor:pointer}.listing .listing-action-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:16px}.listing .listing-action-icon button{height:25px;width:25px}.-elv-form{display:block;width:600px}.-elv-form fieldset{border:1px solid #ccc;padding:0 32px}.-elv-form .form-content{display:grid;grid-gap:16px;grid-template-columns:1fr 3fr;margin:24px 0 32px}.-elv-form .form-content.no-margins{margin:0}.-elv-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.-elv-form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:6px}.-elv-form input,.-elv-form textarea{border:1px solid #ccc;font-size:16px}.-elv-form input{width:auto}.-elv-form input[type="checkbox"]{cursor:pointer;margin:0;width:1em}.-elv-form textarea{font-family:inherit;height:10em;padding:4px}.-elv-form select{width:100%}.-elv-form .image-preview{margin-top:16px;width:100%}.-elv-form .image-preview img{width:100%}.-elv-form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.-elv-form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:4px}.-elv-form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:24px 0;width:100%}.-elv-form .form-actions *:not(:last-child){margin-right:8px}.-elv-form .form-error{background:#a33;color:#fff;margin-top:16px;padding:8px}@media only screen and (max-width: 1000px){.-elv-form form{width:100%}.-elv-form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.-elv-form form .form-content label{margin-bottom:4px}.-elv-form form .form-content *{margin-bottom:16px}}form{display:block;width:600px}form fieldset{border:1px solid #ccc;padding:0 32px}form .form-content{display:grid;grid-gap:16px;grid-template-columns:1fr 3fr;margin:24px 0 32px}form .form-content.no-margins{margin:0}form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:6px}form input,form textarea{border:1px solid #ccc;font-size:16px}form input{width:auto}form input[type="checkbox"]{cursor:pointer;margin:0;width:1em}form textarea{font-family:inherit;height:10em;padding:4px}form select{width:100%}form .image-preview{margin-top:16px;width:100%}form .image-preview img{width:100%}form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:4px}form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:24px 0;width:100%}form .form-actions *:not(:last-child){margin-right:8px}form .form-error{background:#a33;color:#fff;margin-top:16px;padding:8px}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:4px}form form .form-content *{margin-bottom:16px}}form input{height:2em}form .list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:8px;width:100%}form .list .list-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:8px;position:relative}form .list .list-item input{width:100%}form .list .list-item .-elv-icon-button{height:20px;margin:0;padding:0;position:absolute;right:5px;width:20px}form h4{font-size:16px;font-weight:500;margin:16px 0;text-align:center}form .section-separator{border-bottom:1px solid #ddd;margin-bottom:32px;padding-top:8px}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:4px}form form .form-content *{margin-bottom:16px}}\n',""])},525:function(e,t){String.prototype.capitalize=function(){return this.replace(/_/g," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.prototype.toHash=function(){return this.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}},537:function(e,t){},539:function(e,t){},67:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-package"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line><line x1="7" y1="3.5" x2="17" y2="8.5"></line></svg>'},677:function(e,t,a){"use strict";a.r(t);a(301);var r,n=a(0),o=a.n(n),s=a(271),c=a(18),i=a(69),l=a(68),u=a(273),p=a(145),d=a(5),m=a.n(d),h={accessGroups:{list:"LIST_ACCESS_GROUPS",get:"GET_ACCESS_GROUP",members:{list:"LIST_ACCESS_GROUP_MEMBERS"}},accounts:{get:{currentAccountAddress:"GET_CURRENT_ACCOUNT_ADDRESS"}},content:{libraries:{list:"LIST_LIBRARIES",get:"GET_LIBRARY",groups:"GET_LIBRARY_GROUPS",groupPermissions:"GET_LIBRARY_GROUP_PERMISSIONS",types:"GET_LIBRARY_TYPES"},objects:{list:"LIST_OBJECTS",get:"GET_OBJECTS",versions:"GET_OBJECT_VERSIONS",permissions:"GET_OBJECT_PERMISSIONS"},types:{get:"GET_TYPE",list:"LIST_TYPES",all:"ALL_TYPES"}},contracts:{list:"LIST_CONTRACTS",compile:"COMPILE_CONTRACTS",deployed:{list:"LIST_DEPLOYED_CONTRACTS",balance:"GET_CONTRACT_BALANCE",events:"GET_CONTRACT_EVENTS",clearEvents:"CLEAR_CONTRACT_EVENTS",call:"CALL_CONTRACT_METHOD"},error:{compile:"ERROR_CONTRACT_COMPILATION"}},logs:{clear:"CLEAR_BLOCKCHAIN_LOGS",list:"LIST_BLOCKCHAIN_LOGS"},notifications:{error:"SET_ERROR_MESSAGE",notification:"SET_NOTIFICATION_MESSAGE",clear:"CLEAR_NOTIFICATIONS"},requests:{status:{submitted:"REQUEST_SUBMITTED",completed:"REQUEST_COMPLETED",error:"REQUEST_ERROR"}},routes:{path:"ROUTING_FRAME_PATH",synchronize:"START_ROUTE_SYNCHRONIZATION"}},b=function AccountsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.accounts.get.currentAccountAddress:return m()({},e,{currentAccountAddress:t.address});default:return m()({},e,{currentAccountAddress:e.currentAccountAddress})}},f=a(16),y=a.n(f),v=function ContentReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.content.libraries.list:return m()({},e,{libraries:t.libraries,count:m()({},e.count,{libraries:t.count})});case h.content.libraries.get:return m()({},e,{libraries:m()({},e.libraries,y()({},t.libraryId,t.library))});case h.content.libraries.types:return m()({},e,{libraries:m()({},e.libraries,y()({},t.libraryId,m()({},e.libraries[t.libraryId],{types:t.types})))});case h.content.libraries.groups:return m()({},e,{libraries:m()({},e.libraries,y()({},t.libraryId,m()({},e.libraries[t.libraryId],{groups:t.groups}))),count:m()({},e.count,{libraryGroups:m()({},e.count.libraryGroups||{},y()({},t.libraryId,t.count))})});case h.content.libraries.groupPermissions:return m()({},e,{libraries:m()({},e.libraries,y()({},t.libraryId,m()({},e.libraries[t.libraryId],{groupPermissions:t.permissions})))});case h.content.objects.list:return m()({},e,{objects:m()({},t.objects),cacheId:t.cacheId,count:m()({},e.count,{objects:m()({},e.count.objects||{},y()({},t.libraryId,t.count))})});case h.content.objects.get:return m()({},e,{objects:m()({},e.objects,y()({},t.objectId,t.object))});case h.content.objects.versions:return m()({},e,{objects:m()({},e.objects,y()({},t.objectId,m()({},e.objects[t.objectId],{versions:t.versions})))});case h.content.objects.permissions:return m()({},e,{objects:m()({},e.objects,y()({},t.objectId,m()({},e.objects[t.objectId],{permissions:t.permissions})))});case h.content.types.all:return m()({},e,{allTypes:t.types});case h.content.types.list:return m()({},e,{types:t.types,count:m()({},e.count,{types:t.count})});case h.content.types.get:return m()({},e,{types:m()({},e.types,y()({},t.contentType.hash,t.contentType))});default:return m()({},e,{libraries:e.libraries||{},objects:e.objects||{},types:e.types||{},allTypes:e.allTypes||{},count:e.count||{libraries:0,objects:{},types:0,libraryGroups:{}}})}},g=function SortBlocks(e){var t={};return e.forEach(function(e){return t[e[0].blockNumber]=e}),Object.values(t).sort(function(e,t){return e[0].blockNumber<t[0].blockNumber?1:-1})},x=function ContractsReducer(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h.contracts.list:return m()({},t,{contracts:a.contracts,count:m()({},t.count,{contracts:a.count})});case h.contracts.compile:return m()({},t,{contractData:a.contractData,errors:void 0});case h.contracts.error.compile:return m()({},t,{contractData:{},errors:a.errors});case h.contracts.deployed.list:return m()({},t,{deployedContracts:a.contracts,count:m()({},t.count,{deployedContracts:a.count})});case h.contracts.deployed.balance:return e=t.deployedContracts[a.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,y()({},a.contractAddress,m()({},e,{balance:a.balance})))});case h.contracts.deployed.events:return e=t.deployedContracts[a.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,y()({},a.contractAddress,m()({},e,{events:g((e.events||[]).concat(a.blocks))})))});case h.contracts.deployed.clearEvents:return e=t.deployedContracts[a.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,y()({},a.contractAddress,m()({},e,{events:[]})))});case h.contracts.deployed.call:return e=t.deployedContracts[a.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,y()({},a.contractAddress,m()({},e,{methodResults:m()({},e.methodResults,y()({},a.methodName,a.methodResults))})))});default:return m()({},t,{count:t.count||{},contracts:t.contracts||{},deployedContracts:t.deployedContracts||{},logs:t.logs||{}})}},C=function NotificationsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.notifications.error:return m()({},e,{errorMessage:t.message,notificationMessage:"",redirect:t.redirect||!1});case h.notifications.notification:return m()({},e,{errorMessage:"",notificationMessage:t.message,redirect:t.redirect||!1});case"@@router/LOCATION_CHANGE":if(e.redirect)return m()({},e,{redirect:!1});case h.notifications.clear:return m()({},e,{errorMessage:"",notificationMessage:""});default:return m()({},e,{notificationMessage:e.notificationMessage||"",errorMessage:e.errorMessage||"",redirect:e.redirect||!1})}},k=function AccessGroupsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.accessGroups.list:return m()({},e,{accessGroups:t.accessGroups,count:m()({},e.count,{accessGroups:t.count})});case h.accessGroups.get:return m()({},e,{accessGroups:m()({},e.accessGroups,y()({},t.contractAddress,t.accessGroup))});case h.accessGroups.members.list:return m()({},e,{accessGroups:m()({},e.accessGroups,y()({},t.contractAddress,m()({},e.accessGroups[t.contractAddress],{members:t.members}))),count:m()({},e.count,{members:m()({},e.count.members,y()({},t.contractAddress,t.count))})});default:return m()({},e,{accessGroups:e.accessGroups||{},count:e.count||{accessGroups:0,members:{}}})}},w=a(57),I=a.n(w),E=a(1),_=a.n(E),j=a(3),S=a.n(j),A=a(194),L=a(17),F=a.n(L),T=a(46),N=a.n(T),O=a(85),R=a.n(O),G=a(114),M=a.n(G),P=a(19),H=window.location.search.split("?")[1];H&&(H=H.split("&")).forEach(function(e){"privateKey"===e.split("=")[0]&&(r=e.split("=")[1])});var D,B,$,q,U,z,V,W,J,K,Y,Z,Q,X,ee,te,ae,re,ne,oe,se,ce,ie,le,ue,pe,de,me,he,be,fe,ye,ve,ge,xe,Ce,ke,we,Ie,Ee,_e,je,Se,Ae,Le,Fe,Te,Ne,Oe,Re,Ge,Me,Pe,He,De,Be,$e,qe,Ue,ze,Ve,We,Je,Ke=window.self!==window.top,Ye=new A.FrameClient({target:window.parent,timeout:30}),Ze={currentAccountAddress:void 0,utils:Ye.utils,isFrameClient:Ke,cachedImages:{},Initialize:(Je=S()(_.a.mark(function _callee(){var e;return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(Ke){t.next=11;break}return t.next=3,Promise.all([a.e(2),a.e(0)]).then(a.t.bind(null,828,7));case 3:return e=t.sent.ElvClient,t.next=6,e.FromConfigurationUrl({configUrl:EluvioConfiguration["config-url"]});case 6:return Ye=t.sent,t.next=9,Ye.SetSigner({signer:Ye.GenerateWallet().AddAccount({privateKey:r})});case 9:t.next=12;break;case 11:Ye=new A.FrameClient({target:window.parent,timeout:30});case 12:return window.fabricBrowserClient=Ye,t.next=15,Ye.ContentSpaceId();case 15:this.contentSpaceId=t.sent,this.contentSpaceLibraryId=this.contentSpaceId.replace("ispc","ilib");case 17:case"end":return t.stop()}},_callee,this)})),function Initialize(){return Je.apply(this,arguments)}),GetFramePath:(We=S()(_.a.mark(function _callee2(){return _.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze.isFrameClient){e.next=4;break}return e.next=3,Ye.SendMessage({options:{operation:"GetFramePath"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},_callee2)})),function GetFramePath(){return We.apply(this,arguments)}),SetFramePath:(Ve=S()(_.a.mark(function _callee3(e){var t;return _.a.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.path,!Ze.isFrameClient){a.next=5;break}return a.next=4,Ye.SendMessage({options:{operation:"SetFramePath",path:t}});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},_callee3)})),function SetFramePath(e){return Ve.apply(this,arguments)}),ExecuteFrameRequest:(ze=S()(_.a.mark(function _callee4(e){var t,a;return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.request,a=e.Respond,!Ke){r.next=9;break}return r.t0=a,r.next=5,Ye.PassRequest({request:t,Respond:a});case 5:r.t1=r.sent,(0,r.t0)(r.t1),r.next=14;break;case 9:return r.t2=a,r.next=12,Ye.CallFromFrameMessage(t);case 12:r.t3=r.sent,(0,r.t2)(r.t3);case 14:case"end":return r.stop()}},_callee4)})),function ExecuteFrameRequest(e){return ze.apply(this,arguments)}),CurrentAccountAddress:(Ue=S()(_.a.mark(function _callee5(){return _.a.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(Ze.currentAccountAddress){e.next=6;break}return e.t0=P.d,e.next=4,Ye.CurrentAccountAddress();case 4:e.t1=e.sent,Ze.currentAccountAddress=(0,e.t0)(e.t1);case 6:return e.abrupt("return",Ze.currentAccountAddress);case 7:case"end":return e.stop()}},_callee5)})),function CurrentAccountAddress(){return Ue.apply(this,arguments)}),CreateAccessGroup:(qe=S()(_.a.mark(function _callee6(e){var t,a,r;return _.a.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.name,a=e.metadata,r=void 0===a?{}:a,n.next=3,Ye.CreateAccessGroup({name:t,metadata:r});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},_callee6)})),function CreateAccessGroup(e){return qe.apply(this,arguments)}),DeleteAccessGroup:($e=S()(_.a.mark(function _callee7(e){var t;return _.a.wrap(function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,Ye.DeleteAccessGroup({contractAddress:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee7)})),function DeleteAccessGroup(e){return $e.apply(this,arguments)}),AddAccessGroupMember:(Be=S()(_.a.mark(function _callee8(e){var t,a;return _.a.wrap(function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,Ye.AddAccessGroupMember({contractAddress:t,memberAddress:Object(P.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee8)})),function AddAccessGroupMember(e){return Be.apply(this,arguments)}),RemoveAccessGroupMember:(De=S()(_.a.mark(function _callee9(e){var t,a;return _.a.wrap(function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,Ye.RemoveAccessGroupMember({contractAddress:t,memberAddress:Object(P.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee9)})),function RemoveAccessGroupMember(e){return De.apply(this,arguments)}),AddAccessGroupManager:(He=S()(_.a.mark(function _callee10(e){var t,a;return _.a.wrap(function _callee10$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,Ye.AddAccessGroupManager({contractAddress:t,memberAddress:Object(P.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee10)})),function AddAccessGroupManager(e){return He.apply(this,arguments)}),RemoveAccessGroupManager:(Pe=S()(_.a.mark(function _callee11(e){var t,a;return _.a.wrap(function _callee11$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.contractAddress,a=e.memberAddress,r.next=3,Ye.RemoveAccessGroupManager({contractAddress:t,memberAddress:Object(P.d)(a)});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee11)})),function RemoveAccessGroupManager(e){return Pe.apply(this,arguments)}),FilterContentLibraries:function FilterContentLibraries(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.filter(function(e){var n=e.meta;try{var o=(n[t]||"").toLowerCase().includes(a);return r?!o:o}catch(e){return!1}})},ListContentLibraries:(Me=S()(_.a.mark(function _callee14(e){var t,a,r,n,o,s,c;return _.a.wrap(function _callee14$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.params,i.next=3,Ye.ContentLibraries();case 3:return a=i.sent,i.next=6,Promise.all(a.map(function(){var e=S()(_.a.mark(function _callee12(e){var t,a;return _.a.wrap(function _callee12$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.replace("ilib","iq__"),r.next=4,Ye.ContentObject({libraryId:e,objectId:t});case 4:return r.next=6,Ye.ContentObjectMetadata({libraryId:e,objectId:t});case 6:return a=r.sent,r.abrupt("return",{libraryId:e,meta:a});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{libraryId:e,meta:{}});case 13:case"end":return r.stop()}},_callee12,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()));case 6:r=(r=i.sent).filter(function(e){return void 0!==e}),i.t0=t.selectFilter,i.next="content"===i.t0?11:"users"===i.t0?13:"elv-media-platform"===i.t0?15:17;break;case 11:return r=r.filter(function(e){var t=e.meta;return!["elv-user-library","elv-media-platform"].includes((t.class||"").toLowerCase())}),i.abrupt("break",17);case 13:return r=Ze.FilterContentLibraries(r,"class","elv-user-library"),i.abrupt("break",17);case 15:return r=Ze.FilterContentLibraries(r,"class","elv-media-platform"),i.abrupt("break",17);case 17:return t.filter&&(r=Ze.FilterContentLibraries(r,"name",t.filter.toLowerCase())),r=r.sort(function(e,t){e.meta=e.meta||{},t.meta=t.meta||{};var a=e.meta.name||"zz",r=t.meta.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),n=r.length,o=(t.page||1)-1,s=t.perPage||10,r=r.slice(o*s,(o+1)*s),c={},i.next=26,Promise.all(r.map(function(){var e=S()(_.a.mark(function _callee13(e){var t,a,r,n;return _.a.wrap(function _callee13$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.meta,o.prev=1,r=t.replace("ilib","iq__"),o.next=5,Ze.GetContentObjectImageUrl({libraryId:t,objectId:r,metadata:a});case 5:n=o.sent,c[t]={libraryId:t,name:a.name||t,description:a["eluv.description"],imageUrl:n,isContentSpaceLibrary:t===Ze.contentSpaceLibraryId},o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),console.error("Failed to get content library ".concat(a.name||t,": ")),console.error(o.t0);case 13:case"end":return o.stop()}},_callee13,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()));case 26:return i.abrupt("return",{libraries:c,count:n});case 27:case"end":return i.stop()}},_callee14)})),function ListContentLibraries(e){return Me.apply(this,arguments)}),GetContentLibrary:(Ge=S()(_.a.mark(function _callee15(e){var t,a,r,n,o,s,c,i,l,u,p;return _.a.wrap(function _callee15$(d){for(;;)switch(d.prev=d.next){case 0:return t=e.libraryId,d.next=3,Ye.ContentLibrary({libraryId:t});case 3:return a=d.sent,d.next=6,Ze.GetContentLibraryOwner({libraryId:t});case 6:return r=d.sent,d.next=9,Ze.CurrentAccountAddress();case 9:return n=d.sent,o=t.replace("ilib","iq__"),s={},d.prev=12,d.next=15,Ze.GetContentObject({libraryId:t,objectId:o});case 15:return i=d.sent,d.next=18,Ze.GetContentObjectMetadata({libraryId:t,objectId:o});case 18:return s=d.sent,d.next=21,Ze.GetContentObjectImageUrl({libraryId:t,objectId:o,versionHash:i.hash,metadata:s});case 21:c=d.sent,d.next=27;break;case 24:d.prev=24,d.t0=d.catch(12),console.error(d.t0);case 27:return d.next=29,Ye.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t),abi:N.a.abi,methodName:"addressKMS"});case 29:return l=d.sent,u="ikms".concat(Ye.utils.AddressToHash(l)),d.next=33,Ze.ListLibraryContentTypes({libraryId:t});case 33:return p=d.sent,d.abrupt("return",m()({},a,{libraryId:t,types:p,name:s.name||t,description:s["eluv.description"],contractAddress:Object(P.d)(Ye.utils.HashToAddress(t)),libraryObjectId:t.replace("ilib","iq__"),privateMeta:s,imageUrl:c,kmsId:u,owner:r,isOwner:Object(P.c)(r,n),isContentSpaceLibrary:t===Ze.contentSpaceLibraryId}));case 35:case"end":return d.stop()}},_callee15,null,[[12,24]])})),function GetContentLibrary(e){return Ge.apply(this,arguments)}),ListLibraryContentTypes:(Re=S()(_.a.mark(function _callee17(e){var t,a;return _.a.wrap(function _callee17$(r){for(;;)switch(r.prev=r.next){case 0:if((t=e.libraryId)!==Ze.contentSpaceLibraryId){r.next=3;break}return r.abrupt("return",{});case 3:return r.next=5,Ye.LibraryContentTypes({libraryId:t});case 5:return a=r.sent,r.next=8,Promise.all(Object.values(a).map(function(){var e=S()(_.a.mark(function _callee16(e){return _.a.wrap(function _callee16$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze.AppUrls({object:e});case 2:a[e.id].appUrls=t.sent;case 3:case"end":return t.stop()}},_callee16)}));return function(t){return e.apply(this,arguments)}}()));case 8:return r.abrupt("return",a);case 9:case"end":return r.stop()}},_callee17)})),function ListLibraryContentTypes(e){return Re.apply(this,arguments)}),AddLibraryContentType:(Oe=S()(_.a.mark(function _callee18(e){var t,a,r;return _.a.wrap(function _callee18$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.typeId,r=e.customContractAddress,n.next=3,Ye.AddLibraryContentType({libraryId:t,typeId:a,customContractAddress:r});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},_callee18)})),function AddLibraryContentType(e){return Oe.apply(this,arguments)}),RemoveLibraryContentType:(Ne=S()(_.a.mark(function _callee19(e){var t,a;return _.a.wrap(function _callee19$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.typeId,r.next=3,Ye.RemoveLibraryContentType({libraryId:t,typeId:a});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee19)})),function RemoveLibraryContentType(e){return Ne.apply(this,arguments)}),GetContentLibraryOwner:(Te=S()(_.a.mark(function _callee20(e){var t;return _.a.wrap(function _callee20$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.next=3,Ye.ContentLibraryOwner({libraryId:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee20)})),function GetContentLibraryOwner(e){return Te.apply(this,arguments)}),CreateContentLibrary:(Fe=S()(_.a.mark(function _callee21(e){var t,a,r,n,o;return _.a.wrap(function _callee21$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.name,a=e.description,r=e.publicMetadata,n=e.privateMetadata,o=e.kmsId,s.next=3,Ye.CreateContentLibrary({name:t,description:a,metadata:m()({},r||{},n||{}),kmsId:o});case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},_callee21)})),function CreateContentLibrary(e){return Fe.apply(this,arguments)}),DeleteContentLibrary:(Le=S()(_.a.mark(function _callee22(e){var t;return _.a.wrap(function _callee22$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.next=3,Ye.DeleteContentLibrary({libraryId:t});case 3:case"end":return a.stop()}},_callee22)})),function DeleteContentLibrary(e){return Le.apply(this,arguments)}),SetContentLibraryImage:(Ae=S()(_.a.mark(function _callee23(e){var t,a;return _.a.wrap(function _callee23$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.image,r.next=3,Ye.SetContentLibraryImage({libraryId:t,image:a});case 3:case"end":return r.stop()}},_callee23)})),function SetContentLibraryImage(e){return Ae.apply(this,arguments)}),ListContentLibraryGroups:(Se=S()(_.a.mark(function _callee24(e){var t,a,r;return _.a.wrap(function _callee24$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.type,r=e.params,n.next=3,Ze.ListAccessGroups({params:m()({libraryId:t,type:a},r)});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},_callee24)})),function ListContentLibraryGroups(e){return Se.apply(this,arguments)}),AddContentLibraryGroup:(je=S()(_.a.mark(function _callee25(e){var t,a,r,n;return _.a.wrap(function _callee25$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.address,r=e.groupType,o.prev=1,o.next=4,Ye.CallContractMethodAndWait({contractAddress:Ye.utils.HashToAddress(t),abi:N.a.abi,methodName:"add"+r.capitalize()+"Group",methodArgs:[Object(P.d)(a)]});case 4:return n=o.sent,o.next=7,Ye.ExtractEventFromLogs({abi:N.a.abi,event:n,eventName:r.capitalize()+"GroupAdded"});case 7:o.next=12;break;case 9:throw o.prev=9,o.t0=o.catch(1),Error("Failed to add "+r+"group "+a);case 12:case"end":return o.stop()}},_callee25,null,[[1,9]])})),function AddContentLibraryGroup(e){return je.apply(this,arguments)}),RemoveContentLibraryGroup:(_e=S()(_.a.mark(function _callee26(e){var t,a,r,n;return _.a.wrap(function _callee26$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.address,r=e.groupType,o.prev=1,o.next=4,Ye.CallContractMethodAndWait({contractAddress:Ye.utils.HashToAddress(t),abi:N.a.abi,methodName:"remove"+r.capitalize()+"Group",methodArgs:[Object(P.d)(a)]});case 4:return n=o.sent,o.next=7,Ye.ExtractEventFromLogs({abi:N.a.abi,event:n,eventName:r.capitalize()+"GroupRemoved"});case 7:o.next=12;break;case 9:throw o.prev=9,o.t0=o.catch(1),Error("Failed to add "+r+"group "+a);case 12:case"end":return o.stop()}},_callee26,null,[[1,9]])})),function RemoveContentLibraryGroup(e){return _e.apply(this,arguments)}),ListContentObjects:(Ee=S()(_.a.mark(function _callee27(e){var t,a,r,n,o,s,c,i,l,u,p,d,h,b,f,y,v,g,x;return _.a.wrap(function _callee27$(C){for(;;)switch(C.prev=C.next){case 0:return t=e.libraryId,a=e.params,r={select:["name","eluv.description","image","description","public"],sort:"name",limit:a.perPage},a.page&&(r.start=(a.page-1)*a.perPage),a.filter&&(r.filter={key:"name",type:"cnt",filter:a.filter}),a.cacheId&&(r.cacheId=a.cacheId),C.next=7,Ye.ContentObjects({libraryId:t,filterOptions:r});case 7:n=C.sent,o=n.contents,s=n.paging,o=o||[],c=s.items,i=s.cache_id,l={},u=!0,p=!1,d=void 0,C.prev=17,h=o[Symbol.iterator]();case 19:if(u=(b=h.next()).done){C.next=40;break}return f=b.value,C.prev=21,y=f.versions[0],C.next=25,Ze.GetContentObjectImageUrl({libraryId:t,objectId:f.id,versionHash:y.hash,metadata:f.versions[0].meta});case 25:return v=C.sent,C.next=28,Ze.GetAccessInfo({objectId:f.id});case 28:g=C.sent,x=y.meta||{},l[f.id]=m()({},y,{id:f.id,objectId:f.id,hash:f.hash,type:f.type,name:x.name,description:x["eluv.description"]||x.description,accessInfo:g,imageUrl:v,contractAddress:Ye.utils.HashToAddress(f.id)}),C.next=37;break;case 33:C.prev=33,C.t0=C.catch(21),console.error("Failed to list content object "+f.id),console.error(C.t0);case 37:u=!0,C.next=19;break;case 40:C.next=46;break;case 42:C.prev=42,C.t1=C.catch(17),p=!0,d=C.t1;case 46:C.prev=46,C.prev=47,u||null==h.return||h.return();case 49:if(C.prev=49,!p){C.next=52;break}throw d;case 52:return C.finish(49);case 53:return C.finish(46);case 54:return C.abrupt("return",{objects:l,cacheId:i,count:c});case 55:case"end":return C.stop()}},_callee27,null,[[17,42,46,54],[21,33],[47,,49,53]])})),function ListContentObjects(e){return Ee.apply(this,arguments)}),GetContentObject:(Ie=S()(_.a.mark(function _callee28(e){var t,a,r,n,o,s,c,i,l,u,p,d,h,b,f;return _.a.wrap(function _callee28$(y){for(;;)switch(y.prev=y.next){case 0:if(t=e.libraryId,a=e.objectId,r=Ye.utils.EqualHash(t,a),n=t===Ze.contentSpaceLibraryId&&!r,!(o=!r&&!n)){y.next=11;break}return y.next=7,Ze.GetContentObjectStatus({objectId:a});case 7:return s=y.sent,y.next=10,Ze.GetAccessInfo({objectId:a});case 10:c=y.sent;case 11:return y.next=13,Ze.GetContentObjectOwner({objectId:a});case 13:return i=y.sent,y.next=16,Ye.ContentObject({libraryId:t,objectId:a});case 16:return l=y.sent,y.next=19,Ye.ContentObjectMetadata({libraryId:t,objectId:a});case 19:return u=y.sent,y.next=22,Ze.GetContentObjectImageUrl({libraryId:t,objectId:a,versionHash:l.hash,metadata:u});case 22:if(p=y.sent,!l.type){y.next=27;break}return y.next=26,Ze.GetContentType({versionHash:l.type});case 26:d=y.sent;case 27:return y.next=29,Ze.GetCustomContentContractAddress({libraryId:t,objectId:a,metadata:u});case 29:return h=y.sent,y.next=32,Ze.AppUrls({object:{id:l.id,hash:l.hash,meta:u}});case 32:if(b=y.sent,!u.video){y.next=37;break}return y.next=36,Ze.FabricUrl({libraryId:t,objectId:a,partHash:u.video});case 36:f=y.sent;case 37:return y.t0=m.a,y.t1={},y.t2=l,y.t3=b,y.t4=u,y.t5=u.name||l.id,y.t6=u["eluv.description"]||u.description,y.t7=d,y.t8=p,y.t9=f,y.t10=Object(P.d)(Ye.utils.HashToAddress(a)),y.t11=h,y.t12=i,y.t13=P.c,y.t14=i,y.next=54,Ze.CurrentAccountAddress();case 54:return y.t15=y.sent,y.t16=(0,y.t13)(y.t14,y.t15),y.t17=c,y.t18=s,y.t19=r,y.t20=n,y.t21=o,y.t22={meta:y.t4,name:y.t5,description:y.t6,typeInfo:y.t7,imageUrl:y.t8,videoUrl:y.t9,contractAddress:y.t10,customContractAddress:y.t11,owner:y.t12,isOwner:y.t16,accessInfo:y.t17,status:y.t18,isContentLibraryObject:y.t19,isContentType:y.t20,isNormalObject:y.t21},y.abrupt("return",(0,y.t0)(y.t1,y.t2,y.t3,y.t22));case 63:case"end":return y.stop()}},_callee28)})),function GetContentObject(e){return Ie.apply(this,arguments)}),GetContentObjectMetadata:(we=S()(_.a.mark(function _callee29(e){var t,a,r,n,o;return _.a.wrap(function _callee29$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.metadataSubtree,o=void 0===n?"/":n,s.next=3,Ye.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:o});case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},_callee29)})),function GetContentObjectMetadata(e){return we.apply(this,arguments)}),GetContentObjectVersions:(ke=S()(_.a.mark(function _callee31(e){var t,a,r,n;return _.a.wrap(function _callee31$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,o.next=3,Ye.ContentObjectVersions({libraryId:t,objectId:a});case 3:return r=o.sent.versions,n=[],o.next=7,Promise.all(r.map(function(){var e=S()(_.a.mark(function _callee30(e,r){var o,s;return _.a.wrap(function _callee30$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ze.GetContentObjectMetadata({libraryId:t,objectId:a,versionHash:e.hash});case 2:return o=c.sent,c.next=5,Ze.ListParts({libraryId:t,objectId:a,versionHash:e.hash});case 5:s=c.sent,n[r]=m()({},e,{meta:o,verification:{},parts:s});case 7:case"end":return c.stop()}},_callee30)}));return function(t,a){return e.apply(this,arguments)}}()));case 7:return o.abrupt("return",n);case 8:case"end":return o.stop()}},_callee31)})),function GetContentObjectVersions(e){return ke.apply(this,arguments)}),GetContentObjectImageUrl:(Ce=S()(_.a.mark(function _callee32(e){var t,a,r,n,o;return _.a.wrap(function _callee32$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.metadata,Ze.cachedImages[a]){s.next=19;break}if(!n){s.next=6;break}o=n.public&&n.public.image||n.image,s.next=14;break;case 6:return s.next=8,Ye.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:"public/image"});case 8:if(s.t0=s.sent,s.t0){s.next=13;break}return s.next=12,Ye.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:"image"});case 12:s.t0=s.sent;case 13:o=s.t0;case 14:if(o){s.next=16;break}return s.abrupt("return");case 16:return s.next=18,Ye.PublicRep({libraryId:t,objectId:a,versionHash:r,rep:"image"});case 18:Ze.cachedImages[a]=s.sent;case 19:return s.abrupt("return",Ze.cachedImages[a]);case 20:case"end":return s.stop()}},_callee32)})),function GetContentObjectImageUrl(e){return Ce.apply(this,arguments)}),GetCustomContentContractAddress:(xe=S()(_.a.mark(function _callee33(e){var t,a,r,n;return _.a.wrap(function _callee33$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.metadata,n=void 0===r?{}:r,t!==Ze.contentSpaceLibraryId&&!Ye.utils.EqualHash(t,a)){o.next=3;break}return o.abrupt("return",n.custom_contract&&n.custom_contract.address);case 3:return o.t0=P.d,o.next=6,Ye.CustomContractAddress({libraryId:t,objectId:a});case 6:return o.t1=o.sent,o.abrupt("return",(0,o.t0)(o.t1));case 8:case"end":return o.stop()}},_callee33)})),function GetCustomContentContractAddress(e){return xe.apply(this,arguments)}),GetContentObjectOwner:(ge=S()(_.a.mark(function _callee34(e){var t;return _.a.wrap(function _callee34$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.t0=P.d,a.next=4,Ye.ContentObjectOwner({objectId:t});case 4:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 6:case"end":return a.stop()}},_callee34)})),function GetContentObjectOwner(e){return ge.apply(this,arguments)}),GetAccessInfo:(ve=S()(_.a.mark(function _callee35(e){var t;return _.a.wrap(function _callee35$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,Ye.AccessInfo({objectId:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee35)})),function GetAccessInfo(e){return ve.apply(this,arguments)}),CreateContentObject:(ye=S()(_.a.mark(function _callee36(e){var t,a,r,n;return _.a.wrap(function _callee36$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.type,r=e.metadata,n={type:a,meta:void 0===r?{}:r},o.abrupt("return",Ye.CreateContentObject({libraryId:t,options:n}));case 3:case"end":return o.stop()}},_callee36)})),function CreateContentObject(e){return ye.apply(this,arguments)}),DeleteContentObject:(fe=S()(_.a.mark(function _callee37(e){var t,a;return _.a.wrap(function _callee37$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,Ye.DeleteContentObject({libraryId:t,objectId:a});case 3:case"end":return r.stop()}},_callee37)})),function DeleteContentObject(e){return fe.apply(this,arguments)}),DeleteContentVersion:(be=S()(_.a.mark(function _callee38(e){var t,a,r;return _.a.wrap(function _callee38$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n.next=3,Ye.DeleteContentVersion({libraryId:t,objectId:a,versionHash:r});case 3:case"end":return n.stop()}},_callee38)})),function DeleteContentVersion(e){return be.apply(this,arguments)}),EditContentObject:(he=S()(_.a.mark(function _callee39(e){var t,a,r,n;return _.a.wrap(function _callee39$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.options,n=void 0===r?{}:r,o.next=3,Ye.EditContentObject({libraryId:t,objectId:a,options:n});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},_callee39)})),function EditContentObject(e){return he.apply(this,arguments)}),MergeMetadata:(me=S()(_.a.mark(function _callee40(e){var t,a,r,n,o,s;return _.a.wrap(function _callee40$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,s=e.metadata,c.next=3,Ye.MergeMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o,metadata:s});case 3:case"end":return c.stop()}},_callee40)})),function MergeMetadata(e){return me.apply(this,arguments)}),ReplaceMetadata:(de=S()(_.a.mark(function _callee41(e){var t,a,r,n,o,s;return _.a.wrap(function _callee41$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,s=e.metadata,c.next=3,Ye.ReplaceMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o,metadata:s});case 3:case"end":return c.stop()}},_callee41)})),function ReplaceMetadata(e){return de.apply(this,arguments)}),DeleteMetadata:(pe=S()(_.a.mark(function _callee42(e){var t,a,r,n,o;return _.a.wrap(function _callee42$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,s.next=3,Ye.DeleteMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o});case 3:case"end":return s.stop()}},_callee42)})),function DeleteMetadata(e){return pe.apply(this,arguments)}),FinalizeContentObject:(ue=S()(_.a.mark(function _callee43(e){var t,a,r;return _.a.wrap(function _callee43$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,delete Ze.cachedImages[a],n.next=4,Ye.FinalizeContentObject({libraryId:t,objectId:a,writeToken:r});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},_callee43)})),function FinalizeContentObject(e){return ue.apply(this,arguments)}),EditAndFinalizeContentObject:(le=S()(_.a.mark(function _callee44(e){var t,a,r,n;return _.a.wrap(function _callee44$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.todo,o.next=3,Ze.EditContentObject({libraryId:t,objectId:a});case 3:return n=o.sent,o.next=6,r(n.write_token);case 6:return o.next=8,Ze.FinalizeContentObject({libraryId:t,objectId:a,writeToken:n.write_token});case 8:case"end":return o.stop()}},_callee44)})),function EditAndFinalizeContentObject(e){return le.apply(this,arguments)}),CreateContentType:(ie=S()(_.a.mark(function _callee45(e){var t,a,r,n,o;return _.a.wrap(function _callee45$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.name,a=e.description,r=e.metadata,n=void 0===r?{}:r,o=e.bitcode,s.next=3,Ye.CreateContentType({name:t,metadata:m()({},n,{"eluv.description":a}),bitcode:o});case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},_callee45)})),function CreateContentType(e){return ie.apply(this,arguments)}),AppUrls:(ce=S()(_.a.mark(function _callee46(e){var t,a,r,n,o;return _.a.wrap(function _callee46$(s){for(;;)switch(s.prev=s.next){case 0:if((t=e.object)&&t.meta){s.next=3;break}return s.abrupt("return",{});case 3:a=["display","manage","review"],r={},n=0;case 6:if(!(n<a.length)){s.next=15;break}if(o=a[n],!t.meta["eluv.".concat(o,"App")]){s.next=12;break}return s.next=11,Ze.FileUrl({libraryId:Ze.contentSpaceLibraryId,objectId:t.id,filePath:t.meta["eluv.".concat(o,"App")]});case 11:r["".concat(o,"AppUrl")]=s.sent;case 12:n++,s.next=6;break;case 15:return s.abrupt("return",r);case 16:case"end":return s.stop()}},_callee46)})),function AppUrls(e){return ce.apply(this,arguments)}),ListContentTypes:(se=S()(_.a.mark(function _callee47(e){var t,a,r,n,o,s,c,i,l,u,p,d,h;return _.a.wrap(function _callee47$(b){for(;;)switch(b.prev=b.next){case 0:return t=e.params,b.t0=Object,b.next=4,Ye.ContentTypes();case 4:b.t1=b.sent,a=b.t0.values.call(b.t0,b.t1),t.filter&&(a=a.filter(function(e){try{return(e.meta.name||"").toLowerCase().includes(t.filter.toLowerCase())}catch(e){return!1}})),r=a.length,a=a.sort(function(e,t){var a=e.meta.name||"zz",r=t.meta.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),n=t.page-1,o=t.perPage||10,a=a.slice(n*o,(n+1)*o),s={},c=!0,i=!1,l=void 0,b.prev=16,u=a[Symbol.iterator]();case 18:if(c=(p=u.next()).done){b.next=47;break}return d=p.value,b.prev=20,b.next=23,Ze.GetContentObjectOwner({objectId:d.id});case 23:return h=b.sent,b.t2=m.a,b.t3={},b.t4=d,b.t5=d.meta.name||"",b.t6=d.meta["eluv.description"]||d.meta.description,b.t7=h,b.t8=P.c,b.t9=h,b.next=34,Ze.CurrentAccountAddress();case 34:b.t10=b.sent,b.t11=(0,b.t8)(b.t9,b.t10),b.t12={name:b.t5,description:b.t6,owner:b.t7,isOwner:b.t11},s[d.id]=(0,b.t2)(b.t3,b.t4,b.t12),b.next=44;break;case 40:b.prev=40,b.t13=b.catch(20),console.error("Failed to list content type "+d.id),console.error(b.t13);case 44:c=!0,b.next=18;break;case 47:b.next=53;break;case 49:b.prev=49,b.t14=b.catch(16),i=!0,l=b.t14;case 53:b.prev=53,b.prev=54,c||null==u.return||u.return();case 56:if(b.prev=56,!i){b.next=59;break}throw l;case 59:return b.finish(56);case 60:return b.finish(53);case 61:return b.abrupt("return",{types:s,count:r});case 62:case"end":return b.stop()}},_callee47,null,[[16,49,53,61],[20,40],[54,,56,60]])})),function ListContentTypes(e){return se.apply(this,arguments)}),ContentTypes:(oe=S()(_.a.mark(function _callee48(){return _.a.wrap(function _callee48$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.ContentTypes();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee48)})),function ContentTypes(){return oe.apply(this,arguments)}),GetContentType:(ne=S()(_.a.mark(function _callee49(e){var t,a,r;return _.a.wrap(function _callee49$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.versionHash,n.next=3,Ye.ContentType({versionHash:t});case 3:return a=n.sent,n.next=6,Ze.AppUrls({object:a});case 6:return r=n.sent,n.abrupt("return",m()({},a,r));case 8:case"end":return n.stop()}},_callee49)})),function GetContentType(e){return ne.apply(this,arguments)}),GetContentLibraryPermissions:(re=S()(_.a.mark(function _callee50(e){var t,a,r,n;return _.a.wrap(function _callee50$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,o.next=3,Ye.CurrentAccountAddress();case 3:return a=o.sent,o.next=6,Ze.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t),abi:N.a.abi,methodName:"canContribute",methodArgs:[a]});case 6:return r=o.sent,o.next=9,Ze.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t),abi:N.a.abi,methodName:"canReview",methodArgs:[a]});case 9:return n=o.sent,o.abrupt("return",{canContribute:r,canReview:n});case 11:case"end":return o.stop()}},_callee50)})),function GetContentLibraryPermissions(e){return re.apply(this,arguments)}),GetContentObjectPermissions:(ae=S()(_.a.mark(function _callee51(e){var t;return _.a.wrap(function _callee51$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,e.objectId,a.next=3,Ze.GetContentLibraryPermissions({libraryId:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},_callee51)})),function GetContentObjectPermissions(e){return ae.apply(this,arguments)}),GetContentObjectStatus:(te=S()(_.a.mark(function _callee52(e){var t,a,r;return _.a.wrap(function _callee52$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,n.next=3,Ze.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t),abi:R.a.abi,methodName:"statusCode",methodArgs:[]});case 3:return a=n.sent,n.next=6,Ze.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t),abi:R.a.abi,methodName:"statusDescription",methodArgs:[]});case 6:return r=n.sent,n.abrupt("return",{code:parseInt(a._hex,16),description:Object(P.b)(r)});case 8:case"end":return n.stop()}},_callee52)})),function GetContentObjectStatus(e){return te.apply(this,arguments)}),PublishContentObject:(ee=S()(_.a.mark(function _callee53(e){var t;return _.a.wrap(function _callee53$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,Ye.CallContractMethodAndWait({contractAddress:Ye.utils.HashToAddress(t),abi:R.a.abi,methodName:"publish",methodArgs:[]});case 3:case"end":return a.stop()}},_callee53)})),function PublishContentObject(e){return ee.apply(this,arguments)}),ReviewContentObject:(X=S()(_.a.mark(function _callee54(e){var t,a,r,n;return _.a.wrap(function _callee54$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.approve,n=e.note,o.next=3,Ye.CallContractMethodAndWait({contractAddress:Ye.utils.HashToAddress(t),abi:N.a.abi,methodName:"approveContent",methodArgs:[Ye.utils.HashToAddress(a),r,n]});case 3:case"end":return o.stop()}},_callee54)})),function ReviewContentObject(e){return X.apply(this,arguments)}),SetAccessCharge:(Q=S()(_.a.mark(function _callee55(e){var t,a,r;return _.a.wrap(function _callee55$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,a=e.accessCharge,n.next=3,Ze.CallContractMethod({contractAddress:Ze.utils.HashToAddress(t),abi:R.a.abi,methodName:"accessCharge"});case 3:if(r=n.sent,r=parseInt(r._hex,16),!Ze.utils.EtherToWei(a).isEqualTo(r)){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,Ye.SetAccessCharge({objectId:t,accessCharge:a});case 10:case"end":return n.stop()}},_callee55)})),function SetAccessCharge(e){return Q.apply(this,arguments)}),UploadFiles:function UploadFiles(e){var t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.fileInfo;return Ye.UploadFiles({libraryId:t,objectId:a,writeToken:r,fileInfo:n})},DownloadFile:function DownloadFile(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath;return Ye.DownloadFile({libraryId:t,objectId:a,versionHash:r,filePath:n})},FileUrl:function FileUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath;return Ye.FileUrl({libraryId:t,objectId:a,versionHash:r,filePath:n})},ListParts:function ListParts(e){var t=e.libraryId,a=e.objectId,r=e.versionHash;return Ye.ContentParts({libraryId:t,objectId:a,versionHash:r})},DownloadPart:function DownloadPart(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,o=e.format,s=void 0===o?"blob":o,c=e.chunked,i=void 0!==c&&c,l=e.chunkSize,u=void 0===l?1e7:l,p=e.callback;return Ye.DownloadPart({libraryId:t,objectId:a,versionHash:r,partHash:n,format:s,chunked:i,chunkSize:u,callback:p})},UploadPart:(Z=S()(_.a.mark(function _callee56(e){var t,a,r,n,o,s,c,i,l,u,p,d,m,h,b;return _.a.wrap(function _callee56$(f){for(;;)switch(f.prev=f.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.file,o=e.chunkSize,s=void 0===o?1e6:o,c=e.encrypt,i=void 0!==c&&c,l=e.callback,u=i?"cgck":"none",f.next=4,Ye.CreatePart({libraryId:t,objectId:a,writeToken:r,encryption:u});case 4:p=f.sent,l&&l({uploaded:0,total:n.size}),d=Math.ceil(n.size/s),m=0;case 8:if(!(m<d)){f.next=27;break}return h=m*s,b=Math.min(h+s,n.size),f.t0=Ye,f.t1=t,f.t2=a,f.t3=r,f.t4=p,f.next=18,new Response(n.slice(h,b)).arrayBuffer();case 18:return f.t5=f.sent,f.t6=u,f.t7={libraryId:f.t1,objectId:f.t2,writeToken:f.t3,partWriteToken:f.t4,chunk:f.t5,encryption:f.t6},f.next=23,f.t0.UploadPartChunk.call(f.t0,f.t7);case 23:l&&l({uploaded:b,total:n.size});case 24:m++,f.next=8;break;case 27:return f.next=29,Ye.FinalizePart({libraryId:t,objectId:a,writeToken:r,partWriteToken:p,encryption:u});case 29:return f.abrupt("return",f.sent);case 30:case"end":return f.stop()}},_callee56)})),function UploadPart(e){return Z.apply(this,arguments)}),FabricUrl:function FabricUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash;return Ye.FabricUrl({libraryId:t,objectId:a,versionHash:r,partHash:n})},FormatContractArguments:function FormatContractArguments(e){var t=e.abi,a=e.methodName,r=e.args;return Ye.FormatContractArguments({abi:t,methodName:a,args:r})},DeployContract:function DeployContract(e){var t=e.abi,a=e.bytecode,r=e.constructorArgs;return Ye.DeployContract({abi:t,bytecode:a,constructorArgs:r})},CallContractMethod:function CallContractMethod(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value;return Ye.CallContractMethod({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:o})},CallContractMethodAndWait:function CallContractMethodAndWait(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value;return Ye.CallContractMethodAndWait({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:o})},SetCustomContentContract:function SetCustomContentContract(e){var t=e.libraryId,a=e.objectId,r=e.name,n=e.description,o=e.customContractAddress,s=e.abi,c=e.factoryAbi,i=e.overrides,l=void 0===i?{}:i;return Ye.SetCustomContentContract({libraryId:t,objectId:a,name:r,description:n,customContractAddress:o,abi:s,factoryAbi:c,overrides:l})},ContractEvent:function ContractEvent(e){var t=e.abi,a=e.transactionHash;return Ye.ContractEvent({abi:t,transactionHash:a})},ContractEvents:(Y=S()(_.a.mark(function _callee57(e){var t,a,r,n;return _.a.wrap(function _callee57$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.contractAddress,a=e.abi,r=e.fromBlock,n=e.toBlock,o.next=3,Ye.ContractEvents({contractAddress:t,abi:a,fromBlock:r,toBlock:n,includeTransaction:!0});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},_callee57)})),function ContractEvents(e){return Y.apply(this,arguments)}),WithdrawContractFunds:function WithdrawContractFunds(e){var t=e.contractAddress,a=e.abi,r=e.ether;return Ye.WithdrawContractFunds({contractAddress:t,abi:a,ether:r})},GetBlockchainEvents:function GetBlockchainEvents(e){var t=e.toBlock,a=e.fromBlock,r=e.count,n=void 0===r?10:r;return Ye.Events({toBlock:t,fromBlock:a,count:n,includeTransaction:!0})},GetBlockNumber:(K=S()(_.a.mark(function _callee58(){return _.a.wrap(function _callee58$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.BlockNumber();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee58)})),function GetBlockNumber(){return K.apply(this,arguments)}),VerifyContentObject:function VerifyContentObject(e){var t=e.libraryId,a=e.objectId,r=e.versionHash;return Ye.VerifyContentObject({libraryId:t,objectId:a,versionHash:r})},Proofs:function Proofs(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash;return Ye.Proofs({libraryId:t,objectId:a,versionHash:r,partHash:n})},GetBalance:function GetBalance(e){var t=e.address;return Ye.GetBalance({address:t})},SendFunds:function SendFunds(e){var t=e.recipient,a=e.ether;return Ye.SendFunds({recipient:t,ether:a})},FilterContracts:function FilterContracts(e){var t=e.contracts,a=e.params,r=Object.values(t);a.filter&&(r=r.filter(function(e){try{return e.name.toLowerCase().includes(a.filter.toLowerCase())}catch(e){return!1}}));var n=(r=r.sort(function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1})).length;if(a.paginate){var o=(a.page||1)-1,s=a.perPage||10;r=r.slice(o*s,(o+1)*s)}return t={},r.forEach(function(e){return t[e.address||e.name]=e}),{contracts:t,count:n}},Contracts:(J=S()(_.a.mark(function _callee59(){var e;return _.a.wrap(function _callee59$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.userProfileClient.UserMetadata({metadataSubtree:F()("elv-fabric-browser","contracts"),requestor:"Eluvio Fabric Browser"});case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return e=t.t0,t.abrupt("return",{contracts:e,count:Object.keys(e).length});case 7:case"end":return t.stop()}},_callee59)})),function Contracts(){return J.apply(this,arguments)}),DeployedContracts:(W=S()(_.a.mark(function _callee60(){var e;return _.a.wrap(function _callee60$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.userProfileClient.UserMetadata({metadataSubtree:F()("elv-fabric-browser","deployedContracts"),requestor:"Eluvio Fabric Browser"});case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return e=t.t0,t.abrupt("return",{contracts:e,count:Object.keys(e).length});case 7:case"end":return t.stop()}},_callee60)})),function DeployedContracts(){return W.apply(this,arguments)}),AddContract:(V=S()(_.a.mark(function _callee61(e){var t,a,r,n;return _.a.wrap(function _callee61$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,a=e.description,r=e.abi,n=e.bytecode,o.next=3,Ye.userProfileClient.MergeUserMetadata({metadataSubtree:F()("elv-fabric-browser","contracts",t),metadata:{name:t,description:a,abi:r,bytecode:n},requestor:"Eluvio Fabric Browser"});case 3:case"end":return o.stop()}},_callee61)})),function AddContract(e){return V.apply(this,arguments)}),RemoveContract:(z=S()(_.a.mark(function _callee62(e){var t;return _.a.wrap(function _callee62$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.name,a.next=3,Ye.userProfileClient.DeleteUserMetadata({metadataSubtree:F()("elv-fabric-browser","contracts",t),requestor:"Eluvio Fabric Browser"});case 3:case"end":return a.stop()}},_callee62)})),function RemoveContract(e){return z.apply(this,arguments)}),AddDeployedContract:(U=S()(_.a.mark(function _callee63(e){var t,a,r,n,o,s;return _.a.wrap(function _callee63$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.name,a=e.description,r=e.address,n=e.abi,o=e.bytecode,s=e.owner,r=Object(P.d)(r),c.next=4,Ye.userProfileClient.MergeUserMetadata({metadataSubtree:F()("elv-fabric-browser","deployedContracts",r),metadata:{name:t,description:a,address:r,abi:n,bytecode:o,owner:s},requestor:"Eluvio Fabric Browser"});case 4:case"end":return c.stop()}},_callee63)})),function AddDeployedContract(e){return U.apply(this,arguments)}),RemoveDeployedContract:(q=S()(_.a.mark(function _callee64(e){var t;return _.a.wrap(function _callee64$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,Ye.userProfileClient.DeleteUserMetadata({metadataSubtree:F()("elv-fabric-browser","deployedContracts",t),requestor:"Eluvio Fabric Browser"});case 3:case"end":return a.stop()}},_callee64)})),function RemoveDeployedContract(e){return q.apply(this,arguments)}),ListAccessGroups:($=S()(_.a.mark(function _callee67(e){var t,a,r,n,o,s,c,i;return _.a.wrap(function _callee67$(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.params).libraryId){l.next=11;break}return l.next=4,Ye.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t.libraryId),abi:N.a.abi,methodName:t.type+"GroupsLength"});case 4:return r=l.sent,r=parseInt(r._hex,16),l.next=8,Promise.all(I()(Array(r)).map(function(){var e=S()(_.a.mark(function _callee65(e,a){return _.a.wrap(function _callee65$(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ze.utils,e.next=3,Ye.CallContractMethod({contractAddress:Ye.utils.HashToAddress(t.libraryId),abi:N.a.abi,methodName:t.type+"Groups",methodArgs:[a]});case 3:return e.t1=e.sent,e.abrupt("return",e.t0.FormatAddress.call(e.t0,e.t1));case 5:case"end":return e.stop()}},_callee65)}));return function(t,a){return e.apply(this,arguments)}}()));case 8:a=l.sent,l.next=14;break;case 11:return l.next=13,Ye.Collection({collectionType:"accessGroups"});case 13:a=l.sent;case 14:return l.next=16,Promise.all(a.map(function(){var e=S()(_.a.mark(function _callee66(e){return _.a.wrap(function _callee66$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze.GetAccessGroup({contractAddress:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee66)}));return function(t){return e.apply(this,arguments)}}()));case 16:return n=l.sent,t.filter&&(n=n.filter(function(e){try{return e.name.toLowerCase().includes(t.filter.toLowerCase())||e.address.toLowerCase().includes(t.filter.toLowerCase())}catch(e){return!1}})),n=n.sort(function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),o=n.length,t.paginate&&(s=(t.page||1)-1,c=t.perPage||10,n=n.slice(s*c,(s+1)*c)),i={},n.forEach(function(e){return i[Ze.utils.FormatAddress(e.address)]=e}),l.abrupt("return",{accessGroups:i,count:o});case 24:case"end":return l.stop()}},_callee67)})),function ListAccessGroups(e){return $.apply(this,arguments)}),GetAccessGroup:(B=S()(_.a.mark(function _callee68(e){var t,a,r,n,o;return _.a.wrap(function _callee68$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.contractAddress,t=Ze.utils.FormatAddress(t),s.next=4,Ze.CurrentAccountAddress();case 4:return a=s.sent,o=!1,s.prev=6,s.t0=Ze.utils,s.next=10,Ye.CallContractMethod({contractAddress:t,abi:M.a.abi,methodName:"owner"});case 10:return s.t1=s.sent,r=s.t0.FormatAddress.call(s.t0,s.t1),s.next=14,Ye.CallContractMethod({contractAddress:t,abi:M.a.abi,methodName:"hasManagerAccess",methodArgs:[Ye.utils.FormatAddress(a)]});case 14:return o=s.sent,s.next=17,Ye.ContentObjectMetadata({libraryId:Ze.contentSpaceLibraryId,objectId:Ye.utils.AddressToObjectId(t)});case 17:n=s.sent,s.next=23;break;case 20:s.prev=20,s.t2=s.catch(6),console.error(s.t2);case 23:return s.abrupt("return",{address:t,name:n.name||t,description:n.description,metadata:n,owner:r,isManager:o,isOwner:Ye.utils.EqualAddress(r,a)});case 24:case"end":return s.stop()}},_callee68,null,[[6,20]])})),function GetAccessGroup(e){return B.apply(this,arguments)}),ListAccessGroupMembers:(D=S()(_.a.mark(function _callee70(e){var t,a,r,n,o,s,c,i,l,u,p;return _.a.wrap(function _callee70$(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.contractAddress,a=e.showManagers,r=void 0!==a&&a,n=e.params,!r){d.next=7;break}return d.next=4,Ye.AccessGroupManagers({contractAddress:t});case 4:d.t0=d.sent,d.next=10;break;case 7:return d.next=9,Ye.AccessGroupMembers({contractAddress:t});case 9:d.t0=d.sent;case 10:return o=d.t0,d.next=13,Promise.all(o.map(function(){var e=S()(_.a.mark(function _callee69(e){var t;return _.a.wrap(function _callee69$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ye.userProfileClient.PublicUserMetadata({address:e,metadataSubtree:"name"});case 2:return t=a.sent,a.abrupt("return",{name:t||e,address:e});case 4:case"end":return a.stop()}},_callee69)}));return function(t){return e.apply(this,arguments)}}()));case 13:return s=d.sent,d.next=16,Ze.CurrentAccountAddress();case 16:return c=d.sent,i=(i=Object.values(s)).map(function(e){return m()({},e,{isCurrentAccount:Object(P.c)(e.address,c)})}),n.filter&&(i=i.filter(function(e){try{return e.name.toLowerCase().includes(n.filter.toLowerCase())||e.address.toLowerCase().includes(n.filter.toLowerCase())}catch(e){return!1}})),i=i.sort(function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}),l=i.length,n.paginate&&(u=(n.page||1)-1,p=n.perPage||10,i=i.slice(u*p,(u+1)*p)),s={},i.forEach(function(e){return s[e.address]=e}),d.abrupt("return",{members:s,count:l});case 26:case"end":return d.stop()}},_callee70)})),function ListAccessGroupMembers(e){return D.apply(this,arguments)})},Qe=Ze,Xe=function FrameRoutingReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.routes.path:return m()({},e,{path:decodeURI(t.path).split("?")[0]});case h.routes.synchronize:return m()({},e,{synchronizeRoutes:!0});case"@@router/LOCATION_CHANGE":e.synchronizeRoutes&&Qe.SetFramePath({path:t.payload.location.pathname})}return e},et=function SortBlocks(e){var t={};return e.forEach(function(e){return t[e[0].blockNumber]=e}),Object.values(t).sort(function(e,t){return e[0].blockNumber<t[0].blockNumber?1:-1})},tt=function LogsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.logs.clear:return[];case h.logs.list:return et(e.concat(t.blocks));default:return e||[]}},at=(a(525),a(7)),rt=a.n(at),nt=a(8),ot=a.n(nt),st=a(9),ct=a.n(st),it=a(10),lt=a.n(it),ut=a(11),pt=a.n(ut),dt=a(679),mt=function(e){function ScrollToTop(){return rt()(this,ScrollToTop),ct()(this,lt()(ScrollToTop).apply(this,arguments))}return pt()(ScrollToTop,e),ot()(ScrollToTop,[{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function render(){return this.props.children}}]),ScrollToTop}(o.a.Component),ht=Object(dt.a)(mt),bt=a(102),ft=a(67),yt=a.n(ft),vt=a(143),gt=a.n(vt),xt=a(281),Ct=a.n(xt),kt=a(282),wt=a.n(kt),It=a(283),Et=a.n(It),_t=a(4),jt=function(e){function NavigationBar(){return rt()(this,NavigationBar),ct()(this,lt()(NavigationBar).apply(this,arguments))}return pt()(NavigationBar,e),ot()(NavigationBar,[{key:"NavLink",value:function NavLink(e){var t=e.linkInfo,a=t.rootPath&&!this.props.currentBasePath||this.props.currentBasePath===t.link;return o.a.createElement("div",{key:"navbar-link-"+t.link,className:"navbar-link-container"},o.a.createElement(bt.a,{to:"/"+t.link,className:"navbar-link "+(a?"active":"")},o.a.createElement("span",{className:"navbar-link-span"},o.a.createElement(_t.j,{className:"navbar-link-icon",icon:t.icon}),o.a.createElement("div",{className:"navbar-link-text"},t.text))))}},{key:"render",value:function render(){var e=this;return o.a.createElement("div",{className:"navbar-container"},o.a.createElement("nav",{className:"navbar-links-container",role:"navigation"},NavigationBar.Links().map(function(t){return e.NavLink({linkInfo:t})})))}}],[{key:"Links",value:function Links(){return[{link:"content",text:"Content",rootPath:!0,icon:yt.a},{link:"access-groups",text:"Access Groups",icon:gt.a},{link:"content-types",text:"Content Types",icon:Ct.a},{link:"contracts",text:"Contracts",icon:wt.a},{link:"logs",text:"Logs",icon:Et.a}]}}]),NavigationBar}(o.a.Component),St=Object(c.c)(function mapStateToProps(e){return{currentBasePath:e.router.location.pathname.split("/")[1]}})(jt),At=function Thunk(e,t){var a={},r=!0,n=!1,o=void 0;try{for(var s,c=function _loop(){var t=s.value;a[t.name]=function(a){return e(t(a))}},i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0)c()}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a},Lt=a(116),Ft=a.n(Lt),Tt=function(e){function Notifications(){return rt()(this,Notifications),ct()(this,lt()(Notifications).apply(this,arguments))}return pt()(Notifications,e),ot()(Notifications,[{key:"render",value:function render(){return""!==this.props.notifications.errorMessage?o.a.createElement("div",{className:"notification-container"},o.a.createElement("div",{className:"notification-message-container error-message-container"},o.a.createElement("span",null,this.props.notifications.errorMessage),o.a.createElement(_t.i,{icon:Ft.a,label:"close",onClick:this.props.ClearNotifications,className:"clear-notification"}))):""!==this.props.notifications.notificationMessage?o.a.createElement("div",{className:"notification-container"},o.a.createElement("div",{className:"notification-message-container"},o.a.createElement("span",null,this.props.notifications.notificationMessage),o.a.createElement(_t.i,{icon:Ft.a,label:"close",onClick:this.props.ClearNotifications,className:"clear-notification"}))):o.a.createElement("div",{className:"notification-container"})}}]),Notifications}(o.a.Component),Nt=function SetErrorMessage(e){var t=e.message,a=e.redirect,r=void 0!==a&&a;return{type:h.notifications.error,message:t.toString(),redirect:r}},Ot=function SetNotificationMessage(e){var t=e.message,a=e.redirect,r=void 0!==a&&a;return{type:h.notifications.notification,message:t.toString(),redirect:r}},Rt=function ClearNotifications(){return{type:h.notifications.clear}},Gt=Object(c.c)(function mapStateToProps(e){return{notifications:e.notifications}},function mapDispatchToProps(e){return At(e,[Rt])})(Tt),Mt=a(14),Pt=a.n(Mt),Ht=a(678),Dt=a(280),Bt=a(86),$t=function ErrorHandler(e){var t=function(t){function ErrorHandlerClass(e){var t;return rt()(this,ErrorHandlerClass),(t=ct()(this,lt()(ErrorHandlerClass).call(this,e))).state={errorCaught:!1},t}return pt()(ErrorHandlerClass,t),ot()(ErrorHandlerClass,[{key:"componentDidCatch",value:function componentDidCatch(e){this.props.SetErrorMessage({message:e.toString()}),this.setState({errorCaught:!0,errorRoute:this.props.router.location.pathname})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.errorCaught&&this.props.router.location.pathname!==this.state.errorRoute&&this.setState({errorCaught:!1,errorRoute:void 0})}},{key:"render",value:function render(){return this.state.errorCaught?null:o.a.createElement(e,this.props)}}]),ErrorHandlerClass}(o.a.Component);return Object(Bt.a)(function(e){return{router:e.router}},function(e){return At(e,[Nt])})(t)},qt=a(28),Ut=function GetFramePath(){return function(){var e=S()(_.a.mark(function _callee(e){return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=h.routes.path,t.t2=decodeURI,t.next=5,Qe.GetFramePath();case 5:if(t.t3=t.sent,t.t3){t.next=8;break}t.t3="/";case 8:t.t4=t.t3,t.t5=(0,t.t2)(t.t4),t.t6={type:t.t1,path:t.t5},(0,t.t0)(t.t6);case 12:case"end":return t.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()},zt=function StartRouteSynchronization(){return function(e){e({type:h.routes.synchronize})}},Vt=a(2),Wt=a.n(Vt),Jt=function ParseInputJson(e){if("string"==typeof e){if(""===(e=e.trim()))return{};if(!e.startsWith("{")&&!e.startsWith("["))throw Error("Invalid JSON");try{return JSON.parse(e)}catch(e){throw Error("Invalid JSON")}}return e||{}},Kt=function ValidateJsonInput(e,t){try{var a=Jt(e);return t.style.border="",t.style.outline="",t.title="",a}catch(e){t.style.border="1px solid red",t.style.outline="none",t.title=e}},Yt=function JsonTextArea(e){var t=e.name,a=e.value,r=e.required,n=void 0!==r&&r,s=e.onChange,c=e.UpdateValue,i=e.className;return o.a.createElement("textarea",{className:i,name:t,value:a,required:n,onChange:s,onKeyUp:function onKeyUp(e){Kt(a,e.target)},onBlur:function onBlur(e){return function FormatJsonInput(e,t,a){var r=Kt(t,e.target);r&&a(JSON.stringify(r,null,2))}(e,a,c)}})};Yt.propTypes={name:Wt.a.string.isRequired,value:Wt.a.string,onChange:Wt.a.func.isRequired,UpdateValue:Wt.a.func.isRequired,className:Wt.a.string};var Zt=0,Qt=function(){function Id(){rt()(this,Id)}return ot()(Id,null,[{key:"next",value:function next(){return++Zt}},{key:"nextTag",value:function nextTag(){return"id-"+ ++Zt}}]),Id}(),Xt=["label","string","text","integer","number","json","boolean","choice","list","object","file","attachedFile"],ea=function ToList(e){return Object.keys(e).map(function(e){return parseInt(e)}).sort().map(function(t){return e[t]})},ta=function InitializeSchema(e){var t=e.schema,a=e.initialData;a=a||{};var r={};return t.forEach(function(e){if(!Xt.includes(e.type))throw Error("Unknown type: "+e.type);switch(e.type){case"object":r[e.key]=InitializeSchema({schema:e.fields,initialData:a[e.key]});break;case"json":r[e.key]=JSON.stringify(a[e.key],null,2);break;case"list":r[e.key]=function FromList(e){var t={};return e.forEach(function(e){t[Qt.next()]=e}),t}(a[e.key]||[]);break;default:r[e.key]=a[e.key],void 0===r[e.key]&&(r[e.key]="boolean"!==e.type&&"")}}),r},aa=function GetValue(e){var t=e.data,a=void 0===t?{}:t,r=e.subtree,n=void 0===r?[]:r,o=e.attr;return Object(P.f)(a,n.concat(o))},ra=function RemoveValue(e){var t=e.data,a=e.subtree,r=void 0===a?[]:a,n=e.attr,o=m()({},t);if(0===r.length)delete o[n];else{var s=o;r.forEach(function(e){s[e]&&(s=s[e])}),delete s[n]}return o},na=function SetValue(e){var t=e.data,a=e.subtree,r=void 0===a?[]:a,n=e.attr,o=e.value,s=m()({},t);if(0===r.length)s[n]=o;else{var c=s;r.forEach(function(e){c[e]||(c[e]={}),c=c[e]}),c[n]=o}return s},oa=function(){var e=S()(_.a.mark(function _callee(e,t){var a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:(a=document.createElement("a")).href=e,a.download=t,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e);case 8:case"end":return r.stop()}},_callee)}));return function DownloadFromUrl(t,a){return e.apply(this,arguments)}}(),sa=function(){var e=S()(_.a.mark(function _callee3(e,t){var a,r=arguments;return _.a.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>2&&void 0!==r[2]&&r[2],e="."===e?"":e,n.next=4,Promise.all(Array.from(t).map(function(){var t=S()(_.a.mark(function _callee2(t){var r,n;return _.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(!a){o.next=4;break}o.t0=void 0,o.next=7;break;case 4:return o.next=6,new Response(t).blob();case 6:o.t0=o.sent;case 7:return r=o.t0,n=t.overrideName||t.webkitRelativePath||t.name,o.abrupt("return",{path:F()(e,n).replace(/^\/+/g,""),type:"file",size:t.size,data:r});case 10:case"end":return o.stop()}},_callee2)}));return function(e){return t.apply(this,arguments)}}()));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},_callee3)}));return function FileInfo(t,a){return e.apply(this,arguments)}}(),ca=a(13),ia=a.n(ca),la=function(){var e=S()(_.a.mark(function _callee(e,t){return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,e.promise(function(){return t()});case 3:return a.abrupt("return",a.sent);case 6:return a.next=8,t();case 8:return a.abrupt("return",a.sent);case 9:case"end":return a.stop()}},_callee)}));return function WithCancel(t,a){return e.apply(this,arguments)}}(),ua=function ListContentLibraries(e){var t=e.params;return function(){var e=S()(_.a.mark(function _callee2(e){var a,r,n;return _.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,la(t.cancelable,S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.ListContentLibraries({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee)})));case 2:a=o.sent,r=a.libraries,n=a.count,delete r[Qe.contentSpaceLibraryId],e({type:h.content.libraries.list,libraries:r,count:n});case 7:case"end":return o.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()},pa=function GetContentLibrary(e){var t=e.libraryId;return function(){var e=S()(_.a.mark(function _callee3(e){var a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.GetContentLibrary({libraryId:t});case 2:a=r.sent,e({type:h.content.libraries.get,libraryId:t,library:a});case 4:case"end":return r.stop()}},_callee3)}));return function(t){return e.apply(this,arguments)}}()},da=function ListLibraryContentTypes(e){var t=e.libraryId;return function(){var e=S()(_.a.mark(function _callee4(e){var a;return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.ListLibraryContentTypes({libraryId:t});case 2:a=r.sent,e({type:h.content.libraries.types,libraryId:t,types:a});case 4:case"end":return r.stop()}},_callee4)}));return function(t){return e.apply(this,arguments)}}()},ma=function ListContentLibraryGroups(e){var t=e.libraryId,a=e.type,r=e.params;return function(){var e=S()(_.a.mark(function _callee5(e){var n,o,s;return _.a.wrap(function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:if(t!==Qe.contentSpaceLibraryId){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,Qe.ListContentLibraryGroups({libraryId:t,type:a,params:r});case 4:n=c.sent,o=n.accessGroups,s=n.count,e({type:h.content.libraries.groups,libraryId:t,groups:o,count:s});case 8:case"end":return c.stop()}},_callee5)}));return function(t){return e.apply(this,arguments)}}()},ha=function ListContentLibraryGroupPermissions(e){var t=e.libraryId;return function(){var e=S()(_.a.mark(function _callee7(e){var a;return _.a.wrap(function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return a={},r.next=3,Promise.all(["accessor","contributor","reviewer"].map(function(){var e=S()(_.a.mark(function _callee6(e){var r,n;return _.a.wrap(function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Qe.ListContentLibraryGroups({libraryId:t,type:e,params:{paginate:!1}});case 2:r=o.sent,n=r.accessGroups,Object.keys(n).forEach(function(t){a[t]=m()(y()({},e,!0),a[t]||{})});case 5:case"end":return o.stop()}},_callee6)}));return function(t){return e.apply(this,arguments)}}()));case 3:e({type:h.content.libraries.groupPermissions,libraryId:t,permissions:a});case 4:case"end":return r.stop()}},_callee7)}));return function(t){return e.apply(this,arguments)}}()},ba=function CreateContentLibrary(e){var t=e.name,a=e.description,r=e.publicMetadata,n=e.privateMetadata,o=e.image,s=e.kmsId;return function(){var e=S()(_.a.mark(function _callee8(e){var c;return _.a.wrap(function _callee8$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Qe.CreateContentLibrary({name:t,description:a,publicMetadata:Jt(r),privateMetadata:Jt(n),kmsId:s});case 2:if(c=i.sent,!o){i.next=12;break}return i.t0=Qe,i.t1=c,i.next=8,new Response(o).blob();case 8:return i.t2=i.sent,i.t3={libraryId:i.t1,image:i.t2},i.next=12,i.t0.SetContentLibraryImage.call(i.t0,i.t3);case 12:return e(Ot({message:"Successfully created content library '"+t+"'",redirect:!0})),i.abrupt("return",c);case 14:case"end":return i.stop()}},_callee8)}));return function(t){return e.apply(this,arguments)}}()},fa=function UpdateContentLibrary(e){var t=e.libraryId,a=e.name,r=e.description,n=e.metadata,o=void 0===n?{}:n,s=e.image;return function(){var e=S()(_.a.mark(function _callee10(e){var n;return _.a.wrap(function _callee10$(c){for(;;)switch(c.prev=c.next){case 0:return(o=Jt(o)).name=a,o["eluv.description"]=r,n=t.replace("ilib","iq__"),c.next=6,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:n,todo:function(){var e=S()(_.a.mark(function _callee9(e){return _.a.wrap(function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.ReplaceMetadata({libraryId:t,objectId:n,writeToken:e,metadata:o});case 2:case"end":return a.stop()}},_callee9)}));return function todo(t){return e.apply(this,arguments)}}()});case 6:if(!s){c.next=15;break}return c.t0=Qe,c.t1=t,c.next=11,new Response(s).blob();case 11:return c.t2=c.sent,c.t3={libraryId:c.t1,image:c.t2},c.next=15,c.t0.SetContentLibraryImage.call(c.t0,c.t3);case 15:return e(Ot({message:"Successfully updated content library '"+a+"'",redirect:!0})),c.abrupt("return",t);case 17:case"end":return c.stop()}},_callee10)}));return function(t){return e.apply(this,arguments)}}()},ya=function DeleteContentLibrary(e){var t=e.libraryId;return function(){var e=S()(_.a.mark(function _callee11(e){return _.a.wrap(function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.DeleteContentLibrary({libraryId:t});case 2:e(Ot({message:"Successfully deleted content library",redirect:!0}));case 3:case"end":return a.stop()}},_callee11)}));return function(t){return e.apply(this,arguments)}}()},va=function SetLibraryContentTypes(e){var t=e.libraryId,a=e.typeIds,r=void 0===a?[]:a;return function(){var e=S()(_.a.mark(function _callee13(e){var a,n,o,s,c,i,l,u,p,d,m,h,b,f,y,v;return _.a.wrap(function _callee13$(g){for(;;)switch(g.prev=g.next){case 0:return g.t0=Object,g.next=3,Qe.ListLibraryContentTypes({libraryId:t});case 3:if(g.t1=g.sent,g.t2=function(e){return e.id},a=g.t0.values.call(g.t0,g.t1).map(g.t2),!((n=r.filter(function(e){return!a.includes(e)})).length>0)){g.next=38;break}return g.t3=Object,g.next=11,Qe.ContentTypes();case 11:g.t4=g.sent,o=g.t3.values.call(g.t3,g.t4),s=!0,c=!1,i=void 0,g.prev=16,l=_.a.mark(function _callee12(){var e,a,r;return _.a.wrap(function _callee12$(n){for(;;)switch(n.prev=n.next){case 0:return e=p.value,a=o.find(function(t){return t.id===e}),r=a.meta.custom_contract&&a.meta.custom_contract.address,n.next=5,Qe.AddLibraryContentType({libraryId:t,typeId:e,customContractAddress:r});case 5:case"end":return n.stop()}},_callee12)}),u=n[Symbol.iterator]();case 19:if(s=(p=u.next()).done){g.next=24;break}return g.delegateYield(l(),"t5",21);case 21:s=!0,g.next=19;break;case 24:g.next=30;break;case 26:g.prev=26,g.t6=g.catch(16),c=!0,i=g.t6;case 30:g.prev=30,g.prev=31,s||null==u.return||u.return();case 33:if(g.prev=33,!c){g.next=36;break}throw i;case 36:return g.finish(33);case 37:return g.finish(30);case 38:d=a.filter(function(e){return!r.includes(e)}),m=!0,h=!1,b=void 0,g.prev=42,f=d[Symbol.iterator]();case 44:if(m=(y=f.next()).done){g.next=51;break}return v=y.value,g.next=48,Qe.RemoveLibraryContentType({libraryId:t,typeId:v});case 48:m=!0,g.next=44;break;case 51:g.next=57;break;case 53:g.prev=53,g.t7=g.catch(42),h=!0,b=g.t7;case 57:g.prev=57,g.prev=58,m||null==f.return||f.return();case 60:if(g.prev=60,!h){g.next=63;break}throw b;case 63:return g.finish(60);case 64:return g.finish(57);case 65:e(Ot({message:"Successfully updated content library types",redirect:!0}));case 66:case"end":return g.stop()}},_callee13,null,[[16,26,30,38],[31,,33,37],[42,53,57,65],[58,,60,64]])}));return function(t){return e.apply(this,arguments)}}()},ga=function(){var e=S()(_.a.mark(function _callee14(e){var t,a,r,n,o;return _.a.wrap(function _callee14$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.groupAddress,r=e.type,s.next=3,Qe.ListContentLibraryGroups({libraryId:t,type:r,params:{filter:a}});case 3:return n=s.sent,o=n.accessGroups,s.abrupt("return",o[a]);case 6:case"end":return s.stop()}},_callee14)}));return function GetContentLibraryGroup(t){return e.apply(this,arguments)}}(),xa=function UpdateContentLibraryGroup(e){var t=e.libraryId,a=e.groupAddress,r=e.accessor,n=e.contributor,o=e.reviewer;return function(){var e=S()(_.a.mark(function _callee16(e){var s;return _.a.wrap(function _callee16$(c){for(;;)switch(c.prev=c.next){case 0:return s={accessor:r,contributor:n,reviewer:o},c.next=3,Promise.all(["accessor","contributor","reviewer"].map(function(){var e=S()(_.a.mark(function _callee15(e){var r;return _.a.wrap(function _callee15$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ga({libraryId:t,groupAddress:a,type:e});case 2:if((r=n.sent)||!s[e]){n.next=8;break}return n.next=6,Qe.AddContentLibraryGroup({libraryId:t,address:a,groupType:e});case 6:n.next=11;break;case 8:if(!r||s[e]){n.next=11;break}return n.next=11,Qe.RemoveContentLibraryGroup({libraryId:t,address:a,groupType:e});case 11:case"end":return n.stop()}},_callee15)}));return function(t){return e.apply(this,arguments)}}()));case 3:e(Ot({message:"Successfully added library group",redirect:!0}));case 4:case"end":return c.stop()}},_callee16)}));return function(t){return e.apply(this,arguments)}}()},Ca=function ListContentTypes(e){var t=e.params;return function(){var e=S()(_.a.mark(function _callee18(e){var a,r,n;return _.a.wrap(function _callee18$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,la(t.cancelable,S()(_.a.mark(function _callee17(){return _.a.wrap(function _callee17$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.ListContentTypes({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee17)})));case 2:a=o.sent,r=a.types,n=a.count,e({type:h.content.types.list,types:r,count:n});case 6:case"end":return o.stop()}},_callee18)}));return function(t){return e.apply(this,arguments)}}()},ka=function ListContentObjects(e){var t=e.libraryId,a=e.params;return function(){var e=S()(_.a.mark(function _callee20(e){var r,n,o,s;return _.a.wrap(function _callee20$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,la(a.cancelable,S()(_.a.mark(function _callee19(){return _.a.wrap(function _callee19$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.ListContentObjects({libraryId:t,params:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee19)})));case 2:r=c.sent,n=r.objects,o=r.count,s=r.cacheId,e({type:h.content.objects.list,libraryId:t,objects:n,count:o,cacheId:s});case 7:case"end":return c.stop()}},_callee20)}));return function(t){return e.apply(this,arguments)}}()},wa=function GetContentObject(e){var t=e.libraryId,a=e.objectId;return function(){var e=S()(_.a.mark(function _callee21(e){var r;return _.a.wrap(function _callee21$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.GetContentObject({libraryId:t,objectId:a});case 2:r=n.sent,e({type:h.content.objects.get,objectId:r.id,object:r});case 4:case"end":return n.stop()}},_callee21)}));return function(t){return e.apply(this,arguments)}}()},Ia=function GetContentObjectVersions(e){var t=e.libraryId,a=e.objectId;return function(){var e=S()(_.a.mark(function _callee22(e){var r;return _.a.wrap(function _callee22$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.GetContentObjectVersions({libraryId:t,objectId:a});case 2:r=n.sent,e({type:h.content.objects.versions,objectId:a,versions:r});case 4:case"end":return n.stop()}},_callee22)}));return function(t){return e.apply(this,arguments)}}()},Ea=function GetContentObjectPermissions(e){var t=e.libraryId,a=e.objectId;return function(){var e=S()(_.a.mark(function _callee23(e){var r;return _.a.wrap(function _callee23$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.GetContentObjectPermissions({libraryId:t,objectId:a});case 2:r=n.sent,e({type:h.content.objects.permissions,objectId:a,permissions:r});case 4:case"end":return n.stop()}},_callee23)}));return function(t){return e.apply(this,arguments)}}()},_a=function(){var e=S()(_.a.mark(function _callee26(e){var t,a,r,n,o,s,c,i,l,u,p,d,m;return _.a.wrap(function _callee26$(h){for(;;)switch(h.prev=h.next){case 0:t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.schema,o=e.fields,s=e.callback,c={},i=!0,l=!1,u=void 0,h.prev=5,p=_.a.mark(function _callee25(){var e,n,i,l,u;return _.a.wrap(function _callee25$(p){for(;;)switch(p.prev=p.next){case 0:e=m.value,p.t0=e.type,p.next="label"===p.t0?4:"attachedFile"===p.t0?4:"file"===p.t0?5:"json"===p.t0?19:"list"===p.t0?21:"object"===p.t0?23:27;break;case 4:return p.abrupt("break",28);case 5:if(!Array.isArray(o[e.key])&&"string"!=typeof o[e.key]){p.next=8;break}return c[e.key]=o[e.key],p.abrupt("break",28);case 8:n=Array.from(o[e.key]),i=[],l=_.a.mark(function _callee24(){var o,c;return _.a.wrap(function _callee24$(l){for(;;)switch(l.prev=l.next){case 0:return o=n[u],c=void 0,s&&(c=function uploadCallback(t){var a=t.status,r=t.uploaded,n=t.total;return s({key:e.key,status:a,uploaded:r,total:n,filename:o.name})}),l.t0=i,l.next=6,Qe.UploadPart({libraryId:t,objectId:a,writeToken:r,file:o,chunkSize:2e6,callback:c});case 6:l.t1=l.sent,l.t0.push.call(l.t0,l.t1);case 8:case"end":return l.stop()}},_callee24)}),u=0;case 12:if(!(u<n.length)){p.next=17;break}return p.delegateYield(l(),"t1",14);case 14:u++,p.next=12;break;case 17:return e.multiple?c[e.key]=i.map(function(e){return e.part.hash}):c[e.key]=i.length>0?i[0].part.hash:"",p.abrupt("break",28);case 19:return c[e.key]=Jt(o[e.key]),p.abrupt("break",28);case 21:return c[e.key]=ea(o[e.key]).filter(function(e){return e}),p.abrupt("break",28);case 23:return p.next=25,_a({libraryId:t,objectId:a,writeToken:r,schema:e.fields,fields:o[e.key]});case 25:return c[e.key]=p.sent,p.abrupt("break",28);case 27:c[e.key]=o[e.key];case 28:case"end":return p.stop()}},_callee25)}),d=n[Symbol.iterator]();case 8:if(i=(m=d.next()).done){h.next=13;break}return h.delegateYield(p(),"t0",10);case 10:i=!0,h.next=8;break;case 13:h.next=19;break;case 15:h.prev=15,h.t1=h.catch(5),l=!0,u=h.t1;case 19:h.prev=19,h.prev=20,i||null==d.return||d.return();case 22:if(h.prev=22,!l){h.next=25;break}throw u;case 25:return h.finish(22);case 26:return h.finish(19);case 27:return h.abrupt("return",c);case 28:case"end":return h.stop()}},_callee26,null,[[5,15,19,27],[20,,22,26]])}));return function CollectMetadata(t){return e.apply(this,arguments)}}(),ja=function CreateFromContentTypeSchema(e){var t=e.libraryId,a=e.type,r=e.metadata,n=e.accessCharge,o=e.schema,s=e.fields,c=e.callback;return function(){var e=S()(_.a.mark(function _callee27(e){var i;return _.a.wrap(function _callee27$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Qe.CreateContentObject({libraryId:t,type:a,metadata:r});case 2:return i=l.sent,l.t0=Qe,l.t1=t,l.t2=i.id,l.t3=i.write_token,l.t4=m.a,l.t5={},l.t6=Jt(r),l.next=12,_a({libraryId:t,objectId:i.id,writeToken:i.write_token,schema:o,fields:s,callback:c});case 12:return l.t7=l.sent,l.t8=(0,l.t4)(l.t5,l.t6,l.t7),l.t9={libraryId:l.t1,objectId:l.t2,writeToken:l.t3,metadata:l.t8},l.next=17,l.t0.MergeMetadata.call(l.t0,l.t9);case 17:return l.next=19,Qe.FinalizeContentObject({libraryId:t,objectId:i.id,writeToken:i.write_token});case 19:if(!(n>0)){l.next=22;break}return l.next=22,Qe.SetAccessCharge({objectId:i.id,accessCharge:n});case 22:e(Ot({message:"Successfully created content",redirect:!0}));case 23:case"end":return l.stop()}},_callee27)}));return function(t){return e.apply(this,arguments)}}()},Sa=function UpdateFromContentTypeSchema(e){var t=e.libraryId,a=e.objectId,r=e.metadata,n=e.accessCharge,o=e.schema,s=e.fields,c=e.callback;return function(){var e=S()(_.a.mark(function _callee29(e){return _.a.wrap(function _callee29$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=S()(_.a.mark(function _callee28(e){return _.a.wrap(function _callee28$(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Qe,n.t1=t,n.t2=a,n.t3=e,n.t4=m.a,n.t5={},n.t6=Jt(r),n.next=9,_a({libraryId:t,writeToken:e,schema:o,fields:s,callback:c});case 9:return n.t7=n.sent,n.t8=(0,n.t4)(n.t5,n.t6,n.t7),n.t9={libraryId:n.t1,objectId:n.t2,writeToken:n.t3,metadata:n.t8},n.next=14,n.t0.ReplaceMetadata.call(n.t0,n.t9);case 14:case"end":return n.stop()}},_callee28)}));return function todo(t){return e.apply(this,arguments)}}()});case 2:return i.next=4,Qe.SetAccessCharge({objectId:a,accessCharge:n});case 4:e(Ot({message:"Successfully updated content",redirect:!0}));case 5:case"end":return i.stop()}},_callee29)}));return function(t){return e.apply(this,arguments)}}()},Aa=function PublishContentObject(e){var t=e.objectId;return function(){var e=S()(_.a.mark(function _callee30(e){return _.a.wrap(function _callee30$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.PublishContentObject({objectId:t});case 2:e(Ot({message:"Successfully updated content object",redirect:!0}));case 3:case"end":return a.stop()}},_callee30)}));return function(t){return e.apply(this,arguments)}}()},La=function ReviewContentObject(e){var t=e.libraryId,a=e.objectId,r=e.approve,n=e.note;return function(){var e=S()(_.a.mark(function _callee32(e){var o;return _.a.wrap(function _callee32$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Qe.ReviewContentObject({libraryId:t,objectId:a,approve:r,note:n});case 2:return s.next=4,Qe.CurrentAccountAddress();case 4:return o=s.sent,s.next=7,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=S()(_.a.mark(function _callee31(e){return _.a.wrap(function _callee31$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.MergeMetadata({libraryId:t,writeToken:e,metadata:{"eluv.reviewer":o,"eluv.reviewNote":n}});case 2:case"end":return a.stop()}},_callee31)}));return function todo(t){return e.apply(this,arguments)}}()});case 7:e(Ot({message:"Successfully updated content object",redirect:!0}));case 8:case"end":return s.stop()}},_callee32)}));return function(t){return e.apply(this,arguments)}}()},Fa=function DeleteContentObject(e){var t=e.libraryId,a=e.objectId;return function(){var e=S()(_.a.mark(function _callee33(e){return _.a.wrap(function _callee33$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.DeleteContentObject({libraryId:t,objectId:a});case 2:e(Ot({message:"Successfully deleted content object",redirect:!0}));case 3:case"end":return r.stop()}},_callee33)}));return function(t){return e.apply(this,arguments)}}()},Ta=function DeleteContentVersion(e){var t=e.libraryId,a=e.objectId,r=e.versionHash;return function(){var e=S()(_.a.mark(function _callee34(e){return _.a.wrap(function _callee34$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.DeleteContentVersion({libraryId:t,objectId:a,versionHash:r});case 2:e(Ot({message:"Successfully deleted content version",redirect:!0}));case 3:case"end":return n.stop()}},_callee34)}));return function(t){return e.apply(this,arguments)}}()},Na=function CreateContentType(e){var t=e.name,a=e.description,r=e.metadata,n=e.bitcode;return function(){var e=S()(_.a.mark(function _callee36(e){var o;return _.a.wrap(function _callee36$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Qe.CreateContentType({name:t,description:a,metadata:Jt(r),bitcode:n});case 2:return o=s.sent,e(Ot({message:"Successfully created content type",redirect:!0})),s.abrupt("return",o);case 5:case"end":return s.stop()}},_callee36)}));return function(t){return e.apply(this,arguments)}}()},Oa=function UpdateContentType(e){var t=e.libraryId,a=e.objectId,r=e.name,n=e.description,o=e.bitcode,s=e.metadata;return function(){var e=S()(_.a.mark(function _callee38(e){return _.a.wrap(function _callee38$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=S()(_.a.mark(function _callee37(e){var c;return _.a.wrap(function _callee37$(i){for(;;)switch(i.prev=i.next){case 0:return(s=Jt(s)).name=r,s["eluv.description"]=n,i.next=5,Qe.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadata:s});case 5:if(!o){i.next=11;break}return i.next=8,Qe.UploadPart({libraryId:t,objectId:a,writeToken:e,file:o,encrypted:!1});case 8:return c=i.sent,i.next=11,Qe.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"bitcode_part",metadata:c.part.hash});case 11:case"end":return i.stop()}},_callee37)}));return function todo(t){return e.apply(this,arguments)}}()});case 2:return e(Ot({message:"Successfully updated content type",redirect:!0})),c.abrupt("return",a);case 4:case"end":return c.stop()}},_callee38)}));return function(t){return e.apply(this,arguments)}}()},Ra=function ContentTypes(){return function(){var e=S()(_.a.mark(function _callee39(e){return _.a.wrap(function _callee39$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=h.content.types.all,t.next=4,Qe.ContentTypes();case 4:t.t2=t.sent,t.t3={type:t.t1,types:t.t2},(0,t.t0)(t.t3);case 7:case"end":return t.stop()}},_callee39)}));return function(t){return e.apply(this,arguments)}}()},Ga=function UploadParts(e){var t=e.libraryId,a=e.objectId,r=e.files,n=e.encrypt,o=void 0!==n&&n,s=e.callback;return function(){var e=S()(_.a.mark(function _callee41(e){var n,c,i;return _.a.wrap(function _callee41$(l){for(;;)switch(l.prev=l.next){case 0:return n={},l.next=3,Qe.EditContentObject({libraryId:t,objectId:a});case 3:return c=l.sent,l.next=6,Promise.all(Array.from(r).map(function(){var e=S()(_.a.mark(function _callee40(e){var r;return _.a.wrap(function _callee40$(i){for(;;)switch(i.prev=i.next){case 0:return s&&(r=function partCallback(t){var a=t.uploaded,r=t.total;return s({uploaded:a,total:r,filename:e.name})}),i.next=3,Qe.UploadPart({libraryId:t,objectId:a,writeToken:c.write_token,file:e,encrypt:o,chunkSize:2e6,callback:r});case 3:n[e.name]=i.sent.part.hash;case 4:case"end":return i.stop()}},_callee40)}));return function(t){return e.apply(this,arguments)}}()));case 6:return l.next=8,Qe.MergeMetadata({libraryId:t,objectId:a,writeToken:c.write_token,metadataSubtree:"eluv-fb.parts",metadata:n});case 8:return l.next=10,Qe.FinalizeContentObject({libraryId:t,objectId:a,writeToken:c.write_token});case 10:i=r.length>1?"parts":"part",e(Ot({message:"Successfully uploaded "+i,redirect:!0}));case 12:case"end":return l.stop()}},_callee41)}));return function(t){return e.apply(this,arguments)}}()},Ma=function DownloadPart(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,o=e.callback;return S()(_.a.mark(function _callee42(){var e;return _.a.wrap(function _callee42$(s){for(;;)switch(s.prev=s.next){case 0:return o({bytesFinished:0,bytesTotal:1}),e=[],s.next=4,Qe.DownloadPart({libraryId:t,objectId:a,versionHash:r,partHash:n,format:"arrayBuffer",chunked:!0,chunkSize:1e6,callback:function callback(t){var a=t.bytesFinished,r=t.bytesTotal,n=t.chunk;o({bytesFinished:a,bytesTotal:r}),e.push(n)}});case 4:return s.abrupt("return",window.URL.createObjectURL(new Blob(e)));case 5:case"end":return s.stop()}},_callee42)}))},Pa=function UploadFiles(e){var t=e.libraryId,a=e.objectId,r=e.path,n=e.fileList;return function(){var e=S()(_.a.mark(function _callee44(e){return _.a.wrap(function _callee44$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=S()(_.a.mark(function _callee43(e){var o;return _.a.wrap(function _callee43$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,sa(r,n);case 2:return o=s.sent,s.next=5,Qe.UploadFiles({libraryId:t,objectId:a,writeToken:e,fileInfo:o});case 5:case"end":return s.stop()}},_callee43)}));return function todo(t){return e.apply(this,arguments)}}()});case 2:e(Ot({message:"Successfully uploaded files"}));case 3:case"end":return o.stop()}},_callee44)}));return function(t){return e.apply(this,arguments)}}()},Ha=function DownloadFile(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath;return S()(_.a.mark(function _callee45(){var e,o;return _.a.wrap(function _callee45$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Qe.DownloadFile({libraryId:t,objectId:a,versionHash:r,filePath:n});case 2:return e=s.sent,o=window.URL.createObjectURL(e),s.next=6,oa(o,ia.a.basename(n));case 6:case"end":return s.stop()}},_callee45)}))},Da=function FileUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath;return S()(_.a.mark(function _callee46(){return _.a.wrap(function _callee46$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.FileUrl({libraryId:t,objectId:a,versionHash:r,filePath:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee46)}))},Ba=function AddApp(e){var t=e.libraryId,a=e.objectId,r=e.role,n=e.file;return function(){var e=S()(_.a.mark(function _callee48(e){return _.a.wrap(function _callee48$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=S()(_.a.mark(function _callee47(e){var o,s;return _.a.wrap(function _callee47$(c){for(;;)switch(c.prev=c.next){case 0:return o="".concat(r,"App.html"),n[0].overrideName=o,c.next=4,sa("/",n);case 4:return s=c.sent,c.next=7,Qe.UploadFiles({libraryId:t,objectId:a,writeToken:e,fileInfo:s});case 7:return c.next=9,Qe.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App"),metadata:o});case 9:case"end":return c.stop()}},_callee47)}));return function todo(t){return e.apply(this,arguments)}}()});case 2:e(Ot({message:"Successfully added "+r+" app",redirect:!0}));case 3:case"end":return o.stop()}},_callee48)}));return function(t){return e.apply(this,arguments)}}()},$a=function RemoveApp(e){var t=e.libraryId,a=e.objectId,r=e.role;return function(){var e=S()(_.a.mark(function _callee50(e){return _.a.wrap(function _callee50$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function(){var e=S()(_.a.mark(function _callee49(e){return _.a.wrap(function _callee49$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.DeleteMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App")});case 2:case"end":return n.stop()}},_callee49)}));return function todo(t){return e.apply(this,arguments)}}()});case 2:e(Ot({message:"Successfully removed "+r+" app",redirect:!0}));case 3:case"end":return n.stop()}},_callee50)}));return function(t){return e.apply(this,arguments)}}()},qa=a(6),Ua=a.n(qa),za=function PageHeader(e){var t=e.header,a=e.subHeader;return a&&(a=o.a.createElement("h3",{className:"page-subheader"},a)),o.a.createElement("div",{className:"page-header-container"},o.a.createElement("h3",{className:"page-header with-subHeader"},t),a)};za.propTypes={header:Wt.a.string.isRequired,subHeader:Wt.a.string};var Va=a(40),Wa=a.n(Va),Ja=a(284),Ka=a.n(Ja),Ya=a(285),Za=a.n(Ya),Qa=a(286),Xa=a.n(Qa),er=function(e){function RedirectElement(e){var t;return rt()(this,RedirectElement),(t=ct()(this,lt()(RedirectElement).call(this,e))).state={redirect:!1},t}return pt()(RedirectElement,e),ot()(RedirectElement,[{key:"render",value:function render(){var e=this;if(!this.props.to)return this.props.children;if(this.state.redirect)return o.a.createElement(qt.a,{push:!0,to:this.props.to});var t=function onClick(){return e.setState({redirect:!0})};return o.a.cloneElement(this.props.children,{onClick:t,onKeyPress:t,tabIndex:"0"})}}]),RedirectElement}(o.a.Component);er.propTypes={to:Wt.a.string,children:Wt.a.element.isRequired};var tr=er,ar=function(e){function ListingItem(e){var t;return rt()(this,ListingItem),(t=ct()(this,lt()(ListingItem).call(this,e))).state={},t}return pt()(ListingItem,e),ot()(ListingItem,[{key:"Redirect",value:function Redirect(e){this.setState({redirect:e})}},{key:"AsTableRow",value:function AsTableRow(){return o.a.createElement(tr,{to:this.props.link},o.a.createElement("tr",{title:this.props.title,"aria-label":this.props.title,className:this.props.link?"listing-link":""},o.a.createElement("td",{className:"icon-cell",hidden:this.props.noIcon},o.a.createElement(_t.g,{className:"icon-container",icon:this.props.icon})),o.a.createElement("td",{className:"title-cell",title:this.props.title},o.a.createElement("div",{className:"cropped-text",tabIndex:-1},this.props.title)),o.a.createElement("td",{className:"description-cell",title:this.props.description},o.a.createElement("div",{className:"cropped-text",tabIndex:-1},this.props.description)),o.a.createElement("td",{className:"status-cell",title:this.props.status,hidden:this.props.noStatus},this.props.status)))}},{key:"AsGridElement",value:function AsGridElement(){return o.a.createElement(bt.a,{to:this.props.link,title:this.props.title,"aria-label":this.props.title,className:"grid-listing-element"},o.a.createElement(_t.g,{className:"icon-container",icon:this.props.icon}),o.a.createElement("div",{className:"listing-info"},o.a.createElement("div",{className:"title"},this.props.title),o.a.createElement("div",{className:"description",title:this.props.description},this.props.description),o.a.createElement("div",{className:"status"},this.props.status)))}},{key:"render",value:function render(){return this.state.redirect?o.a.createElement(qt.a,{push:!0,to:this.state.redirect}):"list"===this.props.display?this.AsTableRow():this.AsGridElement()}}]),ListingItem}(o.a.Component);ar.propTypes={id:Wt.a.string.isRequired,title:Wt.a.string.isRequired,description:Wt.a.string,status:Wt.a.oneOfType([Wt.a.string,Wt.a.node]),icon:Wt.a.oneOfType([Wt.a.element,Wt.a.string]),link:Wt.a.string,noIcon:Wt.a.bool};var rr=function(e){function Listing(){return rt()(this,Listing),ct()(this,lt()(Listing).apply(this,arguments))}return pt()(Listing,e),ot()(Listing,[{key:"render",value:function render(){var e=this;if(!this.props.count||0===this.props.count)return null;var t=this.props.RenderContent();return t&&0!==t.length?"list"===this.props.display?o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"icon-header",hidden:this.props.noIcon}),o.a.createElement("th",{className:"title-header"}),o.a.createElement("th",{className:"description-header"}),o.a.createElement("th",{className:"status-header",hidden:this.props.noStatus}))),o.a.createElement("tbody",null,t.map(function(t){return o.a.createElement(ar,Pt()({key:t.id,display:"list",noIcon:e.props.noIcon,noStatus:e.props.noStatus},t))}))):o.a.createElement("div",{className:"grid-listing"},t.map(function(t){return o.a.createElement(ar,Pt()({key:t.id,display:"grid",noIcon:e.props.noIcon,noStatus:e.props.noStatus},t))})):null}}]),Listing}(o.a.Component);rr.propTypes={count:Wt.a.number,display:Wt.a.string.isRequired,RenderContent:Wt.a.func.isRequired,noIcon:Wt.a.bool,noStatus:Wt.a.bool};var nr=rr,or=a(103),sr={},cr=function(e){function Listing(e){var t;rt()(this,Listing),t=ct()(this,lt()(Listing).call(this,e));var a=sr[e.pageId]||{display:"list",perPage:10};return sr[e.pageId]=a,t.state={display:a.display,perPage:a.perPage,page:1,selectFilter:t.props.selectFilterOptions?a.filter||t.props.selectFilterOptions[0][1]:"",filter:"",filterTimeout:void 0},t.Load=t.Load.bind(Ua()(t)),t.Filter=t.Filter.bind(Ua()(t)),t.ChangeSelectFilter=t.ChangeSelectFilter.bind(Ua()(t)),t}return pt()(Listing,e),ot()(Listing,[{key:"componentDidMount",value:function componentDidMount(){this.Load()}},{key:"Load",value:function Load(){this.cancelable&&this.cancelable.cancelAll(),this.cancelable=new or.CancelableEvents,this.props.LoadContent({params:{paginate:!0,page:this.state.page,perPage:this.state.perPage,filter:this.state.filter,selectFilter:this.state.selectFilter,cancelable:this.cancelable}})}},{key:"SwitchView",value:function SwitchView(e){sr[this.props.pageId].display=e,this.setState({display:e})}},{key:"ChangePage",value:function ChangePage(e){this.setState({page:e},this.Load)}},{key:"ChangeSelectFilter",value:function ChangeSelectFilter(e){sr[this.props.pageId].filter=e.target.value,this.setState({page:1,selectFilter:e.target.value},this.Load)}},{key:"Filter",value:function Filter(e){var t=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({page:1,filter:t,filterTimeout:setTimeout(this.Load,500)})}},{key:"SelectFilter",value:function SelectFilter(){if(this.props.selectFilterOptions){var e=this.props.selectFilterOptions.map(function(e){var t=Wa()(e,2),a=t[0],r=t[1];return o.a.createElement("option",{key:"select-option-".concat(r),value:r},a)});return o.a.createElement("select",{name:"selectFilter",value:this.state.selectFilter,title:this.props.selectFilterLabel,"aria-label":this.props.selectFilterLabel,onChange:this.ChangeSelectFilter},e)}}},{key:"PageButton",value:function PageButton(e,t,a,r){var n=this,s=t!==a;return o.a.createElement("li",{key:e},o.a.createElement("button",{title:"Page "+a,"aria-label":"Page "+a,onClick:function onClick(){return n.ChangePage(a)},onKeyPress:function onKeyPress(){return n.ChangePage(a)},disabled:r,className:"page-button ".concat(s?"text-button":""," ").concat(!s&&r?"selected":"")},t.toString()))}},{key:"PageSpread",value:function PageSpread(){var e=this;if(this.props.count){var t=Math.ceil(this.props.count/this.state.perPage),a=1,r=Math.min(10,t);this.state.page>=5&&(r=(a=this.state.page-4)+9)>t&&(r=t,a=Math.max(t-9,1));var n=r-a+1;return I()(Array(n).keys()).map(function(t){var r=a+t;return e.PageButton("Page "+r,r,r,r===e.state.page)})}}},{key:"PreviousPageButtons",value:function PreviousPageButtons(){var e=this.state.page<=1;return[this.PageButton("First Page","First",1,e),this.PageButton("Previous Page","Prev",this.state.page-1,e)]}},{key:"NextPageButtons",value:function NextPageButtons(){var e=Math.ceil(this.props.count/this.state.perPage),t=this.state.page*this.state.perPage>=this.props.count;return[this.PageButton("Next Page","Next",this.state.page+1,t),this.PageButton("Last Page","Last",e,t)]}},{key:"PaginationControls",value:function PaginationControls(){if(this.props.paginate)return o.a.createElement("ul",{className:"page-controls"},this.PreviousPageButtons(),this.PageSpread(),this.NextPageButtons())}},{key:"PerPageControls",value:function PerPageControls(){var e=this;return o.a.createElement("select",{className:"per-page-controls",disabled:this.props.loadingStatus.loading,value:this.state.perPage,onChange:function onChange(t){var a=parseInt(t.target.value);e.setState({page:1,perPage:a},e.Load),sr[e.props.pageId].perPage=a}},o.a.createElement("option",{value:5},"5"),o.a.createElement("option",{value:10},"10"),o.a.createElement("option",{value:20},"20"),o.a.createElement("option",{value:50},"50"),o.a.createElement("option",{value:100},"100"))}},{key:"Actions",value:function Actions(){var e,t=this;return this.props.noIcon||(e="list"===this.state.display?o.a.createElement(_t.i,{className:"listing-action",icon:Ka.a,label:"Switch to grid view",onClick:function onClick(){return t.SwitchView("grid")}}):o.a.createElement(_t.i,{className:"listing-action",icon:Za.a,label:"Switch to list view",onClick:function onClick(){return t.SwitchView("list")}})),o.a.createElement("div",{className:"listing-actions"},o.a.createElement("div",{className:"controls"},this.PaginationControls(),this.PerPageControls()),o.a.createElement("div",{className:"controls right-controls"},o.a.createElement("input",{className:"filter",placeholder:"Filter",value:this.state.filter,onChange:this.Filter}),this.SelectFilter(),e,o.a.createElement(_t.k,{loadingClassname:"loading-action",loading:this.props.loadingStatus.loading,loadingIcon:"rotate"},o.a.createElement(_t.i,{className:"listing-action",icon:Xa.a,label:"Refresh",onClick:this.Load}))))}},{key:"Count",value:function Count(){if(0===this.props.count)return o.a.createElement("div",{className:"listing-count"},"No results to display");if(!this.props.count)return null;var e=(this.state.page-1)*this.state.perPage+1,t=Math.min(e+this.state.perPage-1,this.props.count);return o.a.createElement("div",{className:"listing-count"},"Displaying results ".concat(e," - ").concat(t," of ").concat(this.props.count))}},{key:"render",value:function render(){return this.props.loadingStatus.error?o.a.createElement("div",{className:"error-page"},o.a.createElement("div",null,"There was a problem loading this page:"),o.a.createElement("div",{className:"error-message"},this.props.loadingStatus.errorMessage),o.a.createElement(_t.k,{loading:this.props.loadingStatus.loading,loadingIcon:"rotate"},o.a.createElement(_t.a,{onClick:this.Load},"Try Again"))):o.a.createElement("div",{className:"listing ".concat(this.props.className||"")},this.Actions(),o.a.createElement(_t.k,{loading:this.props.loadingStatus.loading,loadingClassname:"loading",loadingIcon:"rotate"},this.Count(),o.a.createElement(nr,{count:this.props.count,display:this.state.display,noIcon:this.props.noIcon,noStatus:this.props.noStatus,RenderContent:this.props.RenderContent})))}}]),Listing}(o.a.Component);cr.propTypes={pageId:Wt.a.string.isRequired,className:Wt.a.string,noIcon:Wt.a.bool,noStatus:Wt.a.bool,paginate:Wt.a.bool,count:Wt.a.number,selectFilterLabel:Wt.a.string,selectFilterOptions:Wt.a.arrayOf(Wt.a.arrayOf(Wt.a.string)),loadingStatus:Wt.a.object.isRequired,RenderContent:Wt.a.func.isRequired,LoadContent:Wt.a.func.isRequired};var ir=cr,lr=function(e){function ContentLibraries(e){var t;return rt()(this,ContentLibraries),(t=ct()(this,lt()(ContentLibraries).call(this,e))).state={},t.ContentLibraries=t.ContentLibraries.bind(Ua()(t)),t}return pt()(ContentLibraries,e),ot()(ContentLibraries,[{key:"ContentLibraries",value:function ContentLibraries(){var e=this;return this.props.libraries?Object.keys(this.props.libraries).sort().map(function(t){var a=e.props.libraries[t];return{id:t,sortKey:a.name||"zz",title:a.name||"Content Library "+t,description:a.description,icon:a.imageUrl||yt.a,link:F()("/content",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"render",value:function render(){var e=this;return o.a.createElement("div",{className:"page-container contents-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:F()("/content","create")},"New Library")),o.a.createElement(za,{header:"Content Libraries"}),o.a.createElement("div",{className:"page-content"},o.a.createElement(ir,{pageId:"ContentLibraries",paginate:!0,count:this.props.count.libraries,selectFilterLabel:"Library Types",selectFilterOptions:[["Content","content"],["All","all"],["Eluvio Media Platform","elv-media-platform"]],loadingStatus:this.props.methodStatus.ListContentLibraries,LoadContent:function LoadContent(t){var a=t.params;return e.props.methods.ListContentLibraries({params:a})},RenderContent:this.ContentLibraries})))}}]),ContentLibraries}(o.a.Component);lr.propTypes={libraries:Wt.a.object.isRequired,count:Wt.a.object.isRequired,methods:Wt.a.shape({ListContentLibraries:Wt.a.func.isRequired})};var ur=lr,pr=function(e){var t=function(t){function Container(e){var t;rt()(this,Container),t=ct()(this,lt()(Container).call(this,e));var a={},r={};return e.methods&&Object.keys(e.methods).forEach(function(n){a[n]={loading:!1,completed:!1,error:!1,errorMessage:""},r[n]=function(a){return t.CallMethod(n,e.methods[n],a)}}),t.cancelable=new or.CancelableEvents,t.state={loading:!0,error:!1,errorMessage:"",methods:r,methodStatus:a},t.Content=t.Content.bind(Ua()(t)),t.Load=t.Load.bind(Ua()(t)),t}var a,r,n;return pt()(Container,t),ot()(Container,[{key:"componentWillMount",value:(n=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Load();case 2:case"end":return e.stop()}},_callee,this)})),function componentWillMount(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancelable.cancelAll()}},{key:"Load",value:(r=S()(_.a.mark(function _callee2(){var e,t,a,r=this,n=arguments;return _.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:{},t=e.params,a=e.componentParams,this.props.Load){o.next=4;break}return this.setState({loading:!1}),o.abrupt("return");case 4:return t=t||{},a=a||{},this.setState({loading:!0}),o.prev=7,o.next=10,this.cancelable.promise(function(){return r.props.Load({props:r.props,params:t})});case 10:this.setState(m()({loading:!1,error:!1,errorMessage:""},a)),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(7),Object(or.isCancelledPromiseError)(o.t0)||(console.error(o.t0),this.setState({loading:!1,error:!0,errorMessage:o.t0.statusText||o.t0.message}));case 16:case"end":return o.stop()}},_callee2,this,[[7,13]])})),function Load(){return r.apply(this,arguments)})},{key:"CallMethod",value:(a=S()(_.a.mark(function _callee3(e,t,a){var r,n=this;return _.a.wrap(function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return this.setState({methodStatus:m()({},this.state.methodStatus,y()({},e,{loading:!0,completed:!1,error:!1,errorMessage:""}))}),o.prev=1,o.next=4,this.cancelable.promise(function(){return t({props:n.props,params:a})});case 4:return r=o.sent,this.setState({methodStatus:m()({},this.state.methodStatus,y()({},e,{loading:!1,completed:!0,error:!1,errorMessage:""}))}),o.abrupt("return",r);case 9:o.prev=9,o.t0=o.catch(1),Object(or.isCancelledPromiseError)(o.t0)||(console.error("Error in ".concat(e,":")),console.error(o.t0),this.setState({methodStatus:m()({},this.state.methodStatus,y()({},e,{loading:!1,completed:!1,error:!0,errorMessage:o.t0.statusText||o.t0.message||o.t0}))}));case 12:case"end":return o.stop()}},_callee3,this,[[1,9]])})),function CallMethod(e,t,r){return a.apply(this,arguments)})},{key:"Content",value:function Content(){return o.a.createElement(e,Pt()({},this.props,this.state,{Load:this.Load,LoadComponent:this.LoadComponent}))}},{key:"render",value:function render(){return this.state.error?o.a.createElement("div",{className:"error-page"},o.a.createElement("div",null,"There was a problem loading this page:"),o.a.createElement("div",{className:"error-message"},this.state.errorMessage),o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.k,{loading:this.state.loading,loadingIcon:"rotate"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"action-wide secondary"},"Back"),o.a.createElement(_t.a,{className:"action-wide",onClick:this.Load},"Try Again")))):o.a.createElement(_t.k,{fullPage:!0,loading:this.state.loading,render:this.Content})}}]),Container}(o.a.Component);return t.propTypes={Load:Wt.a.func,LoadComponent:Wt.a.objectOf(Wt.a.func)},function(e){return o.a.createElement(t,Pt()({},e,{key:"page-container".concat(e.match.url)}))}},dr=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListContentLibraries(a);case 3:case"end":return r.stop()}},_callee)}));return function LoadLibraries(t){return e.apply(this,arguments)}}(),mr=pr(ur),hr=Object(c.c)(function mapStateToProps(e){return{libraries:e.content.libraries,count:e.content.count}},function mapDispatchToProps(e){return At(e,[ua])})(function ContentLibrariesContainer(e){return o.a.createElement(mr,Pt()({},e,{methods:{ListContentLibraries:dr}}))}),br=function ListAccessGroups(e){var t=e.params;return function(){var e=S()(_.a.mark(function _callee2(e){var a,r,n;return _.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,la(t.cancelable,S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.ListAccessGroups({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee)})));case 2:a=o.sent,r=a.accessGroups,n=a.count,e({type:h.accessGroups.list,accessGroups:r,count:n});case 6:case"end":return o.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()},fr=function GetAccessGroup(e){var t=e.contractAddress;return function(){var e=S()(_.a.mark(function _callee3(e){var a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.GetAccessGroup({contractAddress:t});case 2:a=r.sent,e({type:h.accessGroups.get,contractAddress:t,accessGroup:a});case 4:case"end":return r.stop()}},_callee3)}));return function(t){return e.apply(this,arguments)}}()},yr=function SaveAccessGroup(e){var t=e.name,a=e.description,r=e.address;return function(){var e=S()(_.a.mark(function _callee5(e){var n;return _.a.wrap(function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:if(!r){o.next=7;break}return n=Qe.utils.AddressToObjectId(r),o.next=4,Qe.EditAndFinalizeContentObject({libraryId:Qe.contentSpaceLibraryId,objectId:n,todo:function(){var e=S()(_.a.mark(function _callee4(e){return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.MergeMetadata({libraryId:Qe.contentSpaceLibraryId,objectId:n,writeToken:e,metadata:{name:t,description:a}});case 2:case"end":return r.stop()}},_callee4)}));return function todo(t){return e.apply(this,arguments)}}()});case 4:e(Ot({message:"Access group successfully updated",redirect:!0})),o.next=11;break;case 7:return o.next=9,Qe.CreateAccessGroup({name:t,metadata:{description:a}});case 9:r=o.sent,e(Ot({message:"Access group successfully created",redirect:!0}));case 11:return o.abrupt("return",Object(P.d)(r));case 12:case"end":return o.stop()}},_callee5)}));return function(t){return e.apply(this,arguments)}}()},vr=function ListAccessGroupMembers(e){var t=e.contractAddress,a=e.showManagers,r=void 0!==a&&a,n=e.params;return function(){var e=S()(_.a.mark(function _callee7(e){var a,o,s;return _.a.wrap(function _callee7$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,la(n.cancelable,S()(_.a.mark(function _callee6(){return _.a.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.ListAccessGroupMembers({contractAddress:t,showManagers:r,params:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee6)})));case 2:a=c.sent,o=a.members,s=a.count,e({type:h.accessGroups.members.list,contractAddress:t,members:o,count:s});case 6:case"end":return c.stop()}},_callee7)}));return function(t){return e.apply(this,arguments)}}()},gr=function AddAccessGroupMember(e){var t=e.contractAddress,a=e.memberAddress,r=e.manager,n=void 0!==r&&r;return function(){var e=S()(_.a.mark(function _callee8(e){return _.a.wrap(function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=5;break}return r.next=3,Qe.AddAccessGroupManager({contractAddress:t,memberAddress:a});case 3:r.next=7;break;case 5:return r.next=7,Qe.AddAccessGroupMember({contractAddress:t,memberAddress:a});case 7:e(Ot({message:"".concat(n?"Manager":"Member"," successfully added"),redirect:!1}));case 8:case"end":return r.stop()}},_callee8)}));return function(t){return e.apply(this,arguments)}}()},xr=function RemoveAccessGroupMember(e){var t=e.contractAddress,a=e.memberAddress,r=e.manager,n=void 0!==r&&r;return function(){var e=S()(_.a.mark(function _callee9(e){return _.a.wrap(function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=5;break}return r.next=3,Qe.RemoveAccessGroupManager({contractAddress:t,memberAddress:a});case 3:r.next=7;break;case 5:return r.next=7,Qe.RemoveAccessGroupMember({contractAddress:t,memberAddress:a});case 7:e(Ot({message:"".concat(n?"Manager":"Member"," successfully removed"),redirect:!1}));case 8:case"end":return r.stop()}},_callee9)}));return function(t){return e.apply(this,arguments)}}()},Cr=function RemoveAccessGroup(e){var t=e.address;return function(){var e=S()(_.a.mark(function _callee10(e){return _.a.wrap(function _callee10$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.DeleteAccessGroup({address:t});case 2:e(Ot({message:"Access group successfully deleted",redirect:!0}));case 3:case"end":return a.stop()}},_callee10)}));return function(t){return e.apply(this,arguments)}}()},kr=a(287),wr=a.n(kr),Ir=function Copyable(e){var t=e.copy,a=e.children,r=e.className;return o.a.createElement("span",{className:"copyable ".concat(r||"")},a,o.a.createElement(_t.f,{copy:t||a},o.a.createElement(_t.j,{className:"copy-icon",icon:wr.a})))};Ir.propTypes={copy:Wt.a.string.isRequired,children:Wt.a.oneOfType([Wt.a.node,Wt.a.string]).isRequired};var Er=function LabelledField(e){var t=e.label,a=e.value,r=e.children,n=e.copyValue,s=e.alignTop,c=void 0!==s&&s,i=e.wideLabel,l=void 0!==i&&i,u=e.hidden,p=void 0!==u&&u;"string"==typeof t&&t.length>0&&(t+=":");var d=(l?"wide":"")+(c?"align-top":""),m=o.a.createElement("div",{"aria-label":t,title:a},r||a);return n&&(m=o.a.createElement(Ir,{copy:n},m)),o.a.createElement("div",{className:"labelled-field"+(p?" hidden":"")},o.a.createElement("label",{htmlFor:t,className:d},t),m)},_r=function(e){function ClippedText(e){var t;return rt()(this,ClippedText),(t=ct()(this,lt()(ClippedText).call(this,e))).state={showMore:!1},t.ToggleVisibility=t.ToggleVisibility.bind(Ua()(t)),t}return pt()(ClippedText,e),ot()(ClippedText,[{key:"ToggleVisibility",value:function ToggleVisibility(){this.setState({showMore:!this.state.showMore})}},{key:"render",value:function render(){var e=this.state.showMore?"clipped-text show ":"clipped-text hide ",t=this.state.showMore?"cover show-less":"cover show-more",a=this.state.showMore?"Show less":"Show more";return o.a.createElement("div",{className:e+(this.props.className||""),title:a,"aria-label":a},o.a.createElement("pre",{className:"text"},this.props.text),o.a.createElement("div",{className:t,onClick:this.ToggleVisibility,onKeyPress:this.ToggleVisibility}))}}]),ClippedText}(o.a.Component);_r.propTypes={text:Wt.a.string};var jr=_r,Sr=function(e){function ContentLibrary(e){var t;return rt()(this,ContentLibrary),(t=ct()(this,lt()(ContentLibrary).call(this,e))).state={visibleItems:{},view:"content",groupsView:"accessor"},t.PageContent=t.PageContent.bind(Ua()(t)),t.ContentObjects=t.ContentObjects.bind(Ua()(t)),t.AccessGroups=t.AccessGroups.bind(Ua()(t)),t}return pt()(ContentLibrary,e),ot()(ContentLibrary,[{key:"ToggleVisible",value:function ToggleVisible(e){this.setState({visibleItems:m()({},this.state.visibleItems,y()({},e,!this.state.visibleItems[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleItems[t],n=(r?"Hide ":"Show ")+e;return o.a.createElement(_t.a,{className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleVisible(t)}},n)}},{key:"ToggleSection",value:function ToggleSection(e,t,a){var r,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this.state.visibleItems[t];return s&&(r=n?o.a.createElement("pre",{className:"content-object-data"},JSON.stringify(a,null,2)):a),o.a.createElement("div",{className:"formatted-data"},o.a.createElement(Er,{label:e},this.ToggleButton(e,t)),r)}},{key:"LibraryContentTypes",value:function LibraryContentTypes(){if(0===Object.keys(this.props.library.types).length)return null;var e=Object.values(this.props.library.types).map(function(e){return o.a.createElement(bt.a,{key:"library-content-type-".concat(e.id),className:"inline-link",to:F()("/content-types",e.id)},e.meta.name||e.id)});return o.a.createElement("div",null,o.a.createElement(Er,{label:"Content Types",alignTop:!0},o.a.createElement("div",{className:"comma-separated-list"},e)),o.a.createElement("br",null))}},{key:"AccessGroups",value:function AccessGroups(){var e=this;return this.props.library.groups?Object.keys(this.props.library.groups).map(function(t){var a=e.props.library.groups[t];return{id:t,sortKey:(a.name||"zz").toLowerCase(),title:a.name||t,description:a.description,link:F()("/access-groups",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this;return o.a.createElement("div",null,o.a.createElement(_t.n,{options:[["Accessors","accessor"],["Contributors","contributor"],["Reviewers","reviewer"]],className:"secondary",selected:this.state.groupsView,onChange:function onChange(t){return e.setState({groupsView:t})}}),o.a.createElement(ir,{key:"library-access-group-listing-".concat(this.state.groupsView),className:"compact",pageId:"LibraryAccessGroups",noIcon:!0,noStatus:!0,paginate:!0,count:this.props.count.libraryGroups[this.props.libraryId],loadingStatus:this.props.methodStatus.ListContentLibraryGroups,LoadContent:function LoadContent(t){var a=t.params;e.props.methods.ListContentLibraryGroups({type:e.state.groupsView,params:a})},RenderContent:this.AccessGroups}))}},{key:"ContentObjects",value:function ContentObjects(){var e=this;return this.props.objects?Object.keys(this.props.objects).map(function(t){var a=e.props.objects[t],r=Object(P.a)(a.accessInfo.accessCharge);return{id:t,sortKey:(a.name||"zz").toLowerCase(),title:a.name||t,description:a.description,status:r,icon:a.imageUrl||yt.a,link:F()(e.props.match.url,t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"ObjectListing",value:function ObjectListing(){var e=this;return o.a.createElement(ir,{key:"library-objects-view",pageId:"ContentObjects",paginate:!0,count:this.props.count.objects[this.props.libraryId],loadingStatus:this.props.methodStatus.ListContentObjects,LoadContent:function LoadContent(t){var a=t.params;a.cacheId=e.props.cacheId,e.props.methods.ListContentObjects({libraryId:e.props.libraryId,params:a})},RenderContent:this.ContentObjects})}},{key:"LibraryImage",value:function LibraryImage(){return this.props.library.imageUrl?o.a.createElement("div",{className:"object-image"},o.a.createElement("img",{src:this.props.library.imageUrl})):null}},{key:"LibraryInfo",value:function LibraryInfo(){var e=o.a.createElement(jr,{className:"object-description",text:this.props.library.description}),t=F()(this.props.match.url,this.props.library.libraryObjectId),a=this.props.count.objects[this.props.libraryId],r=a||0===a?o.a.createElement(Er,{label:"Content Objects",value:a}):null;return o.a.createElement("div",{className:"object-info label-box"},this.LibraryImage(),o.a.createElement(Er,{label:"Name"},this.props.library.name),o.a.createElement(Er,{label:"Description",alignTop:!0},e),o.a.createElement("br",null),o.a.createElement(Er,{label:"Library ID"},this.props.libraryId),o.a.createElement(Er,{label:"Library Object"},o.a.createElement(bt.a,{className:"inline-link",to:t},this.props.library.libraryObjectId)),o.a.createElement(Er,{label:"Contract Address"},o.a.createElement(bt.a,{className:"inline-link",to:F()(t,"contract")},this.props.library.contractAddress)),o.a.createElement(Er,{label:"KMS ID"},this.props.library.kmsId),o.a.createElement(Er,{label:"Owner"},this.props.library.owner),r,o.a.createElement("br",null),this.LibraryContentTypes(),this.ToggleSection("Public Metadata","public-metadata",this.props.library.meta,!0),this.ToggleSection("Private Metadata","private-metadata",this.props.library.privateMeta,!0))}},{key:"Actions",value:function Actions(){var e=o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"create")},this.props.library.isContentSpaceLibrary?"New Content Type":"Contribute");return o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"edit")},"Manage"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"types"),hidden:!this.props.library.isOwner},"Types"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"groups"),hidden:!this.props.library.isOwner},"Groups"),e)}},{key:"PageView",value:function PageView(){return"content"===this.state.view?this.ObjectListing():"info"===this.state.view?this.LibraryInfo():"groups"===this.state.view?this.AccessGroupsListing():void 0}},{key:"PageContent",value:function PageContent(){var e=this;if(this.props.methodStatus.DeleteContentLibrary.completed)return o.a.createElement(qt.a,{push:!0,to:"/content"});var t=o.a.createElement(_t.n,{options:[["Content","content"],["Library Info","info"],["Access Groups","groups"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}});return o.a.createElement("div",{className:"page-container contents-page-container"},this.Actions(),o.a.createElement(za,{header:this.props.library.name,subHeader:this.props.library.description}),t,o.a.createElement("div",{className:"page-content"},this.PageView()))}},{key:"render",value:function render(){return o.a.createElement(_t.k,{fullPage:!0,loading:this.props.methodStatus.DeleteContentLibrary.loading,render:this.PageContent})}}]),ContentLibrary}(o.a.Component);Sr.propTypes={libraryId:Wt.a.string.isRequired,library:Wt.a.object.isRequired,objects:Wt.a.object.isRequired,count:Wt.a.object.isRequired,methods:Wt.a.shape({ListContentObjects:Wt.a.func.isRequired,DeleteContentLibrary:Wt.a.func.isRequired})};var Ar=Sr,Lr=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentLibrary({libraryId:t.libraryId});case 3:case"end":return a.stop()}},_callee)}));return function LoadLibrary(t){return e.apply(this,arguments)}}(),Fr=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListContentObjects(a);case 3:case"end":return r.stop()}},_callee2)}));return function LoadObjects(t){return e.apply(this,arguments)}}(),Tr=function(){var e=S()(_.a.mark(function _callee3(e){var t,a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListContentLibraryGroups(m()({libraryId:t.libraryId},a));case 3:case"end":return r.stop()}},_callee3)}));return function LoadGroups(t){return e.apply(this,arguments)}}(),Nr=function(){var e=S()(_.a.mark(function _callee4(e){var t,a;return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.DeleteContentLibrary(a);case 3:case"end":return r.stop()}},_callee4)}));return function DeleteLibrary(t){return e.apply(this,arguments)}}(),Or=pr(Ar),Rr=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],objects:e.content.objects,count:e.content.count,cacheId:e.content.cacheId}},function mapDispatchToProps(e){return At(e,[pa,ma,br,ka,ya])})(function ContentLibrariesContainer(e){var t=e.libraryId||e.match.params.libraryId;return o.a.createElement(Or,Pt()({},e,{libraryId:t,Load:Lr,methods:{ListContentObjects:Fr,ListContentLibraryGroups:Tr,DeleteContentLibrary:Nr}}))}),Gr=function(e){function ContentLibraryForm(e){var t;rt()(this,ContentLibraryForm),t=ct()(this,lt()(ContentLibraryForm).call(this,e));var a=e.library||{};return t.state={name:a.name||"",description:a.description||"",publicMetadata:JSON.stringify(a.meta,null,2)||"",privateMetadata:JSON.stringify(a.privateMeta,null,2)||"",kmsId:a.kmsId||"",isContentSpaceLibrary:a.isContentSpaceLibrary||!1,imageSelection:""},t.PageContent=t.PageContent.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleImageChange=t.HandleImageChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContentLibraryForm,e),ot()(ContentLibraryForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleImageChange",value:function HandleImageChange(e){e.target.files&&this.setState({imageSelection:e.target.files[0]})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e;return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,name:this.state.name,description:this.state.description,publicMetadata:this.state.publicMetadata,privateMetadata:this.state.privateMetadata,image:this.state.imageSelection,kmsId:this.state.kmsId});case 2:e=t.sent,this.setState({libraryId:e});case 4:case"end":return t.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"Image",value:function Image(){return this.state.isContentSpaceLibrary?null:[o.a.createElement("label",{key:"image-selection-label",htmlFor:"imageSelection",className:"align-top"},"Image"),o.a.createElement(_t.d,{key:"image-selection",name:"image",required:!1,multiple:!1,accept:"image/*",preview:!0,onChange:this.HandleImageChange})]}},{key:"PageContent",value:function PageContent(){var e=this,t=this.props.createForm?"Create content library":"Manage content library",a=m()({},this.props.methodStatus.Submit);a.completed=a.completed&&!!this.state.libraryId;var r=ia.a.dirname(this.props.match.url),n=this.props.createForm?F()(r,this.state.libraryId||""):r;return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:t,redirectPath:n,cancelPath:ia.a.dirname(this.props.match.url),status:a,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange,disabled:this.state.isContentSpaceLibrary}),this.Image(),o.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),o.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"publicMetadata"},"Public Metadata"),o.a.createElement(Yt,{name:"publicMetadata",value:this.state.publicMetadata,onChange:this.HandleInputChange,UpdateValue:function UpdateValue(t){return e.setState({publicMetadata:t})}}),o.a.createElement("label",{className:"align-top",htmlFor:"privateMetadata"},"Private Metadata"),o.a.createElement(Yt,{name:"privateMetadata",value:this.state.privateMetadata,onChange:this.HandleInputChange,UpdateValue:function UpdateValue(t){return e.setState({privateMetadata:t})}}),o.a.createElement("label",{htmlFor:"kmsId"},"KMS ID",o.a.createElement("span",{className:"help-text",hidden:!this.props.createForm},"(optional)")),o.a.createElement("input",{name:"kmsId",value:this.state.kmsId,required:!1,onChange:this.HandleInputChange,disabled:!this.props.createForm}))))}},{key:"render",value:function render(){return o.a.createElement(_t.k,{fullPage:!0,loading:this.props.loading,render:this.PageContent})}}]),ContentLibraryForm}(o.a.Component);Gr.propTypes={libraryId:Wt.a.string,library:Wt.a.object,createForm:Wt.a.bool.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Mr=Gr,Pr=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if((t=e.props).createForm){a.next=4;break}return a.next=4,t.GetContentLibrary({libraryId:t.libraryId});case 4:case"end":return a.stop()}},_callee)}));return function LoadLibrary(t){return e.apply(this,arguments)}}(),Hr=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.props,a=e.params,!t.createForm){r.next=7;break}return r.next=4,t.CreateContentLibrary(a);case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,t.UpdateContentLibrary(a);case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Dr=pr(Mr),Br=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId]}},function mapDispatchToProps(e){return At(e,[pa,ba,fa])})(function ContentLibraryFormContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.location.pathname.endsWith("create");return o.a.createElement(Dr,Pt()({},e,{libraryId:t,createForm:a,Load:Pr,methods:{Submit:Hr}}))}),$r=a(144),qr=a.n($r),Ur=function(e){function ContentLibraryTypesForm(e){var t;return rt()(this,ContentLibraryTypesForm),(t=ct()(this,lt()(ContentLibraryTypesForm).call(this,e))).state={libraryTypes:m()({},e.library.types),selectedTypeIds:Object.values(e.library.types).map(function(e){return e.id}),selectedTypeId:""},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleAddType=t.HandleAddType.bind(Ua()(t)),t.HandleRemoveType=t.HandleRemoveType.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContentLibraryTypesForm,e),ot()(ContentLibraryTypesForm,[{key:"componentDidMount",value:function componentDidMount(){this.SetSelectedType()}},{key:"SetSelectedType",value:function SetSelectedType(){var e=this.AvailableTypes()[0];this.setState({selectedTypeId:e&&e.id})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleAddType",value:function HandleAddType(){this.setState({selectedTypeIds:this.state.selectedTypeIds.concat([this.state.selectedTypeId])},this.SetSelectedType)}},{key:"HandleRemoveType",value:function HandleRemoveType(e){this.setState({selectedTypeIds:this.state.selectedTypeIds.filter(function(t){return t!==e})},this.SetSelectedType)}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,typeIds:this.state.selectedTypeIds});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"AvailableTypes",value:function AvailableTypes(){var e=this;return Object.values(this.props.types).filter(function(t){return!e.state.selectedTypeIds.includes(t.id)})}},{key:"TypeSelector",value:function TypeSelector(){var e=this.AvailableTypes().map(function(e){var t=e.meta.name||e.id;return o.a.createElement("option",{name:"selectedTypeId",key:e.id,value:e.id},t)}),t=0===e.length;return o.a.createElement("div",{className:"inline-inputs"},o.a.createElement("select",{name:"selectedTypeId",value:this.state.selectedTypeId,onChange:this.HandleInputChange,disabled:t},e),o.a.createElement(_t.a,{className:"action-compact",onClick:this.HandleAddType,disabled:t},"Add"))}},{key:"SelectedTypes",value:function SelectedTypes(){var e=this;return 0===this.state.selectedTypeIds.length?null:this.state.selectedTypeIds.map(function(t){var a=Object.values(e.props.types).find(function(e){return e.id===t});return o.a.createElement("div",{className:"list-item",key:"added-type-"+a.id},o.a.createElement("span",null,a.meta.name||a.id),o.a.createElement(_t.i,{icon:qr.a,onClick:function onClick(){return e.HandleRemoveType(a.id)}}))})}},{key:"render",value:function render(){return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:"Manage Library Types",redirectPath:ia.a.dirname(this.props.match.url),cancelPath:ia.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"typeId"},"Content Types"),this.TypeSelector(),o.a.createElement("label",null),o.a.createElement("div",{className:"list bordered-list"},this.SelectedTypes()))))}}]),ContentLibraryTypesForm}(o.a.Component);Ur.propTypes={libraryId:Wt.a.string.isRequired,library:Wt.a.object.isRequired,types:Wt.a.object.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var zr=Ur,Vr=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentLibrary({libraryId:t.libraryId});case 3:return a.next=5,t.ContentTypes();case 5:case"end":return a.stop()}},_callee)}));return function LoadLibrary(t){return e.apply(this,arguments)}}(),Wr=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.SetLibraryContentTypes(a);case 3:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Jr=pr(zr),Kr=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],types:e.content.allTypes}},function mapDispatchToProps(e){return At(e,[pa,Ra,va])})(function ContentLibraryTypesFormContainer(e){var t=e.libraryId||e.match.params.libraryId;return o.a.createElement(Jr,Pt()({},e,{libraryId:t,Load:Vr,methods:{Submit:Wr}}))}),Yr=function(e){function ContentLibraryGroupForm(e){var t;return rt()(this,ContentLibraryGroupForm),(t=ct()(this,lt()(ContentLibraryGroupForm).call(this,e))).state={groupAddress:"",accessor:!1,reviewer:!1,contributor:!1},t.HandleGroupChange=t.HandleGroupChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContentLibraryGroupForm,e),ot()(ContentLibraryGroupForm,[{key:"componentDidMount",value:function componentDidMount(){var e=Object.keys(this.props.accessGroups)[0];e&&this.HandleGroupChange({target:{value:e}})}},{key:"HandleGroupChange",value:function HandleGroupChange(e){var t=this.props.library.groupPermissions[e.target.value]||{};this.setState({groupAddress:e.target.value,accessor:!!t.accessor,contributor:!!t.contributor,reviewer:!!t.reviewer})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({groupAddress:this.state.groupAddress,accessor:this.state.accessor,reviewer:this.state.reviewer,contributor:this.state.contributor});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"Groups",value:function Groups(){var e=Object.values(this.props.accessGroups).map(function(e){return o.a.createElement("option",{key:"group-".concat(e.address),value:e.address},e.name)});return o.a.createElement("select",{name:"groupAddress",onChange:this.HandleGroupChange},e)}},{key:"render",value:function render(){var e=this,t=m()({},this.props.methodStatus.Submit),a=ia.a.dirname(this.props.match.url);return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:"Add access group to '".concat(this.props.library.name,"'"),redirectPath:a,cancelPath:a,status:t,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"groupAddress"},"Access Group"),this.Groups(),o.a.createElement("label",{htmlFor:"accessor"},"Accessor"),o.a.createElement("input",{type:"checkbox",checked:this.state.accessor,onChange:function onChange(){return e.setState({accessor:!e.state.accessor})}}),o.a.createElement("label",{htmlFor:"contributor"},"Contributor"),o.a.createElement("input",{type:"checkbox",checked:this.state.contributor,onChange:function onChange(){return e.setState({contributor:!e.state.contributor})}}),o.a.createElement("label",{htmlFor:"reviewer"},"Reviewer"),o.a.createElement("input",{type:"checkbox",checked:this.state.reviewer,onChange:function onChange(){return e.setState({reviewer:!e.state.reviewer})}}))))}}]),ContentLibraryGroupForm}(o.a.Component);Yr.propTypes={library:Wt.a.object,accessGroups:Wt.a.object,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Zr=Yr,Qr=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentLibrary({libraryId:t.libraryId});case 3:return a.next=5,t.ListAccessGroups({params:{}});case 5:return a.next=7,t.ListContentLibraryGroupPermissions({libraryId:t.libraryId});case 7:case"end":return a.stop()}},_callee)}));return function LoadLibrary(t){return e.apply(this,arguments)}}(),Xr=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.UpdateContentLibraryGroup(m()({libraryId:t.libraryId},a));case 3:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),en=pr(Zr),tn=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],accessGroups:e.accessGroups.accessGroups}},function mapDispatchToProps(e){return At(e,[pa,br,ma,ha,xa])})(function ContentLibraryGroupFormContainer(e){var t=e.libraryId||e.match.params.libraryId;return o.a.createElement(en,Pt()({},e,{libraryId:t,Load:Qr,methods:{Submit:Xr}}))}),an=a(88),rn=a.n(an),nn=a(288),on=a.n(nn),sn=function(e){function DashVideo(e){var t;return rt()(this,DashVideo),(t=ct()(this,lt()(DashVideo).call(this,e))).state={videoRef:o.a.createRef()},t}return pt()(DashVideo,e),ot()(DashVideo,[{key:"componentDidMount",value:function componentDidMount(){on.a.MediaPlayer().create().initialize(this.state.videoRef.current,this.props.videoUrl,!1)}},{key:"render",value:function render(){return o.a.createElement("video",{className:"dash-video "+this.props.className,ref:this.state.videoRef,controls:!0})}}]),DashVideo}(o.a.Component);sn.propTypes={videoUrl:Wt.a.string.isRequired,className:Wt.a.string};var cn=sn,ln=function(e){function FileUploadWidget(e){var t;return rt()(this,FileUploadWidget),(t=ct()(this,lt()(FileUploadWidget).call(this,e))).state={files:"",directories:!1},t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(FileUploadWidget,e),ot()(FileUploadWidget,[{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.Upload(this.props.path,this.state.files);case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=this;return o.a.createElement("div",{className:"upload-widget"},o.a.createElement("div",{className:"modal-error"},this.state.error),o.a.createElement(_t.h,{legend:"Upload files to "+this.props.displayPath,status:this.props.uploadStatus,OnSubmit:this.HandleSubmit,OnCancel:this.props.OnCancel,OnError:function OnError(t){return e.setState({error:t})},OnComplete:this.props.OnComplete},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"directories"},"Type"),o.a.createElement(_t.m,{name:"directories",inline:!0,options:[["Files",!1],["Directory",!0]],selected:this.state.directories,onChange:function onChange(t){return e.setState({directories:t.target.value})}}),o.a.createElement("label",{htmlFor:"files"},this.state.directories?"Directory":"Files"),o.a.createElement(_t.d,{name:"files",onChange:function onChange(t){return e.setState({files:t.target.files})},directories:this.state.directories,multiple:!0,progress:this.props.progress}))))}}]),FileUploadWidget}(o.a.Component);ln.propTypes={path:Wt.a.string.isRequired,displayPath:Wt.a.string.isRequired,progress:Wt.a.object,uploadStatus:Wt.a.object,Upload:Wt.a.func.isRequired,OnComplete:Wt.a.func.isRequired,OnCancel:Wt.a.func};var un=ln,pn=a(289),dn=a.n(pn),mn=a(290),hn=a.n(mn),bn=a(291),fn=a.n(bn),yn=a(292),vn=a.n(yn),gn=a(293),xn=a.n(gn),Cn=function(e){function FileBrowser(e){var t;return rt()(this,FileBrowser),(t=ct()(this,lt()(FileBrowser).call(this,e))).state={path:".",displayPath:"/",currentDir:t.props.files,showUpload:!1},t}return pt()(FileBrowser,e),ot()(FileBrowser,[{key:"ChangeDirectory",value:function ChangeDirectory(e){var t="."===(e=ia.a.normalize(e))?this.props.files:Object(P.f)(this.props.files,e.split(ia.a.sep));this.setState({path:e,displayPath:"."===e?"/":"/"+e,currentDir:t})}},{key:"File",value:function File(e,t){var a=this,r=rn()(t.size||0);return o.a.createElement("tr",{key:"entry-".concat(this.state.path,"-").concat(e)},o.a.createElement("td",{className:"item-icon"},o.a.createElement(_t.j,{icon:hn.a,label:"File"})),o.a.createElement("td",{title:e},e),o.a.createElement("td",{title:r,className:"info-cell"},r),o.a.createElement("td",{className:"actions-cell"},o.a.createElement(_t.i,{icon:fn.a,label:"Download "+e,onClick:function onClick(){return a.props.Download(F()(a.state.path,e))},className:"download-button"}),o.a.createElement(_t.b,{Load:S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.props.FileUrl(F()(a.state.path,e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee)}))},o.a.createElement(_t.i,{icon:xn.a,label:"Copy direct link to "+e,className:"copy-button"}))))}},{key:"Directory",value:function Directory(e){var t=this,a=function changeDirectory(){return t.ChangeDirectory(F()(t.state.path,e.name))};return o.a.createElement("tr",{key:"entry-".concat(this.state.path,"-").concat(e.name),className:"directory",onClick:a,onKeyPress:a},o.a.createElement("td",{className:"item-icon"},o.a.createElement(_t.j,{icon:dn.a,label:"Directory"})),o.a.createElement("td",{tabIndex:"0",title:e.name},e.name),o.a.createElement("td",{className:"info-cell"},Object.keys(e.item).length-1+" Items"),o.a.createElement("td",null))}},{key:"Items",value:function Items(){var e=this,t=Object.keys(this.state.currentDir).filter(function(e){return"."!==e}).map(function(t){return{name:t,item:e.state.currentDir[t],info:e.state.currentDir[t]["."]}});return 0===t.length?o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,"No files"),o.a.createElement("td",null),o.a.createElement("td",null)):t.sort(function(e,t){return e.info.type!==t.info.type?"directory"===e.info.type?-1:1:e.name.toLowerCase()>t.name.toLowerCase()}).map(function(t){return"directory"===t.info.type?e.Directory(t):e.File(t.name,t.info)})}},{key:"UploadModal",value:function UploadModal(){var e=this;if(!this.state.showUpload)return null;var t=function closeModal(){return e.setState({showUpload:!1})};return o.a.createElement(_t.l,{closable:!0,OnClickOutside:t},o.a.createElement(un,{path:this.state.path,displayPath:this.state.displayPath,files:this.props.files,uploadStatus:this.props.uploadStatus,Upload:this.props.Upload,OnComplete:function OnComplete(){t(),e.props.Reload()},OnCancel:t}))}},{key:"render",value:function render(){var e,t=this;return this.state.path&&this.state.path!==ia.a.dirname(this.state.path)&&(e=o.a.createElement(_t.i,{icon:vn.a,label:"Back",onClick:function onClick(){return t.ChangeDirectory(ia.a.dirname(t.state.path))}})),o.a.createElement("div",{className:"file-browser"},this.UploadModal(),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"type-header"},e),o.a.createElement("th",{title:"Current Directory: "+this.state.displayPath,tabIndex:"0"},this.state.displayPath),o.a.createElement("th",{className:"size-header"}),o.a.createElement("th",{className:"actions-header"},o.a.createElement(_t.a,{onClick:function onClick(){return t.setState({showUpload:!0})}},"Upload")))),o.a.createElement("tbody",null,this.Items())))}}]),FileBrowser}(o.a.Component);Cn.propTypes={files:Wt.a.object.isRequired,uploadStatus:Wt.a.object.isRequired,Upload:Wt.a.func.isRequired,Download:Wt.a.func.isRequired,FileUrl:Wt.a.func.isRequired,Reload:Wt.a.func.isRequired};var kn=Cn,wn=a(202),In=a.n(wn);if(!("toJSON"in Error.prototype)){var En=["columnNumber","fileName","lineNumber"];Object.defineProperty(Error.prototype,"toJSON",{value:function value(){var e=this,t={};return Object.getOwnPropertyNames(this).forEach(function(a){En.includes(a)||(t[a]=e[a])},this),t},configurable:!0,writable:!0})}var _n=function(e){function IFrameBase(){return rt()(this,IFrameBase),ct()(this,lt()(IFrameBase).apply(this,arguments))}return pt()(IFrameBase,e),ot()(IFrameBase,[{key:"SandboxPermissions",value:function SandboxPermissions(){return["allow-scripts","allow-forms","allow-modals","allow-pointer-lock","allow-orientation-lock","allow-popups","allow-presentation"].join(" ")}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return this.props.appUrl!==e.appUrl}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("message",this.props.listener)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.props.listener)}},{key:"render",value:function render(){return o.a.createElement("iframe",{ref:this.props.appRef,src:this.props.appUrl,allow:"encrypted-media *",sandbox:this.SandboxPermissions(),className:"app-frame "+(this.props.className||"")})}}]),IFrameBase}(o.a.Component);_n.propTypes={appUrl:Wt.a.string.isRequired,appRef:Wt.a.object.isRequired,listener:Wt.a.func.isRequired,className:Wt.a.string};var jn=o.a.forwardRef(function(e,t){return o.a.createElement(_n,Pt()({appRef:t},e))}),Sn=function(e){function AppFrame(e){var t;return rt()(this,AppFrame),(t=ct()(this,lt()(AppFrame).call(this,e))).state={appRef:o.a.createRef()},t.ApiRequestListener=t.ApiRequestListener.bind(Ua()(t)),t}var t;return pt()(AppFrame,e),ot()(AppFrame,[{key:"AppUrl",value:function AppUrl(){var e=this,t=this.props.appUrl;if(this.props.queryParams){var a=In()(t);Object.keys(this.props.queryParams).forEach(function(t){a.addSearch(t,e.props.queryParams[t])}),t=a.toString()}return t}},{key:"Respond",value:function Respond(e,t,a){(function IsCloneable(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return IsCloneable(e[t])});case"Map":return I()(e.keys()).every(IsCloneable)&&I()(e.values()).every(IsCloneable);case"Set":return I()(e.keys()).every(IsCloneable);default:return!1}})(a=m()({},a,{requestId:e,type:"ElvFrameResponse"}))||(a=JSON.parse(JSON.stringify(a)));try{t.postMessage(a,"*")}catch(e){console.error(a),console.error(e)}}},{key:"ApiRequestListener",value:(t=S()(_.a.mark(function _callee(e){var t=this;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(e&&e.data&&"ElvFrameRequest"===e.data.type){a.next=2;break}return a.abrupt("return");case 2:if(e.data.operation){a.next=7;break}return a.next=5,Qe.ExecuteFrameRequest({request:e.data,Respond:function Respond(a){return t.Respond(a.requestId,e.source,a)}});case 5:a.next=21;break;case 7:a.t0=e.data.operation,a.next="Complete"===a.t0?10:"Cancel"===a.t0?14:"SetFrameDimensions"===a.t0?18:21;break;case 10:if(!this.props.onComplete){a.next=13;break}return a.next=13,this.props.onComplete();case 13:return a.abrupt("break",21);case 14:if(!this.props.onCancel){a.next=17;break}return a.next=17,this.props.onCancel();case 17:return a.abrupt("break",21);case 18:return e.data.width&&(this.state.appRef.current.style.width=Math.min(parseInt(e.data.width),1200)+"px"),e.data.height&&(this.state.appRef.current.style.height=Math.min(parseInt(e.data.height),1200)+"px"),a.abrupt("break",21);case 21:case"end":return a.stop()}},_callee,this)})),function ApiRequestListener(e){return t.apply(this,arguments)})},{key:"render",value:function render(){return o.a.createElement(jn,{ref:this.state.appRef,appUrl:this.AppUrl(),listener:this.ApiRequestListener,className:this.props.className})}}]),AppFrame}(o.a.Component);Sn.propTypes={appUrl:Wt.a.string.isRequired,queryParams:Wt.a.object,onComplete:Wt.a.func,onCancel:Wt.a.func,className:Wt.a.string};var An=Sn,Ln=function(e){function ContentObject(e){var t;rt()(this,ContentObject),t=ct()(this,lt()(ContentObject).call(this,e));var a=e.object.typeInfo||{},r="info",n=e.object.displayAppUrl||a.displayAppUrl;return e.view?r=e.view:(n||e.object.videoUrl)&&e.object.isContentType,t.state={visibleVersions:{},appRef:o.a.createRef(),view:r,displayAppUrl:n,typeId:a.id||"",typeHash:a.hash,typeName:a.meta&&a.meta.name?a.meta.name:a.hash,partDownloadProgress:{}},t.PageContent=t.PageContent.bind(Ua()(t)),t.SubmitContentObject=t.SubmitContentObject.bind(Ua()(t)),t}var t;return pt()(ContentObject,e),ot()(ContentObject,[{key:"SubmitContentObject",value:(t=S()(_.a.mark(function _callee2(e){var t=this;return _.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_t.e)({message:e,onConfirm:function(){var e=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.methods.PublishContentObject({objectId:t.props.objectId});case 2:return e.next=4,t.props.Load({componentParams:{view:"info"}});case 4:case"end":return e.stop()}},_callee)}));return function onConfirm(){return e.apply(this,arguments)}}()});case 2:case"end":return a.stop()}},_callee2)})),function SubmitContentObject(e){return t.apply(this,arguments)})},{key:"DeleteContentObject",value:function(){var e=S()(_.a.mark(function _callee4(){var e=this;return _.a.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_t.e)({message:"Are you sure you want to delete this content object?",onConfirm:function(){var t=S()(_.a.mark(function _callee3(){return _.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.methods.DeleteContentObject({libraryId:e.props.libraryId,objectId:e.props.objectId});case 2:case"end":return t.stop()}},_callee3)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee4)}));return function DeleteContentObject(){return e.apply(this,arguments)}}()},{key:"DeleteVersionButton",value:function DeleteVersionButton(e){var t=this;if(1===this.props.object.versions.length)return null;var a=function(){var a=S()(_.a.mark(function _callee6(){return _.a.wrap(function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_t.e)({message:"Are you sure you want to delete this content version?",onConfirm:function(){var a=S()(_.a.mark(function _callee5(){return _.a.wrap(function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.props.methods.DeleteContentVersion({libraryId:t.props.libraryId,objectId:t.props.objectId,versionHash:e});case 2:return a.next=4,t.props.Load({componentParams:{view:"info"}});case 4:case"end":return a.stop()}},_callee5)}));return function onConfirm(){return a.apply(this,arguments)}}()});case 2:case"end":return a.stop()}},_callee6)}));return function DeleteVersion(){return a.apply(this,arguments)}}();return o.a.createElement(_t.k,{loading:this.props.methodStatus.DeleteContentVersion.loading,loadingIcon:"rotate"},o.a.createElement(_t.a,{className:"delete-action action-compact action-wide",onClick:a},"Delete Content Version"))}},{key:"ToggleVersion",value:function ToggleVersion(e){this.setState({visibleVersions:m()({},this.state.visibleVersions,y()({},e,!this.state.visibleVersions[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleVersions[t],n=(r?"Hide ":"Show ")+e;return o.a.createElement(_t.a,{className:"action-compact action-wide "+(r?"":"secondary"),onClick:function toggleVisible(){return a.ToggleVersion(t)}},n)}},{key:"PublishButton",value:function PublishButton(){var e=this;if(!this.props.object.isNormalObject)return null;var t=this.props.library.groups.reviewer.length>0;if(this.props.object.status.code<0&&this.props.object.isOwner){var a=t?"Submit for Review":"Publish",r=t?"Are you sure you want to submit this content object for review?":"Are you sure you want to publish this content object?";return o.a.createElement(_t.a,{onClick:function onClick(){return e.SubmitContentObject(r)}},a)}return this.props.object.status.code>0&&this.props.object.permissions.canReview?o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"review")},"Review"):void 0}},{key:"VersionSize",value:function VersionSize(e){return rn()(e.parts.reduce(function(e,t){return e+t.size},0))}},{key:"ToggleSection",value:function ToggleSection(e,t,a){var r,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this.state.visibleVersions[t];return s&&(r=n?o.a.createElement("pre",{className:"content-object-data"},JSON.stringify(a,null,2)):a),o.a.createElement("div",{className:"formatted-data"},o.a.createElement(Er,{label:e},this.ToggleButton(e,t)),r)}},{key:"ObjectMedia",value:function ObjectMedia(){var e,t;return this.props.object.imageUrl&&(e=o.a.createElement("div",{className:"object-image"},o.a.createElement("img",{src:this.props.object.imageUrl}))),this.props.object.meta["offering.en"]&&(t=o.a.createElement("div",{className:"object-video"},o.a.createElement(cn,{videoUrl:this.props.object.imageUrl}))),e||t?o.a.createElement("div",{className:"object-media"},t,e):null}},{key:"ObjectParts",value:function ObjectParts(e){var t=this;if(!e.parts||0===e.parts.length)return null;var a=this.props.object.meta["eluv-fb.parts"]||{},r={};Object.keys(a).forEach(function(e){r[a[e]]=e});var n=e.parts.map(function(a,n){var s=o.a.createElement(_t.a,{className:"action-compact secondary",onClick:S()(_.a.mark(function _callee8(){var n;return _.a.wrap(function _callee8$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.props.DownloadPart({libraryId:t.props.libraryId,objectId:t.props.objectId,versionHash:e.hash,partHash:a.hash,callback:function(){var r=S()(_.a.mark(function _callee7(r){var n,o;return _.a.wrap(function _callee7$(s){for(;;)switch(s.prev=s.next){case 0:n=r.bytesFinished,o=r.bytesTotal,t.setState({partDownloadProgress:m()({},t.state.partDownloadProgress,y()({},e.hash,m()({},t.state.partDownloadProgress[e.hash],y()({},a.hash,100*n/o))))});case 2:case"end":return s.stop()}},_callee7)}));return function callback(e){return r.apply(this,arguments)}}()});case 2:return n=o.sent,o.next=5,oa(n,r[a.hash]||a.hash);case 5:case"end":return o.stop()}},_callee8)}))},"Download"),c=t.state.partDownloadProgress[e.hash]&&t.state.partDownloadProgress[e.hash][a.hash],i=void 0!==c?o.a.createElement("span",{className:"download-progress"},o.a.createElement("progress",{value:c,max:100}),"".concat(c.toFixed(1),"%")):void 0,l=r[a.hash]?o.a.createElement(Er,{label:"Name",value:r[a.hash]}):null;return o.a.createElement("div",{key:a.hash+"-"+n,className:"part-info"},l,o.a.createElement(Er,{label:"Hash"},a.hash),o.a.createElement(Er,{label:"Size"},rn()(a.size)),o.a.createElement(Er,{label:"Download"},i||s))});return o.a.createElement("div",null,o.a.createElement("h3",null,"Parts"),n)}},{key:"ObjectFiles",value:function ObjectFiles(){var e=this,t=function(){var t=S()(_.a.mark(function _callee9(t){return _.a.wrap(function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.DownloadFile({libraryId:e.props.libraryId,objectId:e.props.objectId,filePath:t});case 2:case"end":return a.stop()}},_callee9)}));return function downloadMethod(e){return t.apply(this,arguments)}}(),a=function(){var t=S()(_.a.mark(function _callee10(t,a){return _.a.wrap(function _callee10$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.props.methods.UploadFiles({libraryId:e.props.libraryId,objectId:e.props.objectId,path:t,fileList:a});case 2:case"end":return r.stop()}},_callee10)}));return function uploadMethod(e,a){return t.apply(this,arguments)}}(),r=function(){var t=S()(_.a.mark(function _callee11(t){return _.a.wrap(function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.FileUrl({libraryId:e.props.libraryId,objectId:e.props.objectId,filePath:t});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_callee11)}));return function urlMethod(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"object-files"},o.a.createElement("h3",null,"Files"),o.a.createElement(kn,{files:this.props.object.meta.files||{},Reload:function Reload(){return e.props.Load({componentParams:{view:"files"}})},uploadStatus:this.props.methodStatus.UploadFiles,Upload:a,Download:t,FileUrl:r}))}},{key:"ObjectVersion",value:function ObjectVersion(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r||this.state.visibleVersions[e.hash];return a=r?o.a.createElement("h3",null,"Latest Version"):o.a.createElement(Er,{label:"Version "+t},this.ToggleButton("Version",e.hash)),n?o.a.createElement("div",{key:"version-"+t,className:"version-info "+(r?"":"indented version-visible")},a,o.a.createElement("div",{className:"indented"},o.a.createElement(Er,{label:"Hash",copyValue:e.hash},e.hash),o.a.createElement(Er,{label:"Parts"},e.parts.length),o.a.createElement(Er,{label:"Total size"},this.VersionSize(e)),this.ToggleSection("Metadata","metadata-"+t,e.meta),this.ToggleSection("Verification","verification-"+t,e.verification),this.ToggleSection("Parts","parts-"+t,this.ObjectParts(e),!1),o.a.createElement("br",null),o.a.createElement(Er,{hidden:!0},this.DeleteVersionButton(e.hash)))):o.a.createElement("div",{key:"version-"+t,className:"version-info indented"},a)}},{key:"PreviousVersions",value:function PreviousVersions(){var e=this;return this.props.object.versions.length<2?null:o.a.createElement("div",null,o.a.createElement("h3",null,"Previous Versions"),this.props.object.versions.slice(1).map(function(t,a){var r=-1*(a+1-e.props.object.versions.length);return e.ObjectVersion(t,r)}))}},{key:"ContractInfo",value:function ContractInfo(){var e=[];if(e.push(o.a.createElement(Er,{key:"contract-address",label:"Contract Address"},o.a.createElement(bt.a,{className:"inline-link",to:F()(this.props.match.url,"contract")},this.props.object.contractAddress))),!this.props.object.isContentLibraryObject&&this.props.object.customContractAddress){var t=this.props.object.customContractAddress;e.push(o.a.createElement(Er,{key:"contract-"+t,label:"Custom Contract"},o.a.createElement(bt.a,{className:"inline-link",to:F()(this.props.match.url,"custom-contract")},t)))}return e}},{key:"ObjectStatus",value:function ObjectStatus(){if(!this.props.object.isNormalObject)return null;var e,t;if(this.props.object.meta["eluv.reviewNote"]){t=o.a.createElement(Er,{label:"Reviewer"},this.props.object.meta["eluv.reviewer"]);var a=o.a.createElement(jr,{className:"object-description",text:this.props.object.meta["eluv.reviewNote"]});e=o.a.createElement(Er,{label:"Review Note"},a)}return o.a.createElement("div",null,o.a.createElement(Er,{label:"Status"},this.props.object.status.description),t,e)}},{key:"ObjectInfo",value:function ObjectInfo(){var e,t=this.props.object.versions[0],a=o.a.createElement(jr,{className:"object-description",text:this.props.object.description});return this.props.object.accessInfo&&(e=o.a.createElement(Er,{label:"Access charge"},Object(P.a)(this.props.object.accessInfo.accessCharge))),o.a.createElement("div",{className:"object-info label-box"},o.a.createElement(Er,{label:"Name"},this.props.object.name),o.a.createElement(Er,{label:"Description",alignTop:!0},a),e,o.a.createElement("br",null),o.a.createElement(Er,{label:"Library ID",hidden:this.props.object.isContentType},o.a.createElement(bt.a,{className:"inline-link",to:F()("/content",this.props.libraryId)},this.props.libraryId)),o.a.createElement(Er,{label:"Object ID"},this.props.objectId),o.a.createElement(Er,{label:"Type",hidden:this.props.object.isContentType},o.a.createElement(bt.a,{className:"inline-link",to:F()("/content-types",this.state.typeId)},this.state.typeName||this.state.typeId)),o.a.createElement(Er,{label:"Type Hash",hidden:this.props.object.isContentType,copyValue:this.state.typeHash},this.state.typeHash),this.ContractInfo(),o.a.createElement(Er,{label:"Owner"},this.props.object.owner),o.a.createElement("br",null),o.a.createElement(Er,{label:"Versions"},this.props.object.versions.length),o.a.createElement(Er,{label:"Parts"},t.parts.length),o.a.createElement(Er,{label:"Total size"},this.VersionSize(t)),this.ObjectVersion(this.props.object.versions[0],this.props.object.versions.length,!0),this.PreviousVersions())}},{key:"Actions",value:function Actions(){var e,t,a,r=this;return this.props.object.isOwner&&(e=o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"apps")},"Apps")),!this.props.object.customContractAddress&&(this.props.object.isNormalObject||this.props.object.isContentType)&&this.props.object.isOwner&&(t=o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"deploy")},"Custom Contract")),this.props.object.isContentLibraryObject||(a=o.a.createElement(_t.a,{className:"delete-action",onClick:function onClick(){return r.DeleteContentObject()}},"Delete")),o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"edit")},"Manage"),t,o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"upload")},"Upload Parts"),e,a)}},{key:"DisplayVideo",value:function DisplayVideo(){return o.a.createElement("div",{className:"video-player"},o.a.createElement("video",{poster:this.props.object.imageUrl,controls:!0},o.a.createElement("source",{src:this.props.object.videoUrl})))}},{key:"AppFrame",value:function AppFrame(){var e=this;if(!this.state.displayAppUrl)return null;var t={contentSpaceId:Qe.contentSpaceId,libraryId:this.props.libraryId,objectId:this.props.objectId,type:this.state.typeHash,action:"display"};return o.a.createElement(An,{className:"display-frame",appUrl:this.state.displayAppUrl,queryParams:t,onComplete:this.LoadObject,onCancel:function onCancel(){return e.setState({deleted:!0})}})}},{key:"Tabs",value:function Tabs(){var e=this,t=[["Content Info","info"],["Files","files"]];return(this.state.displayAppUrl||this.props.object.videoUrl)&&t.unshift(["Display","display"]),o.a.createElement(_t.n,{options:t,selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}})}},{key:"PageContent",value:function PageContent(){return this.props.methodStatus.DeleteContentObject.completed?o.a.createElement(qt.a,{push:!0,to:ia.a.dirname(this.props.match.url)}):(e=this.props.object.isContentLibraryObject?this.props.library.name+" > Library Object":this.props.object.isContentType?"Content Types > "+this.props.object.name:this.props.library.name+" > "+this.props.object.name,t="display"===this.state.view?this.state.displayAppUrl?this.AppFrame():this.DisplayVideo():"info"===this.state.view?o.a.createElement("div",null,this.ObjectMedia(),this.ObjectInfo()):this.ObjectFiles(),o.a.createElement("div",{className:"page-container content-page-container"},this.Actions(),o.a.createElement(za,{header:e,subHeader:this.props.object.description}),this.Tabs(),o.a.createElement("div",{className:"page-content"},t)));var e,t}},{key:"render",value:function render(){var e=this.props.methodStatus.DeleteContentObject.loading||this.props.methodStatus.PublishContentObject.loading;return o.a.createElement(_t.k,{fullPage:!0,loading:e,render:this.PageContent})}}]),ContentObject}(o.a.Component);Ln.propTypes={libraryId:Wt.a.string.isRequired,library:Wt.a.object.isRequired,objectId:Wt.a.string.isRequired,object:Wt.a.object.isRequired,methods:Wt.a.shape({UploadFiles:Wt.a.func.isRequired,DeleteContentObject:Wt.a.func.isRequired,DeleteContentVersion:Wt.a.func.isRequired}),DownloadPart:Wt.a.func.isRequired,DownloadFile:Wt.a.func.isRequired};var Fn=Ln,Tn=function(){var e=S()(_.a.mark(function _callee(e){var t,a,r;return _.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.props,a=t.libraryId,r=t.objectId,n.next=5,t.GetContentLibrary({libraryId:a});case 5:return n.next=7,t.GetContentObject({libraryId:a,objectId:r});case 7:return n.next=9,t.GetContentObjectVersions({libraryId:a,objectId:r});case 9:case"end":return n.stop()}},_callee)}));return function LoadObject(t){return e.apply(this,arguments)}}(),Nn=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.PublishContentObject(a);case 3:case"end":return r.stop()}},_callee2)}));return function Publish(t){return e.apply(this,arguments)}}(),On=function(){var e=S()(_.a.mark(function _callee3(e){var t,a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.UploadFiles(a);case 3:case"end":return r.stop()}},_callee3)}));return function Upload(t){return e.apply(this,arguments)}}(),Rn=function(){var e=S()(_.a.mark(function _callee4(e){var t,a;return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.DeleteContentVersion(a);case 3:case"end":return r.stop()}},_callee4)}));return function DeleteVersion(t){return e.apply(this,arguments)}}(),Gn=function(){var e=S()(_.a.mark(function _callee5(e){var t,a;return _.a.wrap(function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.DeleteContentObject(a);case 3:case"end":return r.stop()}},_callee5)}));return function Delete(t){return e.apply(this,arguments)}}(),Mn=pr(Fn),Pn=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId]}},function mapDispatchToProps(e){return At(e,[pa,wa,Ia,ma,Ea,Ta,Fa,Ma,Ha,Pa,Da,Aa])})(function ContentObjectContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId;return o.a.createElement(Mn,Pt()({},e,{libraryId:t,objectId:a,Load:Tn,methods:{PublishContentObject:Nn,UploadFiles:On,DeleteContentVersion:Rn,DeleteContentObject:Gn}}))}),Hn=[{key:"name",label:"Name",type:"string",required:!0},{key:"eluv.description",label:"Description",type:"text",required:!1}],Dn=function(e){function ContentObjectForm(e){var t;return rt()(this,ContentObjectForm),(t=ct()(this,lt()(ContentObjectForm).call(this,e))).state={completed:!1,metadata:"",uploadStatus:{}},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleFieldChange=t.HandleFieldChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t.HandleTypeChange=t.HandleTypeChange.bind(Ua()(t)),t.RemoveElement=t.RemoveElement.bind(Ua()(t)),t.FrameCompleted=t.FrameCompleted.bind(Ua()(t)),t.UploadStatusCallback=t.UploadStatusCallback.bind(Ua()(t)),t}var t;return pt()(ContentObjectForm,e),ot()(ContentObjectForm,[{key:"componentDidMount",value:function componentDidMount(){this.Initialize()}},{key:"FormatType",value:function FormatType(e){if(!e.hash)return e;var t=e.meta&&e.meta.name||e.hash;return m()({},e,{name:t,schema:e.meta&&e.meta["eluv.schema"],allowCustomMetadata:e.meta&&e.meta["eluv.allowCustomMetadata"]})}},{key:"Initialize",value:function Initialize(){var e=this,t="",a={},r="",n=0;if(this.props.createForm){var o={};Object.values(this.props.library.types).forEach(function(e){return o[e.hash]=e}),Object.keys(o).length>0?(t=Object.values(o)[0].hash,a=o):Object.values(this.props.types).forEach(function(e){return a[e.hash]=e}),Object.values(a).forEach(function(t){return a[t.hash]=e.FormatType(t)})}else{var s=this.props.object;r=JSON.stringify(s.meta,null,2),n=s.accessInfo&&s.accessInfo.accessCharge,t=s.type,s.typeInfo&&(a=y()({},t,this.FormatType(s.typeInfo)))}this.setState({types:a,type:t,metadata:r,accessCharge:n}),this.SwitchType(a,t)}},{key:"SwitchType",value:function SwitchType(e,t){var a,r=this.props.object,n=t&&e[t]||{},o=!1,s=n.schema||Hn;r&&r.manageAppUrl&&!r.isContentType?(a=r.manageAppUrl,o=!0):n.manageAppUrl&&(a=n.manageAppUrl,o=!0);var c=!n.schema||n.allowCustomMetadata,i=this.props.createForm?void 0:this.props.object.meta,l=ta({schema:s,initialData:i});this.setState({type:t,fields:l,schema:s,allowCustomMetadata:c,manageAppUrl:a,showManageApp:o})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleTypeChange",value:function HandleTypeChange(e){this.SwitchType(this.state.types,e.target.value)}},{key:"HandleFieldChange",value:function HandleFieldChange(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.target.value;"file"===t.type?r=e.target.files:"boolean"===t.type&&(r=e.target.checked),this.setState({fields:na({data:this.state.fields,subtree:a,attr:t.key,value:r})})}},{key:"RemoveElement",value:function RemoveElement(e,t){this.setState({fields:ra({data:this.state.fields,subtree:e,attr:t})})}},{key:"UploadStatusCallback",value:function UploadStatusCallback(e){var t=e.key,a=e.uploaded,r=e.total,n=e.filename,o="".concat((100*a/r).toFixed(1),"%");this.setState({uploadStatus:m()({},this.state.uploadStatus,y()({},t,m()({},(this.state.uploadStatus||{})[t],y()({},n,o))))})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e;return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e="[none]"===this.state.type?"":this.state.type,t.next=3,this.props.methods.Submit({type:e,libraryId:this.props.libraryId,objectId:this.props.objectId,schema:this.state.schema,fields:this.state.fields,metadata:this.state.metadata,accessCharge:this.state.accessCharge,callback:this.UploadStatusCallback});case 3:case"end":return t.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"TypeField",value:function TypeField(){if(this.props.createForm){var e=Object.values(this.state.types).sort(function(e,t){return e.name>t.name?1:-1}).map(function(e){var t=e.name,a=e.hash;return o.a.createElement("option",{key:"type-"+a,name:"type",value:a},t)});return this.props.library.types&&0!==Object.keys(this.props.library.types).length||e.unshift(o.a.createElement("option",{key:"type-none",name:"type",value:""},"[none]")),[o.a.createElement("label",{key:"type-field-label",htmlFor:"type"},"Content Type"),o.a.createElement("select",{key:"type-field",name:"type",value:this.state.type,onChange:this.HandleTypeChange},e)]}}},{key:"BuildField",value:function BuildField(e){var t,a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function onChange(t){return a.HandleFieldChange(t,e,r)},s="field-".concat(this.state.type,"-").concat(r.join("-"),"-").concat(e.key),c=aa({data:this.state.fields,subtree:r,attr:e.key}),i=void 0!==e.label?e.label:e.key;switch(e.type){case"label":t=o.a.createElement("div",{key:s,className:"form-text"},e.text);break;case"attachedFile":t=o.a.createElement(_t.a,{key:s,className:"action-compact secondary action-full-width",onClick:S()(_.a.mark(function _callee3(){var t;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(t=a.state.types[a.state.type],!e.hash){r.next=4;break}return r.next=4,a.props.DownloadPart({libraryId:Qe.contentSpaceLibraryId,objectId:t.id,versionHash:t.hash,partHash:e.hash,callback:function(){var t=S()(_.a.mark(function _callee2(t){return _.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,oa(t,e.filename||i);case 2:case"end":return a.stop()}},_callee2)}));return function callback(e){return t.apply(this,arguments)}}()});case 4:case"end":return r.stop()}},_callee3)}))},"Download");break;case"string":t=o.a.createElement("input",{key:s,name:e.key,required:e.required,value:c,onChange:n});break;case"text":t=o.a.createElement("textarea",{key:s,name:e.key,required:e.required,value:c,onChange:n});break;case"integer":t=o.a.createElement("input",{key:s,name:e.key,required:e.required,value:c,type:"number",step:1,onChange:n});break;case"number":t=o.a.createElement("input",{key:s,name:e.key,required:e.required,value:c,type:"number",step:1e-12,onChange:n});break;case"boolean":t=o.a.createElement("input",{key:s,name:e.key,required:e.required,checked:c,type:"checkbox",onChange:n});break;case"choice":return o.a.createElement(_t.m,{key:s,name:e.key,required:e.required,selected:c,options:e.options,onChange:n});case"json":t=o.a.createElement(Yt,{key:s,UpdateValue:function UpdateValue(t){return a.HandleFieldChange({target:{value:t}},e,r)},onChange:n,name:e.key,value:c});break;case"file":var l=e.required&&this.props.createForm;t=o.a.createElement(_t.d,{key:s,accept:e.accept,name:e.key,onChange:n,multiple:e.multiple,required:l,preview:e.preview,progress:this.state.uploadStatus[e.key]||{}});break;case"list":var u=Object.keys(c).map(function(t){var n={key:t,type:"list-element"};return a.BuildField(n,r.concat(e.key))});t=o.a.createElement("div",{key:s,className:"full-width"},o.a.createElement(_t.a,{onClick:function onClick(){return a.HandleFieldChange({target:{value:""}},{key:Qt.next()},r.concat(e.key))}},"Add Element"),o.a.createElement("div",{className:"list"},u));break;case"list-element":return o.a.createElement("div",{key:s,className:"list-item"},o.a.createElement("input",{name:e.key,required:e.required,value:c,onChange:n}),o.a.createElement(_t.i,{icon:qr.a,label:"Remove Element",onClick:function onClick(){return a.RemoveElement(r,e.key)}}));case"object":var p=this.BuildType(e.fields,r.concat([e.key]));if(e.flattenDisplay)return p;t=o.a.createElement("div",{key:s,className:"form-content no-margins"},p)}return[o.a.createElement("label",{key:s+"-label",className:["label","list","text","json","object","file"].includes(e.type)?"align-top":"",htmlFor:name},i),t]}},{key:"BuildType",value:function BuildType(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){return t.BuildField(e,a)})}},{key:"MetadataField",value:function MetadataField(){var e=this;return[o.a.createElement("label",{key:"metadata-input-label",className:"align-top"},"Metadata"),o.a.createElement(Yt,{key:"metadata-input",UpdateValue:function UpdateValue(t){return e.setState({metadata:t})},onChange:this.HandleInputChange,name:"metadata",value:this.state.metadata})]}},{key:"AccessChargeField",value:function AccessChargeField(){return[o.a.createElement("label",{key:"access-charge-label",htmlFor:"accessCharge"},"Access Charge"),o.a.createElement("input",{key:"access-charge",type:"number",step:1e-7,name:"accessCharge",value:this.state.accessCharge||0,onChange:this.HandleInputChange})]}},{key:"FrameCompleted",value:function FrameCompleted(){this.setState({completed:!0})}},{key:"AppFormSelection",value:function AppFormSelection(){var e=this;return this.state.manageAppUrl?o.a.createElement(_t.n,{className:"compact",selected:this.state.showManageApp,onChange:function onChange(t){return e.setState({showManageApp:t})},options:[["App",!0],["Form",!1]]}):null}},{key:"AppFrame",value:function AppFrame(e){var t={contentSpaceId:Qe.contentSpaceId,libraryId:this.props.libraryId,objectId:this.props.objectId,type:this.state.type,action:"manage"};return o.a.createElement("form",null,o.a.createElement("fieldset",null,o.a.createElement("legend",null,e),this.AppFormSelection(),this.TypeField(),o.a.createElement("br",null),o.a.createElement(An,{appUrl:this.state.manageAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted,className:"form-frame"}),o.a.createElement("div",{className:"form-actions"},o.a.createElement(_t.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"FormContent",value:function FormContent(e,t,a){return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:e,redirectPath:t,cancelPath:a,status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",null,this.AppFormSelection(),o.a.createElement("div",{className:"form-content"},this.TypeField(),this.BuildType(this.state.schema),this.MetadataField(),this.AccessChargeField()))))}},{key:"render",value:function render(){if(!this.state.schema&&!this.state.manageAppUrl)return null;var e=this.props.createForm?"Contribute content":"Manage content",t=ia.a.dirname(this.props.match.url);this.props.createForm&&(t=this.props.objectId?F()(ia.a.dirname(this.props.match.url),this.props.objectId):ia.a.dirname(this.props.match.url));var a=ia.a.dirname(this.props.match.url);return this.state.completed?o.a.createElement(qt.a,{push:!0,to:t}):this.state.manageAppUrl&&this.state.showManageApp?this.AppFrame(e):this.FormContent(e,t,a)}}]),ContentObjectForm}(o.a.Component);Dn.propTypes={libraryId:Wt.a.string.isRequired,library:Wt.a.object.isRequired,objectId:Wt.a.string,object:Wt.a.object,types:Wt.a.object.isRequired,createForm:Wt.a.bool.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Bn=Dn,$n=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentLibrary({libraryId:t.libraryId});case 3:if(!t.createForm){a.next=8;break}return a.next=6,t.ContentTypes();case 6:a.next=10;break;case 8:return a.next=10,t.GetContentObject({libraryId:t.libraryId,objectId:t.objectId});case 10:case"end":return a.stop()}},_callee)}));return function LoadObject(t){return e.apply(this,arguments)}}(),qn=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.props,a=e.params,!t.createForm){r.next=7;break}return r.next=4,t.CreateFromContentTypeSchema(a);case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,t.UpdateFromContentTypeSchema(a);case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Un=pr(Bn),zn=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId],types:e.content.allTypes}},function mapDispatchToProps(e){return At(e,[pa,ja,Sa,wa,Ra,da])})(function ContentObjectFormContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId,r=e.location.pathname.endsWith("create");return o.a.createElement(Un,Pt()({},e,{libraryId:t,objectId:a,createForm:r,Load:$n,methods:{Submit:qn}}))}),Vn=function(e){function ContentObjectPartsForm(e){var t;return rt()(this,ContentObjectPartsForm),(t=ct()(this,lt()(ContentObjectPartsForm).call(this,e))).state={encrypt:!0,progress:{}},t.HandleFileSelect=t.HandleFileSelect.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContentObjectPartsForm,e),ot()(ContentObjectPartsForm,[{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e,t=this;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=function callback(e){var a=e.uploaded,r=e.total,n=e.filename,o="".concat((100*a/r).toFixed(1),"%");t.setState({progress:m()({},t.state.progress,y()({},n,o))})},a.next=3,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,files:this.state.files,encrypt:this.state.encrypt,callback:e});case 3:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:"Upload parts",redirectPath:ia.a.dirname(this.props.match.url),cancelPath:ia.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"files",className:"align-top"},"Files"),o.a.createElement(_t.d,{name:"files",onChange:this.HandleFileSelect,required:!0,multiple:!0,progress:this.state.progress}),o.a.createElement("label",{htmlFor:"encrypt"},"Encrypt Parts"),o.a.createElement("input",{type:"checkbox",name:"encrypt",value:this.state.encrypt,checked:this.state.encrypt,onChange:function onChange(){e.setState({encrypt:!e.state.encrypt})}}))))}}]),ContentObjectPartsForm}(o.a.Component);Vn.propTypes={libraryId:Wt.a.string.isRequired,objectId:Wt.a.string.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Wn=Vn,Jn=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.UploadParts(a);case 3:case"end":return r.stop()}},_callee)}));return function Submit(t){return e.apply(this,arguments)}}(),Kn=pr(Wn),Yn=Object(c.c)(function mapStateToProps(){return{}},function mapDispatchToProps(e){return At(e,[Ga])})(function ContentObjectPartsFormContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId;return o.a.createElement(Kn,Pt()({},e,{libraryId:t,objectId:a,methods:{Submit:Jn}}))}),Zn=function(e){function ContentObjectReviewForm(e){var t;return rt()(this,ContentObjectReviewForm),(t=ct()(this,lt()(ContentObjectReviewForm).call(this,e))).state={approve:!0,note:"",reviewAppUrl:e.object.reviewAppUrl||e.object.typeInfo&&e.object.typeInfo.reviewAppUrl},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t.FrameCompleted=t.FrameCompleted.bind(Ua()(t)),t}var t;return pt()(ContentObjectReviewForm,e),ot()(ContentObjectReviewForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,approve:this.state.approve,note:this.state.note});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"FrameCompleted",value:function FrameCompleted(){this.setState({completed:!0})}},{key:"ReviewAppFrame",value:function ReviewAppFrame(e){var t={contentSpaceId:Qe.contentSpaceId,libraryId:this.props.libraryId,objectId:this.props.objectId,type:this.props.object.type,action:"review"};return o.a.createElement("form",null,o.a.createElement("fieldset",null,o.a.createElement("legend",null,e),o.a.createElement(An,{appUrl:this.state.reviewAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted}),o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"render",value:function render(){if(this.state.completed)return o.a.createElement(qt.a,{push:!0,to:ia.a.dirname(this.props.match.url)});var e='Review "'.concat(this.props.object.name,'"');return this.state.reviewAppUrl?this.ReviewAppFrame(e):o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:e,redirectPath:ia.a.dirname(this.props.match.url),cancelPath:ia.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"approve"},"Approval"),o.a.createElement(_t.m,{name:"approve",inline:!0,options:[["Approve",!0],["Reject",!1]],selected:this.state.approve,onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"note"},"Note"),o.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.HandleInputChange}))))}}]),ContentObjectReviewForm}(o.a.Component);Zn.propTypes={libraryId:Wt.a.string.isRequired,objectId:Wt.a.string.isRequired,object:Wt.a.object.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Qn=Zn,Xn=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentObject({libraryId:t.libraryId,objectId:t.objectId});case 3:case"end":return a.stop()}},_callee)}));return function LoadObject(t){return e.apply(this,arguments)}}(),eo=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ReviewContentObject(a);case 3:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),to=pr(Qn),ao=Object(c.c)(function mapStateToProps(e,t){return{object:e.content.objects[t.match.params.objectId]}},function mapDispatchToProps(e){return At(e,[wa,La])})(function ContentObjectReviewFormContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId;return o.a.createElement(to,Pt()({},e,{libraryId:t,objectId:a,Load:Xn,methods:{Submit:eo}}))}),ro=function(e){function ContentTypes(e){var t;return rt()(this,ContentTypes),(t=ct()(this,lt()(ContentTypes).call(this,e))).state={},t.ContentTypes=t.ContentTypes.bind(Ua()(t)),t}return pt()(ContentTypes,e),ot()(ContentTypes,[{key:"ContentTypes",value:function ContentTypes(){var e=this;return this.props.types?Object.keys(this.props.types).sort().map(function(t){var a=e.props.types[t];return{id:t,sortKey:a.name||"zz",title:a.name||"Content Type "+t,description:a.description,icon:yt.a,link:F()("/content-types",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"render",value:function render(){var e=this;return o.a.createElement("div",{className:"page-container contents-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:F()("/content-types","create")},"New Content Type")),o.a.createElement(za,{header:"Content Types"}),o.a.createElement("div",{className:"page-content"},o.a.createElement(ir,{pageId:"ContentTypes",paginate:!0,count:this.props.count,loadingStatus:this.props.methodStatus.ListContentTypes,LoadContent:function LoadContent(t){var a=t.params;return e.props.methods.ListContentTypes({params:a})},RenderContent:this.ContentTypes})))}}]),ContentTypes}(o.a.Component);ro.propTypes={types:Wt.a.object.isRequired,count:Wt.a.number.isRequired,methods:Wt.a.shape({ListContentTypes:Wt.a.func.isRequired})};var no=ro,oo=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListContentTypes(a);case 3:case"end":return r.stop()}},_callee)}));return function LoadTypes(t){return e.apply(this,arguments)}}(),so=pr(no),co=Object(c.c)(function mapStateToProps(e){return{types:e.content.types,count:e.content.count.types}},function mapDispatchToProps(e){return At(e,[Ca])})(function ContentTypeContainer(e){return o.a.createElement(so,Pt()({},e,{methods:{ListContentTypes:oo}}))}),io=function(e){function ContentTypeForm(e){var t;rt()(this,ContentTypeForm),t=ct()(this,lt()(ContentTypeForm).call(this,e));var a=e.object||{};return t.state={name:a.name||"",description:a.description||"",metadata:JSON.stringify(a.meta,null,2),isContentLibraryObject:a.isContentLibraryObject||!1,redirectPath:ia.a.dirname(t.props.match.url)},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleBitcodeChange=t.HandleBitcodeChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContentTypeForm,e),ot()(ContentTypeForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleBitcodeChange",value:function HandleBitcodeChange(e){this.setState({bitcode:e.target.files[0]})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e;return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,name:this.state.name,description:this.state.description,metadata:this.state.metadata,bitcode:this.state.bitcode});case 2:e=t.sent,this.setState({objectId:e});case 4:case"end":return t.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"BitcodeSelection",value:function BitcodeSelection(){return[o.a.createElement("label",{key:"bitcode-selection-label",htmlFor:"bitcode"},"Bitcode"),o.a.createElement(_t.d,{key:"bitcode-selection",name:"bitcode",required:!1,multiple:!1,accept:".bc",onChange:this.HandleBitcodeChange})]}},{key:"render",value:function render(){var e=this,t=this.props.createForm?"Create content type":"Manage content type",a=m()({},this.props.methodStatus.Submit);a.completed=a.completed&&!!this.state.objectId;var r=ia.a.dirname(this.props.match.url),n=this.props.createForm?F()(r,this.state.objectId||""):r;return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:t,redirectPath:n,cancelPath:r,status:a,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange,readOnly:this.state.isContentLibraryObject}),this.BitcodeSelection(),o.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),o.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"metadata"},"Metadata"),o.a.createElement(Yt,{name:"metadata",value:this.state.metadata,onChange:this.HandleInputChange,UpdateValue:function UpdateValue(t){return e.setState({metadata:t})}}))))}}]),ContentTypeForm}(o.a.Component);io.propTypes={libraryId:Wt.a.string.isRequired,objectId:Wt.a.string,object:Wt.a.object,createForm:Wt.a.bool.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var lo=io,uo=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if((t=e.props).createForm){a.next=6;break}return a.next=4,t.GetContentObject({libraryId:t.libraryId,objectId:t.objectId});case 4:return a.next=6,t.GetContentObjectVersions({libraryId:t.libraryId,objectId:t.objectId});case 6:case"end":return a.stop()}},_callee)}));return function LoadType(t){return e.apply(this,arguments)}}(),po=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.props,a=e.params,!t.createForm){r.next=7;break}return r.next=4,t.CreateContentType(a);case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,t.UpdateContentType(a);case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),mo=pr(lo),ho=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId],types:e.content.allTypes}},function mapDispatchToProps(e){return At(e,[wa,Ia,Na,Oa])})(function ContentTypeFormContainer(e){var t=e.libraryId,a=e.match.params.objectId,r=e.location.pathname.endsWith("create");return o.a.createElement(mo,Pt()({},e,{libraryId:t,objectId:a,createForm:r,Load:uo,methods:{Submit:po}}))}),bo=function(e){function ContentApps(e){var t;rt()(this,ContentApps),t=ct()(this,lt()(ContentApps).call(this,e));var a={};return t.AppRoles().map(function(t){var r=e.object.meta["eluv.".concat(t,"App")];r&&(a[t]={filename:r})}),t.state={apps:a},t.PageContent=t.PageContent.bind(Ua()(t)),t.DeleteApp=t.DeleteApp.bind(Ua()(t)),t}var t;return pt()(ContentApps,e),ot()(ContentApps,[{key:"AppRoles",value:function AppRoles(){return["display","manage","review"]}},{key:"DeleteApp",value:(t=S()(_.a.mark(function _callee2(e){var t=this;return _.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_t.e)({message:"Are you sure you want to remove the ".concat(e," app?"),onConfirm:function(){var a=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.props.methods.RemoveApp({libraryId:t.props.libraryId,objectId:t.props.objectId,role:e});case 2:return a.next=4,t.props.Load();case 4:case"end":return a.stop()}},_callee)}));return function onConfirm(){return a.apply(this,arguments)}}()});case 2:case"end":return a.stop()}},_callee2)})),function DeleteApp(e){return t.apply(this,arguments)})},{key:"AppEntry",value:function AppEntry(e){var t,a,r=this,n=this.state.apps[e];if(n)a=o.a.createElement(_t.a,{onClick:function onClick(){return r.DeleteApp(e)},className:"action delete-action action-compact action-wide"},"Remove ".concat(e.capitalize()," App")),t=o.a.createElement(Er,{label:"Name"},n.filename);else{a=o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,e,"add"),className:"action-compact action-wide"},"Add ".concat(e.capitalize()," App"));var s=this.props.object.typeInfo&&this.props.object.typeInfo.meta||{},c=s["eluv.".concat(e,"App")];if(c){var i=s.name||"content type";t=o.a.createElement(Er,{label:"Name"},"".concat(c," (").concat(i,")"))}}return o.a.createElement("div",{key:"app-entry"+e},o.a.createElement("h3",null,e.capitalize()),o.a.createElement("div",{className:"indented"},t,o.a.createElement(Er,null,a)))}},{key:"PageContent",value:function PageContent(){var e=this,t=this.props.object.isContentLibraryObject?this.props.library.name+" > Library Object":this.props.library.name+" > "+this.props.object.name;return o.a.createElement("div",{className:"page-container contracts-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(za,{header:t,subHeader:"App management"}),o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"label-box"},this.AppRoles().map(function(t){return e.AppEntry(t)}))))}},{key:"render",value:function render(){return o.a.createElement(_t.k,{fullPage:!0,render:this.PageContent,loading:this.props.methodStatus.RemoveApp.loading})}}]),ContentApps}(o.a.Component);bo.propTypes={libraryId:Wt.a.string.isRequired,library:Wt.a.object.isRequired,objectId:Wt.a.string.isRequired,object:Wt.a.object.isRequired,methods:Wt.a.shape({RemoveApp:Wt.a.func.isRequired})};var fo=bo,yo=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentLibrary({libraryId:t.libraryId});case 3:return a.next=5,t.GetContentObject({libraryId:t.libraryId,objectId:t.objectId});case 5:case"end":return a.stop()}},_callee)}));return function LoadObject(t){return e.apply(this,arguments)}}(),vo=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.RemoveApp(a);case 3:case"end":return r.stop()}},_callee2)}));return function Remove(t){return e.apply(this,arguments)}}(),go=pr(fo),xo=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId]}},function mapDispatchToProps(e){return At(e,[pa,wa,$a])})(function ContentAppsContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId;return o.a.createElement(go,Pt()({},e,{libraryId:t,objectId:a,Load:yo,methods:{RemoveApp:vo}}))}),Co=function(e){function ContentAppForm(e){var t;return rt()(this,ContentAppForm),(t=ct()(this,lt()(ContentAppForm).call(this,e))).state={role:t.props.match.params.role},t.HandleFileSelect=t.HandleFileSelect.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContentAppForm,e),ot()(ContentAppForm,[{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({appFile:e.target.files})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,role:this.state.role,file:this.state.appFile});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=this.props.object.isContentLibraryObject?this.props.library.name+" > Library Object":this.props.library.name+" > "+this.props.object.name;return o.a.createElement("div",{className:"page-container contracts-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(ia.a.dirname(this.props.match.url)),className:"secondary"},"Back")),o.a.createElement(za,{header:e,subHeader:"App management - ".concat(this.state.role.capitalize())}),o.a.createElement("div",{className:"page-content"},o.a.createElement(_t.h,{legend:"Add ".concat(this.state.role.capitalize()," App"),redirectPath:ia.a.dirname(ia.a.dirname(this.props.match.url)),cancelPath:ia.a.dirname(ia.a.dirname(this.props.match.url)),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"app",className:"align-top"},"App"),o.a.createElement(_t.d,{name:"app",onChange:this.HandleFileSelect,accept:"text/html",multiple:!1,required:!0})))))}}]),ContentAppForm}(o.a.Component);Co.propTypes={libraryId:Wt.a.string.isRequired,library:Wt.a.object.isRequired,objectId:Wt.a.string.isRequired,object:Wt.a.object.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var ko=Co,wo=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.GetContentLibrary({libraryId:t.libraryId});case 3:return a.next=5,t.GetContentObject({libraryId:t.libraryId,objectId:t.objectId});case 5:case"end":return a.stop()}},_callee)}));return function LoadObject(t){return e.apply(this,arguments)}}(),Io=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.AddApp(a);case 3:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Eo=pr(ko),_o=Object(c.c)(function mapStateToProps(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId]}},function mapDispatchToProps(e){return At(e,[pa,wa,Ba])})(function ContentAppFormContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId;return o.a.createElement(Eo,Pt()({},e,{libraryId:t,objectId:a,Load:wo,methods:{Submit:Io}}))}),jo=function SetCurrentAccount(){return function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.CurrentAccountAddress();case 2:t=a.sent,e({type:h.accounts.get.currentAccountAddress,address:Object(P.d)(t)});case 4:case"end":return a.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()},So=function(e){function AccessGroups(e){var t;return rt()(this,AccessGroups),(t=ct()(this,lt()(AccessGroups).call(this,e))).state={},t.AccessGroups=t.AccessGroups.bind(Ua()(t)),t}return pt()(AccessGroups,e),ot()(AccessGroups,[{key:"AccessGroups",value:function AccessGroups(){var e=this;return this.props.accessGroups?Object.values(this.props.accessGroups).map(function(t){return{id:t.address,title:t.name,description:t.name,status:"",icon:gt.a,link:F()(e.props.match.url,t.address)}}):[]}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this;return o.a.createElement(ir,{className:"compact",pageId:"AccessGroups",paginate:!0,count:this.props.count,loadingStatus:this.props.methodStatus.ListAccessGroups,LoadContent:function LoadContent(t){var a=t.params;return e.props.methods.ListAccessGroups(a)},RenderContent:this.AccessGroups,noIcon:!0,noStatus:!0})}},{key:"render",value:function render(){return o.a.createElement("div",{className:"page-container contents-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:"/access-groups/create"},"New Access Group")),o.a.createElement(za,{header:"Access Groups"}),this.AccessGroupsListing())}}]),AccessGroups}(o.a.Component);So.propTypes={accessGroups:Wt.a.object.isRequired,count:Wt.a.number.isRequired,methods:Wt.a.shape({ListAccessGroups:Wt.a.func.isRequired})};var Ao=So,Lo=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.SetCurrentAccount();case 3:case"end":return a.stop()}},_callee)}));return function LoadCurrentAccount(t){return e.apply(this,arguments)}}(),Fo=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListAccessGroups({params:a});case 3:case"end":return r.stop()}},_callee2)}));return function LoadAccessGroups(t){return e.apply(this,arguments)}}(),To=pr(Ao),No=Object(c.c)(function mapStateToProps(e){return{accessGroups:e.accessGroups.accessGroups,count:e.accessGroups.count.accessGroups}},function mapDispatchToProps(e){return At(e,[jo,br])})(function AccessGroupsContainer(e){return o.a.createElement(To,Pt()({},e,{Load:Lo,methods:{ListAccessGroups:Fo}}))}),Oo=function(e){function AccessGroup(e){var t;return rt()(this,AccessGroup),(t=ct()(this,lt()(AccessGroup).call(this,e))).state={visibleElements:{},view:"members"},t.PageContent=t.PageContent.bind(Ua()(t)),t.DeleteAccessGroup=t.DeleteAccessGroup.bind(Ua()(t)),t.AccessGroupMembers=t.AccessGroupMembers.bind(Ua()(t)),t.RemoveAccessGroupMember=t.RemoveAccessGroupMember.bind(Ua()(t)),t}return pt()(AccessGroup,e),ot()(AccessGroup,[{key:"DeleteAccessGroup",value:function(){var e=S()(_.a.mark(function _callee2(){var e=this;return _.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_t.e)({message:"Are you sure you want to delete this access group?",onConfirm:function(){var t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.methods.RemoveAccessGroup({address:e.props.contractAddress});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}));return function DeleteAccessGroup(){return e.apply(this,arguments)}}()},{key:"RemoveAccessGroupMember",value:function(){var e=S()(_.a.mark(function _callee4(e){var t,a=this;return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t="managers"===this.state.view,r.next=3,Object(_t.e)({message:"Are you sure you want to remove this ".concat(t?"manager":"member"," from the group?"),onConfirm:function(){var r=S()(_.a.mark(function _callee3(){return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.props.methods.RemoveAccessGroupMember({contractAddress:a.props.contractAddress,memberAddress:e,manager:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},_callee3)}));return function onConfirm(){return r.apply(this,arguments)}}()});case 3:this.state.listingRef&&this.state.listingRef.Load();case 4:case"end":return r.stop()}},_callee4,this)}));return function RemoveAccessGroupMember(t){return e.apply(this,arguments)}}()},{key:"AccessGroupMembers",value:function AccessGroupMembers(){var e=this;return this.props.accessGroup.members?Object.values(this.props.accessGroup.members).map(function(t){return{id:t.address,sortKey:t.name||"zz",key:"".concat(e.state.view,"-").concat(t.address),title:t.name,description:t.address,status:o.a.createElement("div",{className:"listing-action-icon"},o.a.createElement(_t.i,{icon:Ft.a,label:"Remove ".concat("managers"===e.state.view?"Manager":"Member"),onClick:S()(_.a.mark(function _callee5(){return _.a.wrap(function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.RemoveAccessGroupMember(t.address);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},_callee5)})),hidden:!(e.props.accessGroup.isManager||e.props.accessGroup.isOwner)},"Remove"))}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"AccessGroupMembersListing",value:function AccessGroupMembersListing(){var e=this;return o.a.createElement(ir,{ref:function ref(t){e.state.listingRef||e.setState({listingRef:t})},key:"".concat(this.state.view,"-listing"),className:"compact",pageId:"AccessGroupMembers",paginate:!0,count:this.props.membersCount,loadingStatus:this.props.methodStatus.ListAccessGroupMembers,LoadContent:function LoadContent(t){var a=t.params;e.props.methods.ListAccessGroupMembers({contractAddress:e.props.contractAddress,showManagers:"managers"===e.state.view,params:a})},RenderContent:this.AccessGroupMembers,noIcon:!0})}},{key:"Actions",value:function Actions(){return o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"edit"),hidden:!this.props.accessGroup.isOwner},"Manage"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"add-member"),hidden:!this.props.accessGroup.isManager},"Add Member"),o.a.createElement(_t.a,{className:"delete-action",onClick:this.DeleteAccessGroup,hidden:!0},"Delete"))}},{key:"PageContent",value:function PageContent(){var e=this;if(this.props.methodStatus.RemoveAccessGroup.completed)return o.a.createElement(qt.a,{push:!0,to:ia.a.dirname(this.props.match.url)});var t=o.a.createElement(jr,{className:"object-description",text:this.props.accessGroup.description});return o.a.createElement("div",{className:"page-container access-group-page-container"},this.Actions(),o.a.createElement(za,{header:this.props.accessGroup.name}),o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"label-box"},o.a.createElement(Er,{label:"Description"},t),o.a.createElement(Er,{label:"Owner"},this.props.accessGroup.owner),o.a.createElement(Er,{label:"Contract Address"},o.a.createElement(bt.a,{className:"inline-link",to:F()(this.props.match.url,"contract")},this.props.accessGroup.address))),o.a.createElement(_t.n,{options:[["Members","members"],["Managers","managers"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}}),this.AccessGroupMembersListing()))}},{key:"render",value:function render(){return o.a.createElement(_t.k,{fullPage:!0,loading:this.props.methodStatus.RemoveAccessGroup.loading,render:this.PageContent})}}]),AccessGroup}(o.a.Component);Oo.propTypes={accessGroup:Wt.a.object.isRequired,contractAddress:Wt.a.string.isRequired,membersCount:Wt.a.number,methods:Wt.a.shape({RemoveAccessGroup:Wt.a.func.isRequired})};var Ro=Oo,Go=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.SetCurrentAccount();case 3:return a.next=5,t.GetAccessGroup({contractAddress:t.contractAddress});case 5:case"end":return a.stop()}},_callee)}));return function LoadAccessGroup(t){return e.apply(this,arguments)}}(),Mo=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListAccessGroupMembers(a);case 3:case"end":return r.stop()}},_callee2)}));return function LoadMembers(t){return e.apply(this,arguments)}}(),Po=function(){var e=S()(_.a.mark(function _callee3(e){var t,a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.RemoveAccessGroupMember(a);case 3:case"end":return r.stop()}},_callee3)}));return function RemoveMember(t){return e.apply(this,arguments)}}(),Ho=function(){var e=S()(_.a.mark(function _callee4(e){var t,a;return _.a.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.RemoveAccessGroup(a);case 3:case"end":return r.stop()}},_callee4)}));return function Delete(t){return e.apply(this,arguments)}}(),Do=pr(Ro),Bo=Object(c.c)(function mapStateToProps(e,t){return{accessGroup:e.accessGroups.accessGroups[t.match.params.contractAddress],membersCount:e.accessGroups.count.members[t.match.params.contractAddress]}},function mapDispatchToProps(e){return At(e,[jo,fr,vr,xr,Cr])})(function AccessGroupContainer(e){var t=e.match.params.contractAddress;return o.a.createElement(Do,Pt()({},e,{contractAddress:t,Load:Go,methods:{ListAccessGroupMembers:Mo,RemoveAccessGroupMember:Po,RemoveAccessGroup:Ho}}))}),$o=function(e){function AccessGroupForm(e){var t;rt()(this,AccessGroupForm),t=ct()(this,lt()(AccessGroupForm).call(this,e));var a=e.accessGroup||{};return t.state={name:a.name||"",description:a.description||"",members:a.members||{}},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(AccessGroupForm,e),ot()(AccessGroupForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e;return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.methods.Submit({address:this.props.contractAddress,name:this.state.name,description:this.state.description,members:this.state.members});case 2:e=t.sent,this.setState({contractAddress:e});case 4:case"end":return t.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=m()({},this.props.methodStatus.Submit);e.completed=e.completed&&!!this.state.contractAddress;var t=ia.a.dirname(this.props.match.url),a=this.props.createForm?F()(t,this.state.contractAddress||""):t;return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:this.props.createForm?"Create Access Group":"Manage Access Group",redirectPath:a,cancelPath:t,status:e,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange}),o.a.createElement("label",{htmlFor:"description"},"Description"),o.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}}]),AccessGroupForm}(o.a.Component);$o.propTypes={accessGroup:Wt.a.object,contractAddress:Wt.a.string,createForm:Wt.a.bool.isRequired,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var qo=$o,Uo=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if((t=e.props).createForm){a.next=4;break}return a.next=4,t.GetAccessGroup({contractAddress:t.contractAddress});case 4:case"end":return a.stop()}},_callee)}));return function LoadAccessGroups(t){return e.apply(this,arguments)}}(),zo=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.SaveAccessGroup(a);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Vo=pr(qo),Wo=Object(c.c)(function mapStateToProps(e,t){return{accessGroup:e.accessGroups.accessGroups[t.match.params.contractAddress]}},function mapDispatchToProps(e){return At(e,[fr,yr])})(function AccessGroupFormContainer(e){var t=e.match.params.contractAddress;return o.a.createElement(Vo,Pt()({},e,{contractAddress:t,createForm:!t,Load:Uo,methods:{Submit:zo}}))}),Jo=function(e){function AccessGroupMemberForm(e){var t;return rt()(this,AccessGroupMemberForm),(t=ct()(this,lt()(AccessGroupMemberForm).call(this,e))).state={memberAddress:"",manager:!1},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(AccessGroupMemberForm,e),ot()(AccessGroupMemberForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({contractAddress:this.props.contractAddress,memberAddress:this.state.memberAddress,manager:this.state.manager});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=this,t=m()({},this.props.methodStatus.Submit),a=ia.a.dirname(this.props.match.url);return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:"Add member to '".concat(this.props.accessGroup.name,"'"),redirectPath:a,cancelPath:a,status:t,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"memberAddress"},"Address"),o.a.createElement("input",{name:"memberAddress",value:this.state.memberAddress,onChange:this.HandleInputChange}),o.a.createElement("label",{htmlFor:"manager"},"Manager"),o.a.createElement("input",{type:"checkbox",name:"manager",value:this.state.manager,onChange:function onChange(){return e.setState({manager:!e.state.manager})}}))))}}]),AccessGroupMemberForm}(o.a.Component);Jo.propTypes={accessGroup:Wt.a.object,contractAddress:Wt.a.string,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Ko=Jo,Yo=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.SetCurrentAccount();case 3:return a.next=5,t.GetAccessGroup({contractAddress:t.contractAddress});case 5:case"end":return a.stop()}},_callee)}));return function LoadAccessGroup(t){return e.apply(this,arguments)}}(),Zo=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.AddAccessGroupMember(a);case 3:case"end":return r.stop()}},_callee2)}));return function AddMember(t){return e.apply(this,arguments)}}(),Qo=pr(Ko),Xo=Object(c.c)(function mapStateToProps(e,t){return{accessGroup:e.accessGroups.accessGroups[t.match.params.contractAddress]}},function mapDispatchToProps(e){return At(e,[jo,gr,fr])})(function AccessGroupMemberFormContainer(e){var t=e.match.params.contractAddress;return o.a.createElement(Qo,Pt()({},e,{contractAddress:t,Load:Yo,methods:{Submit:Zo}}))}),es=(a(676),a(200)),ts=a.n(es),as=a(203),rs=a.n(as),ns={accessGroup:"accessGroup",contentSpace:"contentSpace",contentType:"contentType",customObject:"customObject",library:"library",object:"object",unknown:"unknown"},os=function DetermineContractInterface(e){var t=e.libraryId,a=e.objectId,r=e.isAccessGroup,n=e.isCustomContentObjectContract,o=e.contractAddressParam,s=t===Qe.contentSpaceLibraryId,c=a&&Qe.utils.EqualHash(t,a);return r?{type:ns.accessGroup,description:"Base Access Group Contract",abi:M.a.abi,contractAddress:o}:s&&c?{type:ns.contentSpace,description:"Base Content Space Contract",abi:ts.a.abi,contractAddress:Qe.utils.HashToAddress(t)}:c?{type:ns.library,description:"Base Content Library Contract",abi:N.a.abi,contractAddress:Qe.utils.HashToAddress(t)}:s&&!n?{type:ns.contentType,description:"Base Content Type Contract",abi:rs.a.abi,contractAddress:Qe.utils.HashToAddress(a)}:a?n?{type:ns.customObject,description:"Custom Content Object Contract",abi:void 0,contractAddress:void 0}:{type:ns.object,description:"Base Content Object Contract",abi:R.a.abi,contractAddress:Qe.utils.HashToAddress(a)}:{type:ns.unknown,description:void 0,abi:void 0,contractAddress:o}},ss=function ListContracts(e){var t=e.params;return function(){var e=S()(_.a.mark(function _callee2(e){var a,r,n;return _.a.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,la(t.cancelable,S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.Contracts({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee)})));case 2:a=o.sent,r=a.contracts,n=a.count,e({type:h.contracts.list,contracts:r,count:n});case 6:case"end":return o.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()},cs=function ListDeployedContracts(e){var t=e.params;return function(){var e=S()(_.a.mark(function _callee4(e){var a,r,n;return _.a.wrap(function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,la(t.cancelable,S()(_.a.mark(function _callee3(){return _.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.DeployedContracts({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee3)})));case 2:a=o.sent,r=a.contracts,n=a.count,e({type:h.contracts.deployed.list,contracts:r,count:n});case 6:case"end":return o.stop()}},_callee4)}));return function(t){return e.apply(this,arguments)}}()},is=function RemoveContract(e){var t=e.name;return function(){var e=S()(_.a.mark(function _callee5(e){return _.a.wrap(function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.RemoveContract({name:t});case 2:e(Ot({message:"Successfully removed contract",redirect:!0}));case 3:case"end":return a.stop()}},_callee5)}));return function(t){return e.apply(this,arguments)}}()},ls=function RemoveDeployedContract(e){var t=e.address;return function(){var e=S()(_.a.mark(function _callee6(e){return _.a.wrap(function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Qe.RemoveDeployedContract({address:t});case 2:e(Ot({message:"Successfully removed contract",redirect:!0}));case 3:case"end":return a.stop()}},_callee6)}));return function(t){return e.apply(this,arguments)}}()},us=function RetrieveContractInfo(e){var t=e.type,a=e.libraryId,r=e.objectId;return function(){var e=S()(_.a.mark(function _callee7(e){return _.a.wrap(function _callee7$(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t,n.next=n.t0===ns.library?3:n.t0===ns.object?6:n.t0===ns.customObject?6:n.t0===ns.contentType?6:n.t0===ns.accessGroup?9:n.t0===ns.unknown?12:15;break;case 3:return n.next=5,e(pa({libraryId:a}));case 5:return n.abrupt("break",15);case 6:return n.next=8,e(wa({libraryId:a,objectId:r}));case 8:return n.abrupt("break",15);case 9:return n.next=11,e(br({params:{paginate:!1}}));case 11:return n.abrupt("break",15);case 12:return n.next=14,e(cs({params:{paginate:!1}}));case 14:return n.abrupt("break",15);case 15:case"end":return n.stop()}},_callee7)}));return function(t){return e.apply(this,arguments)}}()},ps=function CompileContracts(e){return function(){var t=S()(_.a.mark(function _callee8(t){var a,r,n,o,s,c,i;return _.a.wrap(function _callee8$(l){for(;;)switch(l.prev=l.next){case 0:a={},r=!0,n=!1,o=void 0,l.prev=4,s=e[Symbol.iterator]();case 6:if(r=(c=s.next()).done){l.next=14;break}return i=c.value,l.next=10,new Response(i).text();case 10:a[i.name]=l.sent;case 11:r=!0,l.next=6;break;case 14:l.next=20;break;case 16:l.prev=16,l.t0=l.catch(4),n=!0,o=l.t0;case 20:l.prev=20,l.prev=21,r||null==s.return||s.return();case 23:if(l.prev=23,!n){l.next=26;break}throw o;case 26:return l.finish(23);case 27:return l.finish(20);case 28:return l.next=30,new Promise(function(e,r){BrowserSolc.loadVersion("soljson-v0.4.24+commit.e67f0147.js",function(n){var o=n.compile({sources:a},1);if((o.errors||[]).some(function(e){return!e.includes("Warning:")}))t({type:h.contracts.error.compile,errors:o.errors}),r("Compilation errors");else{t(Ot({message:"Compilation successful",redirect:!0}));var s={};Object.keys(o.contracts).map(function(e){var t=o.contracts[e];s[e]={bytecode:t.bytecode,interface:JSON.parse(t.interface),gasEstimates:t.gasEstimates}}),t({type:h.contracts.compile,contractData:s}),e()}})});case 30:case"end":return l.stop()}},_callee8,null,[[4,16,20,28],[21,,23,27]])}));return function(e){return t.apply(this,arguments)}}()},ds=function SaveContract(e){var t=e.name,a=e.oldContractName,r=e.description,n=e.abi,o=e.bytecode;return function(){var e=S()(_.a.mark(function _callee9(e){return _.a.wrap(function _callee9$(s){for(;;)switch(s.prev=s.next){case 0:return"string"==typeof n&&(n=Jt(n)),s.next=3,Qe.AddContract({name:t.trim(),description:r,abi:n,bytecode:o});case 3:if(!a||a===t){s.next=6;break}return s.next=6,Qe.RemoveContract({name:a});case 6:e(Ot({message:"Successfully saved contract",redirect:!0}));case 7:case"end":return s.stop()}},_callee9)}));return function(t){return e.apply(this,arguments)}}()},ms=function WatchContract(e){var t=e.name,a=e.address,r=e.description,n=e.abi;return function(){var e=S()(_.a.mark(function _callee10(e){var o;return _.a.wrap(function _callee10$(s){for(;;)switch(s.prev=s.next){case 0:return a=Object(P.d)(a),n=Jt(n),s.next=4,Qe.CurrentAccountAddress();case 4:return o=s.sent,s.prev=5,s.next=8,Qe.GetBalance({address:a});case 8:s.next=13;break;case 10:throw s.prev=10,s.t0=s.catch(5),Error("Unable to connect to contract at "+a);case 13:return s.next=15,Qe.AddDeployedContract({name:t,description:r,address:a,abi:n,owner:o});case 15:e(Ot({message:"Successfully added watched contract",redirect:!0}));case 16:case"end":return s.stop()}},_callee10,null,[[5,10]])}));return function(t){return e.apply(this,arguments)}}()},hs=function DeployContract(e){var t=e.contractName,a=e.contractDescription,r=e.abi,n=e.bytecode,o=e.inputs,s=e.funds;return function(){var e=S()(_.a.mark(function _callee11(e){var c,i,l;return _.a.wrap(function _callee11$(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Qe.CurrentAccountAddress();case 3:if(c=u.sent,i=[],!(o.length>0)){u.next=9;break}return u.next=8,Qe.FormatContractArguments({abi:r,methodName:"constructor",args:o});case 8:i=u.sent;case 9:return u.next=11,Qe.DeployContract({abi:r,bytecode:n,constructorArgs:i});case 11:if(l=u.sent,!s){u.next=15;break}return u.next=15,Qe.SendFunds({recipient:l.contractAddress,ether:s});case 15:return u.next=17,Qe.AddDeployedContract({name:t,description:a,address:l.contractAddress,abi:r,bytecode:n,inputs:o,owner:c});case 17:return e(Ot({message:"Successfully deployed custom contract",redirect:!0})),u.abrupt("return",Object(P.d)(l.contractAddress));case 21:u.prev=21,u.t0=u.catch(0),console.error("Failed to deploy contract"),console.error(u.t0),e(Nt({message:"Failed to deploy contract: ".concat(u.t0.message||u.t0)}));case 26:case"end":return u.stop()}},_callee11,null,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()},bs=function SetCustomContentContract(e){var t=e.libraryId,a=e.objectId,r=e.contractName,n=e.contractDescription,o=e.address,s=e.abi,c=e.factoryAbi,i=e.bytecode,l=e.inputs,u=e.funds;return function(){var e=S()(_.a.mark(function _callee12(e){var p,d,m,h;return _.a.wrap(function _callee12$(b){for(;;)switch(b.prev=b.next){case 0:if(p=t===Qe.contentSpaceLibraryId,d=[],!(l.length>0)){b.next=6;break}return b.next=5,Qe.FormatContractArguments({abi:s,methodName:"constructor",args:l});case 5:d=b.sent;case 6:if(o){b.next=11;break}return b.next=9,Qe.DeployContract({abi:s,bytecode:i,constructorArgs:d});case 9:m=b.sent,o=m.contractAddress;case 11:if(p){b.next=16;break}return b.next=14,Qe.SetCustomContentContract({libraryId:t,objectId:a,name:r,description:n,customContractAddress:o,abi:s,factoryAbi:c,overrides:{gasLimit:6e7,gasPrice:1e6}});case 14:b.next=23;break;case 16:return b.next=18,Qe.EditContentObject({libraryId:t,objectId:a});case 18:return h=b.sent,b.next=21,Qe.ReplaceMetadata({libraryId:t,objectId:a,writeToken:h.write_token,metadataSubtree:"custom_contract",metadata:{name:r,description:n,address:Object(P.d)(o),abi:s,factoryAbi:Jt(c)}});case 21:return b.next=23,Qe.FinalizeContentObject({libraryId:t,objectId:a,writeToken:h.write_token});case 23:if(!u){b.next=26;break}return b.next=26,Qe.SendFunds({recipient:o,ether:u});case 26:return e(Ot({message:"Successfully deployed custom contract",redirect:!0})),b.abrupt("return",Object(P.d)(o));case 28:case"end":return b.stop()}},_callee12)}));return function(t){return e.apply(this,arguments)}}()},fs=function GetContractEvents(e){var t=e.contractAddress,a=e.abi,r=e.fromBlock,n=void 0===r?0:r,o=e.toBlock,s=e.clear,c=void 0!==s&&s;return function(){var e=S()(_.a.mark(function _callee13(e){return _.a.wrap(function _callee13$(r){for(;;)switch(r.prev=r.next){case 0:return c&&e({type:h.logs.clear}),r.t0=e,r.t1=h.contracts.deployed.events,r.t2=t,r.next=6,Qe.ContractEvents({contractAddress:t,abi:a,fromBlock:n,toBlock:o});case 6:r.t3=r.sent,r.t4={type:r.t1,contractAddress:r.t2,blocks:r.t3},(0,r.t0)(r.t4);case 9:case"end":return r.stop()}},_callee13)}));return function(t){return e.apply(this,arguments)}}()},ys=function ClearContractEvents(e){var t=e.contractAddress;return function(){var e=S()(_.a.mark(function _callee14(e){return _.a.wrap(function _callee14$(a){for(;;)switch(a.prev=a.next){case 0:e({type:h.contracts.deployed.clearEvents,contractAddress:t});case 1:case"end":return a.stop()}},_callee14)}));return function(t){return e.apply(this,arguments)}}()},vs=function GetBlockchainEvents(e){var t=e.toBlock,a=e.fromBlock,r=e.count,n=void 0===r?10:r,o=e.clear,s=void 0!==o&&o;return function(){var e=S()(_.a.mark(function _callee15(e){return _.a.wrap(function _callee15$(r){for(;;)switch(r.prev=r.next){case 0:return s&&e({type:h.logs.clear}),r.t0=e,r.t1=h.logs.list,r.next=5,Qe.GetBlockchainEvents({toBlock:t,fromBlock:a,count:n});case 5:r.t2=r.sent,r.t3={type:r.t1,blocks:r.t2},(0,r.t0)(r.t3);case 8:case"end":return r.stop()}},_callee15)}));return function(t){return e.apply(this,arguments)}}()},gs=function ClearBlockchainEvents(){return function(){var e=S()(_.a.mark(function _callee16(e){return _.a.wrap(function _callee16$(t){for(;;)switch(t.prev=t.next){case 0:e({type:h.logs.clear});case 1:case"end":return t.stop()}},_callee16)}));return function(t){return e.apply(this,arguments)}}()},xs=function(){var e=S()(_.a.mark(function _callee17(){return _.a.wrap(function _callee17$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.GetBlockNumber();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee17)}));return function GetBlockNumber(){return e.apply(this,arguments)}}(),Cs=function CallContractMethod(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value,s=void 0===o?0:o;return function(){var e=S()(_.a.mark(function _callee18(e){var o,c,i;return _.a.wrap(function _callee18$(l){for(;;)switch(l.prev=l.next){case 0:if(o=Object.values(a).find(function(e){return"function"===e.type&&e.name===r}),!(n.length>0)){l.next=5;break}return l.next=4,Qe.FormatContractArguments({abi:a,methodName:r,args:n});case 4:n=l.sent;case 5:if(!o.constant){l.next=11;break}return l.next=8,Qe.CallContractMethod({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:s});case 8:c=l.sent,l.next=24;break;case 11:return l.next=13,Qe.CallContractMethodAndWait({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:s});case 13:return i=l.sent,l.next=16,Qe.ContractEvents({contractAddress:t,abi:a,fromBlock:i.blockNumber,toBlock:i.blockNumber});case 16:if(0!==(c=l.sent).length){l.next=21;break}return l.next=20,Qe.GetBlockchainEvents({fromBlock:i.blockNumber,toBlock:i.blockNumber});case 20:c=l.sent;case 21:if(0!==c.length){l.next=23;break}throw Error("Transaction failed");case 23:c=c[0];case 24:e({type:h.contracts.deployed.call,contractAddress:t,methodName:r,methodResults:c}),e(Ot({message:'Successfully called method "'.concat(r,'"'),redirect:!o.constant}));case 26:case"end":return l.stop()}},_callee18)}));return function(t){return e.apply(this,arguments)}}()},ks=function GetContractBalance(e){var t=e.contractAddress;return function(){var e=S()(_.a.mark(function _callee19(e){var a;return _.a.wrap(function _callee19$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.GetBalance({address:t});case 2:return a=r.sent,e({type:h.contracts.deployed.balance,contractAddress:t,balance:a}),r.abrupt("return",a);case 5:case"end":return r.stop()}},_callee19)}));return function(t){return e.apply(this,arguments)}}()},ws=function SendFunds(e){var t=e.recipient,a=e.ether;return function(){var e=S()(_.a.mark(function _callee20(e){return _.a.wrap(function _callee20$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.SendFunds({recipient:t,ether:a});case 2:e(Ot({message:"Successfully sent "+a+" to "+t,redirect:!0}));case 3:case"end":return r.stop()}},_callee20)}));return function(t){return e.apply(this,arguments)}}()},Is=function WithdrawContractFunds(e){var t=e.contractAddress,a=e.abi,r=e.ether;return function(){var e=S()(_.a.mark(function _callee21(e){return _.a.wrap(function _callee21$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.WithdrawContractFunds({contractAddress:t,abi:a,ether:r});case 2:e(Ot({message:"Successfully withdrew "+r+" from contract",redirect:!0}));case 3:case"end":return n.stop()}},_callee21)}));return function(t){return e.apply(this,arguments)}}()},Es=function(e){function Contracts(e){var t;return rt()(this,Contracts),(t=ct()(this,lt()(Contracts).call(this,e))).state={view:t.props.match.url.endsWith("/saved")?"saved":"deployed"},t.Contracts=t.Contracts.bind(Ua()(t)),t}return pt()(Contracts,e),ot()(Contracts,[{key:"Contracts",value:function Contracts(e){var t=this;return e?Object.keys(e).map(function(a){var r="deployed"===t.state.view?F()("/contracts","deployed",a):F()("/contracts",a),n=e[a],o=Object.values(n.abi).filter(function(e){return"event"===e.type}).length;o=1===o?o+" event":o+" events";var s=Object.values(n.abi).filter(function(e){return"function"===e.type}).length;return s=1===s?s+" method":s+" methods",{id:a,title:n.name,description:n.description,status:"".concat(o,", ").concat(s),link:r}}):[]}},{key:"ContractsListing",value:function ContractsListing(){var e=this;return"saved"===this.state.view?o.a.createElement(ir,{key:"contracts-listing",className:"compact",pageId:"Contracts",paginate:!0,count:this.props.count.contracts,loadingStatus:this.props.methodStatus.ListContracts,LoadContent:function LoadContent(t){var a=t.params;return e.props.methods.ListContracts({params:a})},RenderContent:function RenderContent(){return e.Contracts(e.props.contracts)},noIcon:!0}):o.a.createElement(ir,{key:"deployed-contracts-listing",pageId:"Contracts",paginate:!0,count:this.props.count.deployedContracts,loadingStatus:this.props.methodStatus.ListDeployedContracts,LoadContent:function LoadContent(t){var a=t.params;return e.props.methods.ListDeployedContracts({params:a})},RenderContent:function RenderContent(){return e.Contracts(e.props.deployedContracts)},noIcon:!0})}},{key:"render",value:function render(){var e=this,t=o.a.createElement(_t.n,{options:[["Deployed","deployed"],["Saved","saved"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}});return o.a.createElement("div",{className:"page-container contents-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:"/contracts/compile"},"New Contract"),o.a.createElement(_t.a,{type:"link",to:"/contracts/deploy"},"Deploy Contract"),o.a.createElement(_t.a,{type:"link",to:"/contracts/watch"},"Watch Contract")),o.a.createElement(za,{header:"Contracts"}),t,this.ContractsListing())}}]),Contracts}(o.a.Component);Es.propTypes={contracts:Wt.a.object.isRequired,deployedContracts:Wt.a.object.isRequired,methods:Wt.a.shape({ListContracts:Wt.a.func.isRequired})};var _s=Es,js=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListContracts(a);case 3:case"end":return r.stop()}},_callee)}));return function LoadContracts(t){return e.apply(this,arguments)}}(),Ss=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.ListDeployedContracts(a);case 3:case"end":return r.stop()}},_callee2)}));return function LoadDeployedContracts(t){return e.apply(this,arguments)}}(),As=pr(_s),Ls=Object(c.c)(function mapStateToProps(e){return{contracts:e.contracts.contracts,deployedContracts:e.contracts.deployedContracts,count:e.contracts.count}},function mapDispatchToProps(e){return At(e,[ss,cs])})(function ContractsContainer(e){return o.a.createElement(As,Pt()({},e,{methods:{ListContracts:js,ListDeployedContracts:Ss}}))}),Fs=function(e){function Contract(e){var t;return rt()(this,Contract),(t=ct()(this,lt()(Contract).call(this,e))).state={visibleMethods:{}},t.PageContent=t.PageContent.bind(Ua()(t)),t.DeleteContract=t.DeleteContract.bind(Ua()(t)),t}var t;return pt()(Contract,e),ot()(Contract,[{key:"ToggleElement",value:function ToggleElement(e){this.setState({visibleMethods:m()({},this.state.visibleMethods,y()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleMethods[t],n=(r?"Hide ":"Show ")+e;return o.a.createElement(_t.a,{className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleElement(t)}},n)}},{key:"DeleteContract",value:(t=S()(_.a.mark(function _callee2(){var e=this;return _.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_t.e)({message:"Are you sure you want to remove this contract?",onConfirm:function(){var t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.methods.RemoveContract({name:e.props.contractName});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)})),function DeleteContract(){return t.apply(this,arguments)})},{key:"ContractInfo",value:function ContractInfo(e){var t=this;return e.map(function(e){if(!e.name&&"constructor"!==e.type)return null;var a=t.state.visibleMethods[e.name]?o.a.createElement("pre",null,JSON.stringify(e,null,2)):null;return o.a.createElement("div",{className:"indented",key:"contract-method-"+e.name},o.a.createElement(Er,{label:e.name,wideLabel:!0},t.ToggleButton(e.type.capitalize()+" Info",e.name)),a)})}},{key:"PageContent",value:function PageContent(){if(this.props.methodStatus.RemoveContract.completed)return o.a.createElement(qt.a,{push:!0,to:ia.a.dirname(this.props.match.url)});var e=o.a.createElement(jr,{className:"object-description",text:this.props.contract.description}),t=this.state.visibleMethods.__abi?o.a.createElement("pre",null,JSON.stringify(this.props.contract.abi,null,2)):null,a=this.state.visibleMethods.__bytecode?o.a.createElement("pre",null,this.props.contract.bytecode):null,r=this.props.contract.abi||[],n=Object.values(r),s=n.filter(function(e){return"constructor"===e.type}),c=n.filter(function(e){return"event"===e.type}),i=n.filter(function(e){return"function"===e.type}),l=i.filter(function(e){return e.constant}),u=i.filter(function(e){return!e.constant});return o.a.createElement("div",{className:"page-container contracts-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:"/contracts/saved",className:"secondary"},"Back"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"edit")},"Edit Contract"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"deploy")},"Deploy Contract"),o.a.createElement(_t.a,{className:"delete-action",onClick:this.DeleteContract},"Delete Contract")),o.a.createElement(za,{header:this.props.contractName}),o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"label-box"},o.a.createElement("h3",null,"Contract Info"),o.a.createElement(Er,{label:"Description"},e),o.a.createElement(Er,{label:"ABI"},this.ToggleButton("Full ABI","__abi")),t,o.a.createElement(Er,{label:"Bytecode"},this.ToggleButton("Bytecode","__bytecode")),a,o.a.createElement("h3",null,"Contract Constructor"),this.ContractInfo(s),o.a.createElement("h3",null,"Constant Methods"),this.ContractInfo(l),o.a.createElement("h3",null,"Dynamic Methods"),this.ContractInfo(u),o.a.createElement("h3",null,"Contract Events"),this.ContractInfo(c))))}},{key:"render",value:function render(){return o.a.createElement(_t.k,{fullPage:!0,loading:this.props.methodStatus.RemoveContract.loading,render:this.PageContent})}}]),Contract}(o.a.Component);Fs.propTypes={contract:Wt.a.object.isRequired,contractName:Wt.a.string.isRequired,methods:Wt.a.shape({RemoveContract:Wt.a.func.isRequired})};var Ts=Fs,Ns=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.ListContracts({params:{paginate:!1}});case 3:case"end":return a.stop()}},_callee)}));return function LoadContracts(t){return e.apply(this,arguments)}}(),Os=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.RemoveContract(a);case 3:case"end":return r.stop()}},_callee2)}));return function Delete(t){return e.apply(this,arguments)}}(),Rs=pr(Ts),Gs=Object(c.c)(function mapStateToProps(e,t){return{contract:e.contracts.contracts[t.match.params.contractName]}},function mapDispatchToProps(e){return At(e,[ss,is])})(function ContractContainer(e){var t=e.match.params.contractName;return o.a.createElement(Rs,Pt()({},e,{contractName:t,Load:Ns,methods:{RemoveContract:Os}}))}),Ms=function(e){function CompileContractForm(e){var t;return rt()(this,CompileContractForm),(t=ct()(this,lt()(CompileContractForm).call(this,e))).state={compileFromSource:!0,files:[],name:"",description:"",abi:"",bytecode:""},t.HandleFileSelect=t.HandleFileSelect.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(CompileContractForm,e),ot()(CompileContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.compileFromSource){e.next=5;break}return e.next=3,this.props.methods.CompileContracts(this.state.files);case 3:e.next=7;break;case 5:return e.next=7,this.props.methods.Submit({name:this.state.name,description:this.state.description,abi:this.state.abi,bytecode:this.state.bytecode});case 7:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"Errors",value:function Errors(){return this.props.errors?o.a.createElement("pre",null,"Compilation errors: \n\n"+this.props.errors):null}},{key:"AbiForm",value:function AbiForm(){var e=this;return this.state.compileFromSource?null:o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),o.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),o.a.createElement(Yt,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange,UpdateValue:function UpdateValue(t){return e.setState({abi:t})}}),o.a.createElement("label",{className:"align-top",htmlFor:"bytecode"},"Bytecode"),o.a.createElement("textarea",{name:"bytecode",required:!0,value:this.state.bytecode,onChange:this.HandleInputChange}))}},{key:"FileSelection",value:function FileSelection(){return this.state.compileFromSource?o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"contractFiles",className:"align-top"},"Contract Files"),o.a.createElement(_t.d,{name:"contractFiles",onChange:this.HandleFileSelect,required:!0,multiple:!0,accept:".sol"})):null}},{key:"render",value:function render(){var e=this.state.compileFromSource?this.props.methodStatus.CompileContracts:this.props.methodStatus.Submit,t=ia.a.dirname(this.props.match.url),a=this.state.compileFromSource?F()(t,"save"):F()(t,"saved");return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:"Compile contracts",redirectPath:a,cancelPath:t,status:e,OnSubmit:this.HandleSubmit},o.a.createElement("div",null,o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"source"},"Source"),o.a.createElement(_t.m,{name:"compileFromSource",options:[["Solidity",!0],["ABI and Bytecode",!1]],inline:!0,selected:this.state.compileFromSource,onChange:this.HandleInputChange})),this.FileSelection(),this.AbiForm(),this.Errors())))}}]),CompileContractForm}(o.a.Component);Ms.propTypes={errors:Wt.a.array,methods:Wt.a.shape({CompileContracts:Wt.a.func.isRequired,Submit:Wt.a.func.isRequired})};var Ps=Ms,Hs=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.CompileContracts(a);case 3:case"end":return r.stop()}},_callee)}));return function Compile(t){return e.apply(this,arguments)}}(),Ds=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.SaveContract(a);case 3:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Bs=pr(Ps),$s=Object(c.c)(function mapStateToProps(e){return{contractData:e.contracts.contractData,errors:e.contracts.errors}},function mapDispatchToProps(e){return At(e,[ds,ps])})(function CompileContractFormContainer(e){return o.a.createElement(Bs,Pt()({},e,{methods:{Submit:Ds,CompileContracts:Hs}}))}),qs=function(e){function ContractForm(e){var t;rt()(this,ContractForm),t=ct()(this,lt()(ContractForm).call(this,e));var a=e.contract||t.props.contractData&&Object.keys(t.props.contractData)[0]||{};return t.state={contract:a,contractName:t.props.contractName,name:a.name||"",description:a.description||"",abi:a.abi||"",bytecode:a.bytecode||""},t.SwitchContract=t.SwitchContract.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(ContractForm,e),ot()(ContractForm,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.createForm&&this.props.contractData){var e=Object.keys(this.props.contractData)[0];this.SwitchContract(e)}}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"SwitchContract",value:function SwitchContract(e){if(this.props.contractData){var t=e.split(":").slice(-1)[0],a=this.props.contractData[e];this.setState({name:t,selectedContract:e,abi:a.interface,bytecode:a.bytecode,contract:a})}}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({name:this.state.name,oldContractName:this.state.contractName||this.state.name,description:this.state.description,abi:this.state.contract.interface||this.state.contract.abi,bytecode:this.state.contract.bytecode});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"AvailableContracts",value:function AvailableContracts(){var e=this,t=Object.keys(this.props.contractData).map(function(e){return o.a.createElement("option",{key:e,value:e},e)});return o.a.createElement("select",{key:"contract-options",name:"selectedContract",onChange:function onChange(t){return e.SwitchContract(t.target.value)}},t)}},{key:"ContractSelection",value:function ContractSelection(){return this.props.createForm?[o.a.createElement("label",{key:"selected-contract-label",htmlFor:"selectedContract"},"Contract"),this.AvailableContracts()]:null}},{key:"render",value:function render(){var e=ia.a.dirname(this.props.match.url);return this.props.createForm&&!this.props.contractData?(this.props.SetErrorMessage({message:"No contract data",redirect:!0}),o.a.createElement(qt.a,{to:e})):o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:e,className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:this.props.contract?"Edit Contract":"Save contract",redirectPath:e,cancelPath:e,status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),this.ContractSelection(),o.a.createElement("label",{htmlFor:"description",className:"align-top"},"Description"),o.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}}]),ContractForm}(o.a.Component);qs.propTypes={contract:Wt.a.object,contracts:Wt.a.object.isRequired,contractData:Wt.a.object,createForm:Wt.a.bool.isRequired,contractName:Wt.a.string,methods:Wt.a.shape({Submit:Wt.a.func.isRequired})};var Us=qs,zs=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.ListContracts({params:{paginate:!1}});case 3:case"end":return a.stop()}},_callee)}));return function LoadContracts(t){return e.apply(this,arguments)}}(),Vs=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.SaveContract(a);case 3:case"end":return r.stop()}},_callee2)}));return function Submit(t){return e.apply(this,arguments)}}(),Ws=pr(Us),Js=Object(c.c)(function mapStateToProps(e,t){return{contract:t.match.params.contractName?e.contracts.contracts[t.match.params.contractName]:void 0,contracts:e.contracts.contracts,contractData:e.contracts.contractData}},function mapDispatchToProps(e){return At(e,[ss,ds,Nt])})(function ContractFormContainer(e){var t=!e.location.pathname.endsWith("edit"),a=e.match.params.contractName;return o.a.createElement(Ws,Pt()({},e,{createForm:t,contractName:a,Load:zs,methods:{Submit:Vs}}))}),Ks=function(e){function WatchContractForm(e){var t;return rt()(this,WatchContractForm),(t=ct()(this,lt()(WatchContractForm).call(this,e))).state={name:"",description:"",abi:"",address:""},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(WatchContractForm,e),ot()(WatchContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({name:this.state.name,description:this.state.description,address:this.state.address,abi:this.state.abi});case 2:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e=this,t=F()(ia.a.dirname(this.props.match.url),"deployed",this.state.address);return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:"Watch Deployed Contract",redirectPath:t,cancelPath:ia.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),o.a.createElement("label",{htmlFor:"address"},"Address"),o.a.createElement("input",{name:"address",value:this.state.address,required:!0,placeholder:"0x0000000000000000000000000000000000000000",onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),o.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),o.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),o.a.createElement(Yt,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange,UpdateValue:function UpdateValue(t){return e.setState({abi:t})}}))))}}]),WatchContractForm}(o.a.Component),Ys=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.WatchContract(a);case 3:case"end":return r.stop()}},_callee)}));return function Submit(t){return e.apply(this,arguments)}}(),Zs=pr(Ks),Qs=Object(c.c)(function mapStateToProps(){return{}},function mapDispatchToProps(e){return At(e,[ms])})(function WatchContractFormContainer(e){var t=!e.location.pathname.endsWith("edit"),a=e.match.params.contractName;return o.a.createElement(Zs,Pt()({},e,{createForm:t,contractName:a,methods:{Submit:Ys}}))}),Xs=function(e){function DeployContractForm(e){var t;rt()(this,DeployContractForm);var a=(t=ct()(this,lt()(DeployContractForm).call(this,e))).props.match.params.contractName,r=Qe.contentSpaceLibraryId===e.libraryId,n=!!a,o=ia.a.dirname(t.props.match.url);return n&&(o=ia.a.dirname(o)),t.state={name:"",description:"",funds:0,redirectPath:o,isContentObjectContract:!!t.props.objectId,isContentTypeContract:r,selectedContract:a,fixedContract:n,contractSource:"saved",contracts:{},currentContractFunds:0},t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleContractChange=t.HandleContractChange.bind(Ua()(t)),t.HandleContractSourceChange=t.HandleContractSourceChange.bind(Ua()(t)),t.HandleConstructorInputChange=t.HandleConstructorInputChange.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t}var t;return pt()(DeployContractForm,e),ot()(DeployContractForm,[{key:"Contracts",value:function Contracts(){return"saved"===this.state.contractSource?this.props.contracts:this.props.deployedContracts}},{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.state.selectedContract,a="saved";t||(Object.keys(this.props.contracts).length>0?t=Object.keys(this.props.contracts)[0]:Object.keys(this.props.deployedContracts).length>0&&(t=Object.keys(this.props.deployedContracts)[0],a="deployed")),this.setState({selectedContract:t,contractSource:a},function(){return e.HandleContractChange()})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleContractSourceChange",value:function HandleContractSourceChange(e){var t=this;this.setState({contractSource:e.target.value,selectedContract:void 0},function(){return t.HandleContractChange()})}},{key:"HandleContractChange",value:function HandleContractChange(e){var t=this.Contracts(),a=e&&e.target.value||this.state.selectedContract||Object.keys(t)[0],r=t[a];if(a&&r){var n=r.abi.find(function(e){return"constructor"===e.type}),o={};n&&n.inputs&&n.inputs.map(function(e){o[e.name]=""}),this.setState({selectedContract:a,constructorInputs:o,constructor:n,factoryAbi:"",funds:0}),"deployed"===this.state.contractSource&&this.props.GetContractBalance({contractAddress:r.address})}else this.setState({selectedContract:a})}},{key:"HandleConstructorInputChange",value:function HandleConstructorInputChange(e){this.setState({constructorInputs:m()({},this.state.constructorInputs,y()({},e.target.name,e.target.value))})}},{key:"ConstructorInput",value:function ConstructorInput(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map(function(t){return e.state.constructorInputs[t.name]}):[]}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e,t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Contracts()[this.state.selectedContract],!this.state.isContentObjectContract){a.next=7;break}return a.next=4,this.props.methods.SetCustomContentContract({libraryId:this.props.libraryId,objectId:this.props.objectId,contractName:this.state.selectedContract,contractDescription:e.description,address:e.address,abi:e.abi,factoryAbi:this.state.factoryAbi,bytecode:e.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds});case 4:t=a.sent,a.next=10;break;case 7:return a.next=9,this.props.methods.DeployContract({contractName:this.state.name,contractDescription:this.state.description,abi:e.abi,bytecode:e.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds});case 9:t=a.sent;case 10:this.setState({contractAddress:t});case 11:case"end":return a.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"ConstructorForm",value:function ConstructorForm(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map(function(t){return[o.a.createElement("label",{key:"contract-constructor-param-label-"+t.name,htmlFor:t.name},t.name),o.a.createElement("input",{key:"contract-constructor-param-"+t.name,placeholder:t.type,name:t.name,required:!0,value:e.state.constructorInputs[t.name],onChange:e.HandleConstructorInputChange})]}):null}},{key:"ContractSelection",value:function ContractSelection(){var e=this;if(this.state.fixedContract)return[o.a.createElement("label",{key:"contract-selection-label"},"Contract"),o.a.createElement("div",{key:"contract-selection",className:"form-text"},this.state.selectedContract)];var t=Object.keys(this.Contracts()).map(function(t){return o.a.createElement("option",{key:t,value:t},e.Contracts()[t].name)});return[o.a.createElement("label",{key:"contract-selection-label",htmlFor:"selectedContract"},"Contract"),o.a.createElement("select",{key:"contract-selection",name:"selectedContract",onChange:this.HandleContractChange,value:this.state.selectedContract,disabled:this.state.fixedContract},t)]}},{key:"ContractSourceSelection",value:function ContractSourceSelection(){return this.state.fixedContract||!this.state.isContentObjectContract?null:[o.a.createElement("label",{key:"contract-source-label",htmlFor:"contractSource"},"Contract Source"),o.a.createElement(_t.m,{key:"contract-source",name:"contractSource",options:[["Saved","saved"],["Deployed","deployed"]],inline:!0,selected:this.state.contractSource,onChange:this.HandleContractSourceChange})]}},{key:"ContractInfoFields",value:function ContractInfoFields(){return this.state.isContentObjectContract?null:[o.a.createElement("label",{key:"contract-name-label",htmlFor:"name"},"Name"),o.a.createElement("input",{key:"contract-name",name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),o.a.createElement("label",{key:"contract-description-label",className:"align-top",htmlFor:"description"},"Description"),o.a.createElement("textarea",{key:"contract-description",name:"description",value:this.state.description,onChange:this.HandleInputChange})]}},{key:"ContractFunds",value:function ContractFunds(e){var t=[],a="Funds";return"deployed"===this.state.contractSource&&(a="Additional Funds",t=[o.a.createElement("label",{key:"contract-balance-label"},"Current Balance"),o.a.createElement("div",{key:"contract-balance",className:"form-text"},e)]),[].concat(I()(t),[o.a.createElement("label",{key:"contract-funds-label",htmlFor:"funds"},a),o.a.createElement("input",{key:"contract-funds",name:"funds",value:this.state.funds,type:"number",step:"0.00000001",onChange:this.HandleInputChange})])}},{key:"FactoryAbi",value:function FactoryAbi(){var e=this;if(this.state.isContentTypeContract)return[o.a.createElement("label",{key:"contract-factory-abi-info-label"},"Factory ABI"),o.a.createElement("div",{key:"contract-factory-abi-info",className:"form-text"},"If this contract is a factory, specify the ABI of the contract that will be applied to the content objects of this type"),o.a.createElement("label",{key:"contract-factory-abi-label",className:"align-top",htmlFor:"factoryAbi"}),o.a.createElement(Yt,{key:"contract-factory-abi",name:"factoryAbi",value:this.state.factoryAbi,onChange:this.HandleInputChange,UpdateValue:function UpdateValue(t){return e.setState({factoryAbi:t})}})]}},{key:"ContractForm",value:function ContractForm(){if(0===Object.keys(this.Contracts()).length)return o.a.createElement("div",null,o.a.createElement("div",{className:"form-content"},this.ContractSourceSelection()),o.a.createElement("label",null),o.a.createElement("div",{className:"form-text"},"No ".concat(this.state.contractSource," contracts available")));var e,t=this.Contracts()[this.state.selectedContract]||{};return t.description&&(e=[o.a.createElement("label",{key:"contract-description-label",htmlFor:"selectedContractDescription"}),o.a.createElement("div",{key:"contract-description",className:"form-text"},t.description)]),o.a.createElement("div",null,o.a.createElement("div",{className:"form-content"},this.ContractSourceSelection(),this.ContractSelection(),this.FactoryAbi(),this.ContractInfoFields(),e,this.ConstructorForm(),this.ContractFunds(t.balance)))}},{key:"render",value:function render(){var e=this.state.isContentObjectContract?"Set Custom Contract":"Deploy Custom Contract",t=this.state.isContentObjectContract?m()({},this.props.methodStatus.SetCustomContentContract):m()({},this.props.methodStatus.DeployContract);t.completed=t.completed&&!!this.state.contractAddress;var a=ia.a.dirname(this.props.match.url),r=this.state.isContentObjectContract?a:F()("/contracts","deployed",this.state.contractAddress||"");return o.a.createElement("div",null,o.a.createElement("div",{className:"actions-container manage-actions"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(_t.h,{legend:e,redirectPath:r,cancelPath:a,status:t,OnSubmit:this.HandleSubmit},this.ContractForm()))}}]),DeployContractForm}(o.a.Component);Xs.propTypes={libraryId:Wt.a.string,objectId:Wt.a.string,contractName:Wt.a.string,contracts:Wt.a.object.isRequired,deployedContracts:Wt.a.object.isRequired,GetContractBalance:Wt.a.func.isRequired,methods:Wt.a.shape({DeployContract:Wt.a.func.isRequired,SetCustomContentContract:Wt.a.func.isRequired})};var ec=Xs,tc=function(){var e=S()(_.a.mark(function _callee(e){var t;return _.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props,a.next=3,t.ListContracts({params:{paginate:!1}});case 3:return a.next=5,t.ListDeployedContracts({params:{paginate:!1}});case 5:case"end":return a.stop()}},_callee)}));return function LoadContracts(t){return e.apply(this,arguments)}}(),ac=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.SetCustomContentContract(a);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee2)}));return function SetCustomContract(t){return e.apply(this,arguments)}}(),rc=function(){var e=S()(_.a.mark(function _callee3(e){var t,a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.DeployContract(a);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},_callee3)}));return function Deploy(t){return e.apply(this,arguments)}}(),nc=pr(ec),oc=Object(c.c)(function mapStateToProps(e){return{contracts:e.contracts.contracts,deployedContracts:e.contracts.deployedContracts}},function mapDispatchToProps(e){return At(e,[ss,cs,hs,bs,ks])})(function DeployContractFormContainer(e){var t=e.libraryId||e.match.params.libraryId,a=e.match.params.objectId,r=e.match.params.contractName;return o.a.createElement(nc,Pt()({},e,{libraryId:t,objectId:a,contractName:r,Load:tc,methods:{DeployContract:rc,SetCustomContentContract:ac}}))}),sc=a(196),cc=a.n(sc),ic=function(e){function EventLogs(){return rt()(this,EventLogs),ct()(this,lt()(EventLogs).apply(this,arguments))}return pt()(EventLogs,e),ot()(EventLogs,[{key:"Key",value:function Key(e){return"log-".concat(e.transactionHash,"-").concat(e.logIndex)}},{key:"Inputs",value:function Inputs(e){var t=Object.entries(e.values).filter(function(e){var t=Wa()(e,1)[0];return"length"!==t&&parseInt(t).toString()!==t}).map(function(e){var t=Wa()(e,2),a=t[0],r=t[1];return"object"===cc()(r)&&r._hex?[a,"".concat(parseInt(r._hex,16)," (").concat(r._hex,")")]:66===r.length?[a,Object(P.e)(r),r]:[a,r]});if(0===t.length)return null;var a=t.map(function(e){var t=Wa()(e,2),a=t[0],r=t[1];return o.a.createElement("div",{className:"labelled-field",key:"input-"+a},o.a.createElement("label",null,a),o.a.createElement("div",{className:"value",title:r.toString()},r))});return o.a.createElement("div",{className:"transaction-input"},o.a.createElement("div",{className:"section-label"},"Method Inputs"),a)}},{key:"Id",value:function Id(e,t){var a;if(e.startsWith("BaseContentSpace"))a=Qe.utils.AddressToSpaceId(t);else if(e.startsWith("BaseLibrary"))a=Qe.utils.AddressToLibraryId(t);else{if(!e.startsWith("BaseContent"))return;a=Qe.utils.AddressToObjectId(t)}return o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"ID"),o.a.createElement("div",{className:"value"},a))}},{key:"Value",value:function Value(e){return"0"===(e=e?Qe.utils.WeiToEther(parseInt(e._hex,16)):"0").toString()?null:o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"Value"),o.a.createElement("div",{className:"value"},o.a.createElement(_t.c,{balance:e.toString()})))}},{key:"ParsedLog",value:function ParsedLog(e){var t=e.contract?"".concat(e.contract," :: ").concat(e.name):e.name;return o.a.createElement("div",{className:"log",key:this.Key(e)},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title bold"},t),o.a.createElement("div",{className:"info"},e.logIndex)),o.a.createElement("div",{className:"inputs indented"},o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"Transaction Hash"),o.a.createElement("div",{className:"value"},e.transactionHash)),this.Id(t,e.address),o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"Contract Address"),o.a.createElement("div",{className:"value"},e.address)),o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"From"),o.a.createElement("div",{className:"value"},e.from)),this.Value(e.value),this.Inputs(e)))}},{key:"RawLog",value:function RawLog(e){return o.a.createElement("div",{className:"log",key:this.Key(e)},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title"}),o.a.createElement("div",{className:"info"},e.logIndex)),o.a.createElement("div",{className:"indented"},o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"Transaction Hash"),o.a.createElement("div",{className:"value"},e.hash)),o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,"From"),o.a.createElement("div",{className:"value"},Object(P.d)(e.from))),o.a.createElement("div",{className:"labelled-field"},o.a.createElement("label",null,!e.to&&e.contractAddress?"Contract Address":"To"),o.a.createElement("div",{className:"value"},Object(P.d)(e.to)||"".concat(Object(P.d)(e.contractAddress)))),this.Value(e.value)))}},{key:"RenderEvent",value:function RenderEvent(e){var t=this;Array.isArray(e)||(e=[e]);var a=e&&e[0]?e[0].blockNumber:"unknown";return o.a.createElement("div",{className:"event",key:"event-"+a},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title"},"Block "+a),o.a.createElement("div",{className:"info"},a)),o.a.createElement("div",{className:"logs"},e.map(function(e){return e.name?t.ParsedLog(e):t.RawLog(e)})))}},{key:"render",value:function render(){var e=this,t=this.props.events;if(this.props.filter){var a=this.props.filter.toLowerCase();t=t.filter(function(e){return e.find(function(e){return(e.contract||"").toLowerCase().includes(a)||(e.name||"").toLowerCase().includes(a)||(e.address||"").toLowerCase().includes(a)||(e.to||"").toLowerCase().includes(a)||(e.from||"").toLowerCase().includes(a)||(e.contractAddress||"").toLowerCase().includes(a)})})}return 0===t.length?o.a.createElement("h4",null,"No events found"):o.a.createElement("div",{className:"events-container"},t.map(function(t){return e.RenderEvent(t)}),o.a.createElement("div",{ref:function ref(t){t&&e.props.scrollToBottom&&t.scrollIntoView()}}))}}]),EventLogs}(o.a.PureComponent);ic.propTypes={events:Wt.a.arrayOf(Wt.a.arrayOf(Wt.a.object)).isRequired,filter:Wt.a.string,scrollToBottom:Wt.a.bool};var lc=ic,uc=function(e){function DeployedContractMethodForm(e){var t;rt()(this,DeployedContractMethodForm),t=ct()(this,lt()(DeployedContractMethodForm).call(this,e));var a=Array.isArray(e.contract.abi)?e.contract.abi.filter(function(e){return"function"===e.type}):[];return t.state={contractMethods:a},t.SetMethodInterface=t.SetMethodInterface.bind(Ua()(t)),t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t.HandleMethodChange=t.HandleMethodChange.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleComplete=t.HandleComplete.bind(Ua()(t)),t}var t;return pt()(DeployedContractMethodForm,e),ot()(DeployedContractMethodForm,[{key:"SetMethodInterface",value:function SetMethodInterface(e){var t=this.state.contractMethods.find(function(t){return t.name===e});if(t){var a={__funds:0};t.inputs=t.inputs.map(function(e,t){return e.name||(e.name="Argument "+t),a[e.name]="",e}),this.setState({methodInterface:t,inputs:a})}}},{key:"HandleMethodChange",value:function HandleMethodChange(e){this.setState({method:e.target.value,methodResults:void 0,transactionResults:void 0}),this.SetMethodInterface(e.target.value)}},{key:"HandleInputChange",value:function HandleInputChange(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState({inputs:m()({},this.state.inputs,y()({},e.target.name,t))})}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){var e,t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(this.state.method){r.next=2;break}return r.abrupt("return");case 2:return e=m()({},this.state.inputs),t=e.__funds||0,delete e.__funds,a=Object.values(e),r.next=8,this.props.methods.CallContractMethod({contractAddress:this.props.contract.address,abi:this.props.contract.abi,methodName:this.state.method,methodArgs:a,value:t});case 8:return r.next=10,this.props.methods.GetContractBalance({contractAddress:this.props.contract.address});case 10:case"end":return r.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"HandleComplete",value:function HandleComplete(){var e=this.props.deployedContract;if(e&&e.methodResults&&void 0!==e.methodResults[this.state.method])if(this.state.methodInterface.constant){var t=this.state.methodInterface.outputs,a=e.methodResults[this.state.method];Array.isArray(a)||(a=[a]);var r=a.map(function(e,a){return e=e._hex?"".concat(parseInt(e._hex,16)," (").concat(e._hex,")"):"bytes32"===t[a].type?Object(P.b)(e):e.toString(),[t[a].name||"Output ".concat(a),e]});this.setState({methodResults:r})}else{var n=e.methodResults[this.state.method];Array.isArray(n)||(n=[n]),this.setState({transactionResults:n})}}},{key:"ContractMethodSelection",value:function ContractMethodSelection(){var e=this.state.contractMethods.filter(function(e){return e.constant}).sort(function(e,t){return e.name>t.name}),t=this.state.contractMethods.filter(function(e){return!e.constant}).sort(function(e,t){return e.name>t.name}),a=e.map(function(e){return o.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)}),r=t.map(function(e){return o.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)});a.unshift(o.a.createElement("option",{disabled:!0,key:"method-option-constant-label"},"CONSTANTS")),r.unshift(o.a.createElement("option",{disabled:!0,key:"method-option-transaction-label"},"TRANSACTIONS"));var n=[o.a.createElement("option",{key:"method-option-select-prompt",value:""},"[Select a Method]")].concat(a.concat(r));return o.a.createElement("select",{name:"method",value:this.state.method,onChange:this.HandleMethodChange},n)}},{key:"ContractMethodForm",value:function ContractMethodForm(){var e,t,a,r=this;return this.state.methodInterface&&(e=this.state.methodInterface.inputs.map(function(e){var t=e.type,a="bool"===t?"checkbox":"text";return[o.a.createElement("label",{key:"contract-method-input-label-"+e.name,htmlFor:e.name},e.name),o.a.createElement("input",{key:"contract-method-input-"+e.name,name:e.name,value:r.state.inputs[e.name],type:a,placeholder:t,maxLength:256,onChange:r.HandleInputChange})]}),a=[o.a.createElement("label",{key:"contract-method-type-label"},"Type"),o.a.createElement("div",{key:"contract-method-type",className:"form-text"},this.state.methodInterface.constant?"Constant":"Transaction")],this.state.methodInterface.payable&&(t=[o.a.createElement("label",{key:"contract-method-funds-label",htmlFor:"__funds"},"Funds"),o.a.createElement("input",{key:"contract-method-funds",type:"number",step:1e-10,name:"__funds",value:this.state.inputs.__funds,onChange:this.HandleInputChange})])),o.a.createElement("div",{className:"form-content"},o.a.createElement("label",null,"Method"),o.a.createElement("div",{className:"form-text"},this.ContractMethodSelection()),a,t,e)}},{key:"MethodResults",value:function MethodResults(){if(this.state.methodResults){var e=this.state.methodResults.map(function(e){return o.a.createElement(Er,{key:"result-"+e[0],label:e[0],value:e[1]})});return o.a.createElement("div",{className:"label-box"},o.a.createElement("h3",null,"Result: "),e)}if(this.state.transactionResults)return o.a.createElement("div",{className:"label-box"},o.a.createElement("h3",null,"Result: "),o.a.createElement(lc,{events:[this.state.transactionResults]}))}},{key:"render",value:function render(){return o.a.createElement("div",{className:"contract-method-form"},o.a.createElement(_t.h,{legend:"Call Contract Method",status:this.props.methodStatus.CallContractMethod,OnSubmit:this.HandleSubmit,OnComplete:this.HandleComplete},this.ContractMethodForm()),this.MethodResults())}}]),DeployedContractMethodForm}(o.a.Component);uc.propTypes={contract:Wt.a.object.isRequired,deployedContract:Wt.a.object.isRequired,methods:Wt.a.shape({CallContractMethod:Wt.a.func.isRequired,GetContractBalance:Wt.a.func.isRequired})};var pc=uc,dc=function(e){function DeployedContract(e){var t;return rt()(this,DeployedContract),(t=ct()(this,lt()(DeployedContract).call(this,e))).state={visibleMethods:{},method:""},t.PageContent=t.PageContent.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t}return pt()(DeployedContract,e),ot()(DeployedContract,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"DeleteButton",value:function DeleteButton(){var e=this;return this.props.contract.type!==ns.unknown?null:o.a.createElement(_t.a,{className:"delete-action",onClick:S()(_.a.mark(function _callee2(){return _.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_t.e)({message:"Are you sure you want to stop watching this contract?",onConfirm:function(){var t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.methods.RemoveDeployedContract({address:e.props.contract.address});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee)}));return function onConfirm(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},_callee2)}))},"Remove Contract")}},{key:"ToggleElement",value:function ToggleElement(e){this.setState({visibleMethods:m()({},this.state.visibleMethods,y()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleMethods[t],n=(r?"Hide ":"Show ")+e;return o.a.createElement(_t.a,{key:"toggle-"+e,className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleElement(t)}},n)}},{key:"AbiInfo",value:function AbiInfo(){if(!this.props.contract.abi)return null;var e=this.state.visibleMethods.__abi?o.a.createElement("pre",{key:"abi-content"},JSON.stringify(this.props.contract.abi,null,2)):null;return[o.a.createElement(Er,{key:"abi-label",label:"ABI"},this.ToggleButton("ABI","__abi")),e]}},{key:"PageContent",value:function PageContent(){var e=ia.a.dirname(this.props.match.url);[ns.contentSpace,ns.library,ns.unknown].includes(this.props.contract.type)?e=ia.a.dirname(e):this.props.contract.type!==ns.accessGroup||this.props.accessGroup||(e=ia.a.dirname(e));var t="φ".concat(Math.round(1e3*(this.props.deployedContract.balance||0))/1e3);return o.a.createElement("div",{className:"page-container contracts-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:e,className:"secondary"},"Back"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"funds")},"Transfer Funds"),o.a.createElement(_t.a,{type:"link",to:F()(this.props.match.url,"logs")},"Contract Logs"),this.DeleteButton()),o.a.createElement(za,{header:this.props.contract.name,subHeader:this.props.contract.description}),o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"label-box"},o.a.createElement("h3",null,"Contract Info"),o.a.createElement(Er,{label:"Name"},this.props.contract.name),o.a.createElement(Er,{label:"Description"},this.props.contract.description),o.a.createElement(Er,{label:"Contract Address"},this.props.contract.address),o.a.createElement(Er,{label:"Balance"},t),this.AbiInfo(),o.a.createElement("h3",null,"Contract Methods"),o.a.createElement(pc,this.props))))}},{key:"render",value:function render(){return this.props.methodStatus.RemoveDeployedContract.completed?o.a.createElement(qt.a,{push:!0,to:ia.a.dirname(ia.a.dirname(this.props.match.url))}):o.a.createElement(_t.k,{fullPage:!0,loading:this.props.methodStatus.RemoveDeployedContract.loading,render:this.PageContent})}}]),DeployedContract}(o.a.Component);dc.propTypes={contract:Wt.a.object.isRequired,deployedContract:Wt.a.object.isRequired,libraryId:Wt.a.string,library:Wt.a.object,objectId:Wt.a.string,object:Wt.a.object,accessGroup:Wt.a.object,methods:Wt.a.shape({RemoveDeployedContract:Wt.a.func})};var mc=dc,hc=function ContractInfoContainer(e,t,a){var r=function(t){function ContractInfo(e){var t;rt()(this,ContractInfo),t=ct()(this,lt()(ContractInfo).call(this,e));var a=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId,n=e.match.params.contractName,o=e.location.pathname.startsWith("/access-groups"),s=e.location.pathname.includes("custom-contract"),c=e.match.params.contractAddress,i=os({libraryId:a,objectId:r,isAccessGroup:o,isCustomContentObjectContract:s,contractAddressParam:c}),l=i.type,u=i.description,p=i.abi,d=i.contractAddress;return t.state={libraryId:a,objectId:r,contractName:n,contract:{type:l,name:n||u,description:u,address:d,abi:p},loaded:!1},t}var a,r;return pt()(ContractInfo,t),ot()(ContractInfo,[{key:"componentDidMount",value:(r=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.RetrieveContractInfo({type:this.state.contract.type,libraryId:this.state.libraryId,objectId:this.state.objectId});case 3:if(!this.state.contract.address||!this.state.contract.abi){e.next=7;break}return e.next=6,this.props.GetContractBalance({contractAddress:this.state.contract.address});case 6:this.setState({loaded:!0});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to load contract info:"),console.error(e.t0);case 13:case"end":return e.stop()}},_callee,this,[[0,9]])})),function componentDidMount(){return r.apply(this,arguments)})},{key:"componentDidUpdate",value:(a=S()(_.a.mark(function _callee2(){var e;return _.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.state.loaded){t.next=8;break}return(e=this.state.contract).type===ns.customObject?e=m()({},e,this.props.object.meta.custom_contract||this.props.object.typeInfo.meta.custom_contract):e.type===ns.unknown&&(e=m()({},e,this.props.deployedContracts[e.address])),e.description=this.state.contract.description,t.next=7,this.props.GetContractBalance({contractAddress:e.address});case 7:this.setState({contract:e,loaded:!0});case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Failed to load contract info:"),console.error(t.t0);case 14:case"end":return t.stop()}},_callee2,this,[[0,10]])})),function componentDidUpdate(){return a.apply(this,arguments)})},{key:"render",value:function render(){return o.a.createElement(_t.k,{fullPage:!0,loading:!this.state.loaded},o.a.createElement(e,Pt()({},this.props,{libraryId:this.state.libraryId,objectId:this.state.objectId,contract:this.state.contract,deployedContract:this.props.deployedContracts[this.state.contract.address]})))}}]),ContractInfo}(o.a.Component);return Object(c.c)(function mapStateToProps(e,a){return m()({},t(e,a),{library:e.content.libraries[a.libraryId||a.match.params.libraryId],object:e.content.objects[a.match.params.objectId],accessGroup:e.accessGroups.accessGroups[a.match.params.contractAddress],deployedContracts:e.contracts.deployedContracts})},function mapDispatchToProps(e){return m()({},At(e,[us,ks]),a(e))})(r)},bc=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.RemoveDeployedContract(a);case 3:case"end":return r.stop()}},_callee)}));return function Delete(t){return e.apply(this,arguments)}}(),fc=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.CallContractMethod(a);case 3:case"end":return r.stop()}},_callee2)}));return function CallMethod(t){return e.apply(this,arguments)}}(),yc=function(){var e=S()(_.a.mark(function _callee3(e){var t,a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.GetContractBalance(a);case 3:case"end":return r.stop()}},_callee3)}));return function GetBalance(t){return e.apply(this,arguments)}}(),vc=pr(mc),gc=hc(function DeployedContractContainer(e){return o.a.createElement(vc,Pt()({},e,{methods:{CallContractMethod:fc,GetContractBalance:yc,RemoveDeployedContract:bc}}))},function mapStateToProps(){return{}},function mapDispatchToProps(e){return At(e,[ls,Cs,ks])}),xc=function(e){function DeployedContractFundsForm(e){var t;return rt()(this,DeployedContractFundsForm),(t=ct()(this,lt()(DeployedContractFundsForm).call(this,e))).state={amount:0,direction:"deposit"},t.HandleSubmit=t.HandleSubmit.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t}var t;return pt()(DeployedContractFundsForm,e),ot()(DeployedContractFundsForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if("deposit"!==this.state.direction){e.next=5;break}return e.next=3,this.props.methods.SendFunds({recipient:this.props.contract.address,ether:this.state.amount});case 3:e.next=7;break;case 5:return e.next=7,this.props.methods.WithdrawContractFunds({contractAddress:this.props.contract.address,abi:this.props.contract.abi,ether:this.state.amount});case 7:case"end":return e.stop()}},_callee,this)})),function HandleSubmit(){return t.apply(this,arguments)})},{key:"render",value:function render(){var e="deposit"===this.state.direction?this.props.methodStatus.SendFunds:this.props.methodStatus.WithdrawContractFunds;return o.a.createElement("div",{className:"page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",className:"secondary",to:ia.a.dirname(this.props.match.url)},"Back")),o.a.createElement(za,{header:this.props.contract.name,subHeader:this.props.contract.description}),o.a.createElement(_t.h,{legend:"Transfer Contract Funds",redirectPath:ia.a.dirname(this.props.match.url),cancelPath:ia.a.dirname(this.props.match.url),status:e,OnSubmit:this.HandleSubmit},o.a.createElement("div",{className:"form-content"},o.a.createElement("label",null,"Current Balance"),o.a.createElement("span",null,this.props.deployedContract.balance),o.a.createElement("label",{htmlFor:"direction"},"Direction"),o.a.createElement(_t.m,{name:"direction",inline:!0,options:[["Deposit","deposit"],["Withdraw","withdraw"]],selected:this.state.direction,onChange:this.HandleInputChange}),o.a.createElement("label",{htmlFor:"amount"},"Amount"),o.a.createElement("input",{name:"amount",type:"number",step:1e-10,value:this.state.amount,onChange:this.HandleInputChange}))))}}]),DeployedContractFundsForm}(o.a.Component);xc.propTypes={contract:Wt.a.object.isRequired,deployedContracts:Wt.a.object.isRequired,methods:Wt.a.shape({SendFunds:Wt.a.func.isRequired,WithdrawContractFunds:Wt.a.func.isRequired})};var Cc=xc,kc=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.SendFunds(a);case 3:case"end":return r.stop()}},_callee)}));return function Send(t){return e.apply(this,arguments)}}(),wc=function(){var e=S()(_.a.mark(function _callee2(e){var t,a;return _.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.WithdrawContractFunds(a);case 3:case"end":return r.stop()}},_callee2)}));return function Withdraw(t){return e.apply(this,arguments)}}(),Ic=function(){var e=S()(_.a.mark(function _callee3(e){var t,a;return _.a.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.GetContractBalance(a);case 3:case"end":return r.stop()}},_callee3)}));return function GetBalance(t){return e.apply(this,arguments)}}(),Ec=pr(Cc),_c=hc(function DeployedContractFundsFormContainer(e){return o.a.createElement(Ec,Pt()({},e,{methods:{SendFunds:kc,WithdrawContractFunds:wc,GetContractBalance:Ic}}))},function mapStateToProps(){return{}},function mapDispatchToProps(e){return At(e,[ws,Is,ks])}),jc=a(294),Sc=a.n(jc),Ac=a(295),Lc=a.n(Ac),Fc=function(e){function Events(e){var t;return rt()(this,Events),(t=ct()(this,lt()(Events).call(this,e))).state={filterInput:"",filter:"",filtering:!1,fromBlock:0,toBlock:0,scrollToBottom:!1,watchEvents:!1,watcher:void 0},t.Reset=t.Reset.bind(Ua()(t)),t.HandleInputChange=t.HandleInputChange.bind(Ua()(t)),t.HandleFilterChange=t.HandleFilterChange.bind(Ua()(t)),t.LoadMoreEvents=t.LoadMoreEvents.bind(Ua()(t)),t.ToggleWatch=t.ToggleWatch.bind(Ua()(t)),t}var t,a;return pt()(Events,e),ot()(Events,[{key:"componentDidMount",value:function componentDidMount(){this.Request()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.CancelWatch(),this.props.ClearMethod({contractAddress:this.props.contractAddress})}},{key:"Loading",value:function Loading(){return this.props.loading&&!this.state.watchEvents||this.state.filtering}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(y()({},e.target.name,parseInt(e.target.value)))}},{key:"HandleFilterChange",value:function HandleFilterChange(e){var t=this,a=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({filterInput:a,filtering:!0,filterTimeout:setTimeout(function(){t.CancelWatch(),t.setState({filter:a,filtering:!1})},500),scrollToBottom:!1})}},{key:"Watch",value:function Watch(){var e=this;this.setState({watchEvents:!0,watcher:setTimeout(S()(_.a.mark(function _callee2(){return _.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e.setState({scrollToBottom:!1},S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Request({fromBlock:e.state.toBlock,updateFrom:!1,cancelWatch:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee)}))),e.Watch();case 2:case"end":return t.stop()}},_callee2)})),3e3)})}},{key:"CancelWatch",value:function CancelWatch(){clearTimeout(this.state.watcher),this.setState({watchEvents:!1})}},{key:"ToggleWatch",value:function ToggleWatch(){this.state.watchEvents?this.CancelWatch():this.Watch()}},{key:"Reset",value:function Reset(){var e=this;this.setState({filter:"",filterInput:""},function(){return e.Request({clear:!0})})}},{key:"Request",value:(a=S()(_.a.mark(function _callee3(){var e,t,a,r,n,o,s,c,i,l,u,p,d=arguments;return _.a.wrap(function _callee3$(m){for(;;)switch(m.prev=m.next){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:{},t=e.fromBlock,a=e.toBlock,r=e.updateFrom,n=void 0===r||r,o=e.updateTo,s=void 0===o||o,c=e.cancelWatch,i=void 0===c||c,l=e.clear,u=void 0!==l&&l,i&&this.CancelWatch(),m.next=4,this.props.GetBlockNumber();case 4:p=m.sent,(!a||a>p)&&(a=p),(void 0===t||t<0)&&(t=this.props.contractAddress?0:Math.max(1,a-10)),a<t&&(t=a),this.props.RequestMethod({contractAddress:this.props.contractAddress,abi:this.props.abi,fromBlock:t,toBlock:a,clear:u}),this.setState({fromBlock:n?t:this.state.fromBlock,toBlock:s?a:this.state.toBlock});case 10:case"end":return m.stop()}},_callee3,this)})),function Request(){return a.apply(this,arguments)})},{key:"LoadMoreEvents",value:(t=S()(_.a.mark(function _callee4(){return _.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:this.Request({fromBlock:this.state.fromBlock-10,toBlock:this.state.toBlock}),this.setState({scrollToBottom:!0});case 2:case"end":return e.stop()}},_callee4,this)})),function LoadMoreEvents(){return t.apply(this,arguments)})},{key:"LoadMoreEventsButton",value:function LoadMoreEventsButton(){return this.state.fromBlock<=1?null:o.a.createElement(_t.k,{loading:this.Loading(),noIndicator:!0},o.a.createElement(_t.a,{onClick:this.LoadMoreEvents},"Load More Events"))}},{key:"FilterControls",value:function FilterControls(){var e=this,t=this.state.watchEvents?Lc.a:Sc.a,a=this.state.watchEvents?"Stop Watching Events":"Watch Events",r=this.state.watchEvents?"watch-icon watching":"watch-icon",n=function request(){return e.Request({toBlock:e.state.toBlock,fromBlock:e.state.fromBlock,clear:!0})};return o.a.createElement("div",{className:"event-controls"},o.a.createElement("div",{className:"control-group filter-group"},o.a.createElement("input",{name:"filterInput",className:"event-filter",value:this.state.filterInput,onChange:this.HandleFilterChange,placeholder:"Filter"})),o.a.createElement("div",{className:"control-group"},o.a.createElement("label",{htmlFor:"fromBlock"},"From"),o.a.createElement("input",{type:"number",name:"fromBlock",value:this.state.fromBlock,onChange:this.HandleInputChange,onKeyPress:Object(_t.o)(n)}),o.a.createElement("label",{htmlFor:"toBlock"},"To"),o.a.createElement("input",{type:"number",name:"toBlock",value:this.state.toBlock,onChange:this.HandleInputChange,onKeyPress:Object(_t.o)(n)})),o.a.createElement("div",{className:"control-group action-group"},o.a.createElement(_t.k,{loading:this.Loading(),loadingIcon:"rotate",loadingClassname:"filter-loading"},o.a.createElement(_t.a,{onClick:n},"Update"),o.a.createElement(_t.a,{className:"secondary",onClick:this.Reset},"Reset"))),o.a.createElement(_t.i,{icon:t,label:a,title:a,className:r,onClick:this.ToggleWatch}))}},{key:"render",value:function render(){return o.a.createElement("div",{className:"events"},this.FilterControls(),o.a.createElement(_t.k,{loading:this.Loading(),noIndicator:!0},o.a.createElement(lc,{events:this.props.events,filter:this.state.filter,scrollToBottom:this.state.scrollToBottom})),o.a.createElement("div",{className:"load-more"},this.LoadMoreEventsButton()))}}]),Events}(o.a.Component);Fc.propTypes={events:Wt.a.arrayOf(Wt.a.arrayOf(Wt.a.object)).isRequired,RequestMethod:Wt.a.func.isRequired,ClearMethod:Wt.a.func.isRequired,GetBlockNumber:Wt.a.func.isRequired,loading:Wt.a.bool.isRequired,contractAddress:Wt.a.string,abi:Wt.a.array};var Tc=Fc,Nc=function(e){function DeployedContractEvents(){return rt()(this,DeployedContractEvents),ct()(this,lt()(DeployedContractEvents).apply(this,arguments))}return pt()(DeployedContractEvents,e),ot()(DeployedContractEvents,[{key:"render",value:function render(){return o.a.createElement("div",{className:"page-container contracts-page-container"},o.a.createElement("div",{className:"actions-container"},o.a.createElement(_t.a,{type:"link",to:ia.a.dirname(this.props.match.url),className:"secondary"},"Back")),o.a.createElement(za,{header:this.props.contract.name,subHeader:this.props.contract.description}),o.a.createElement("div",{className:"page-content"},o.a.createElement("div",{className:"label-box"},o.a.createElement("div",{className:"contract-events"},o.a.createElement(Tc,{events:this.props.deployedContract.events||[],GetBlockNumber:this.props.GetBlockNumber,RequestMethod:this.props.methods.GetContractEvents,ClearMethod:this.props.ClearContractEvents,loading:this.props.methodStatus.GetContractEvents.loading,contractAddress:this.props.contract.address,abi:this.props.contract.abi})))))}}]),DeployedContractEvents}(o.a.Component);Nc.propTypes={contract:Wt.a.object.isRequired,deployedContract:Wt.a.object.isRequired,GetBlockNumber:Wt.a.func.isRequired,ClearContractEvents:Wt.a.func.isRequired,methods:Wt.a.shape({GetContractEvents:Wt.a.func.isRequired})};var Oc=Nc,Rc=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.GetContractEvents(a);case 3:case"end":return r.stop()}},_callee)}));return function Events(t){return e.apply(this,arguments)}}(),Gc=pr(Oc),Mc=hc(function DeployedContractEventsContainer(e){return o.a.createElement(Gc,Pt()({},e,{GetBlockNumber:xs,methods:{GetContractEvents:Rc}}))},function mapStateToProps(){return{}},function mapDispatchToProps(e){return At(e,[fs,ys])}),Pc=function(e){function Logs(){return rt()(this,Logs),ct()(this,lt()(Logs).apply(this,arguments))}return pt()(Logs,e),ot()(Logs,[{key:"render",value:function render(){return o.a.createElement("div",{className:"page-container"},o.a.createElement("div",{className:"page-header-container"},o.a.createElement("h3",{className:"page-header"},"Blockchain Logs")),o.a.createElement(Tc,{events:this.props.logs,GetBlockNumber:this.props.GetBlockNumber,RequestMethod:this.props.methods.GetBlockchainEvents,ClearMethod:this.props.ClearBlockchainEvents,loading:this.props.methodStatus.GetBlockchainEvents.loading}))}}]),Logs}(o.a.Component);Pc.propTypes={logs:Wt.a.array.isRequired,GetBlockNumber:Wt.a.func.isRequired,ClearBlockchainEvents:Wt.a.func.isRequired,methods:Wt.a.shape({GetBlockchainEvents:Wt.a.func.isRequired})};var Hc,Dc=Pc,Bc=function(){var e=S()(_.a.mark(function _callee(e){var t,a;return _.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.props,a=e.params,r.next=3,t.GetBlockchainEvents(a);case 3:case"end":return r.stop()}},_callee)}));return function Events(t){return e.apply(this,arguments)}}(),$c=pr(Dc),qc=Object(c.c)(function mapStateToProps(e){return{logs:e.logs}},function mapDispatchToProps(e){return At(e,[vs,gs])})(function LogsContainer(e){return o.a.createElement($c,Pt()({},e,{GetBlockNumber:xs,methods:{GetBlockchainEvents:Bc}}))}),Uc=Object(Bt.a)(function(e){return{location:e.router.location}})(Ht.a),zc=function(e){function Router(e){var t;return rt()(this,Router),(t=ct()(this,lt()(Router).call(this,e))).state={redirectPath:"",pathSynchronized:!1},Qe.isFrameClient&&t.props.GetFramePath(),t}var t;return pt()(Router,e),ot()(Router,[{key:"componentDidUpdate",value:(t=S()(_.a.mark(function _callee(){return _.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.pathSynchronized){e.next=12;break}if(!Qe.isFrameClient){e.next=9;break}if(void 0!==this.props.frameRouting.path){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Qe.Initialize();case 6:this.props.frameRouting.path!==this.props.router.location.pathname?this.setState({redirectPath:this.props.frameRouting.path}):(this.setState({contentSpaceLibraryId:Qe.contentSpaceLibraryId,redirectPath:"",pathSynchronized:!0}),this.props.StartRouteSynchronization()),e.next=12;break;case 9:return e.next=11,Qe.Initialize();case 11:this.setState({contentSpaceLibraryId:Qe.contentSpaceLibraryId,pathSynchronized:!0});case 12:case"end":return e.stop()}},_callee,this)})),function componentDidUpdate(){return t.apply(this,arguments)})},{key:"render",value:function render(){return!this.state.pathSynchronized&&this.state.redirectPath&&this.state.redirectPath!==this.props.router.location.pathname?o.a.createElement(qt.a,{to:this.state.redirectPath}):this.state.pathSynchronized?o.a.createElement("div",{className:"main-content-container"},o.a.createElement(Uc,null,o.a.createElement(Dt.a,{exact:!0,path:"/",component:hr}),"/* Access Groups */",o.a.createElement(Dt.a,{exact:!0,path:"/access-groups",component:No}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/create",component:Wo}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/:contractAddress",component:Bo}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/:contractAddress/edit",component:Wo}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/:contractAddress/add-member",component:Xo}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/:contractAddress/contract",component:gc}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/:contractAddress/contract/logs",component:Mc}),o.a.createElement(Dt.a,{exact:!0,path:"/access-groups/:contractAddress/contract/funds",component:_c}),"/* Content */ /* For most content routes, add content-types route corresponding to /content/:contentSpaceLibrary */",o.a.createElement(Dt.a,{exact:!0,path:"/content-types",component:co}),o.a.createElement(Dt.a,{exact:!0,path:"/content",component:hr}),o.a.createElement(Dt.a,{exact:!0,path:"/content/create",component:Br}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId",component:Rr}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/edit",component:Br}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/edit",render:function render(e){return o.a.createElement(Br,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/groups",component:tn}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/types",component:Kr}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/create",component:zn}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/create",render:function render(e){return o.a.createElement(ho,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId",component:Pn}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId",render:function render(e){return o.a.createElement(Pn,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/edit",component:zn}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/edit",render:function render(e){return o.a.createElement(ho,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/review",component:ao}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/upload",component:Yn}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/upload",render:function render(e){return o.a.createElement(Yn,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/apps",component:xo}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/apps",render:function render(e){return o.a.createElement(xo,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/apps/:role/add",component:_o}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/apps/:role/add",render:function render(e){return o.a.createElement(_o,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/deploy",component:oc}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/deploy",render:function render(e){return o.a.createElement(oc,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),"/* Base content contract */",o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/contract",component:gc}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/contract",render:function render(e){return o.a.createElement(gc,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/contract/logs",component:Mc}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/contract/logs",render:function render(e){return o.a.createElement(Mc,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/contract/funds",component:_c}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/contract/funds",render:function render(e){return o.a.createElement(_c,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),"/* Custom content contract */",o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract",component:gc}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/custom-contract",render:function render(e){return o.a.createElement(gc,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/logs",component:Mc}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/custom-contract/logs",render:function render(e){return o.a.createElement(Mc,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),o.a.createElement(Dt.a,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/funds",component:_c}),o.a.createElement(Dt.a,{exact:!0,path:"/content-types/:objectId/custom-contract/funds",render:function render(e){return o.a.createElement(_c,Pt()({libraryId:Qe.contentSpaceLibraryId},e))}}),"/* Contracts */",o.a.createElement(Dt.a,{exact:!0,path:"/contracts",component:Ls}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/saved",component:Ls}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/deployed",component:Ls}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/compile",component:$s}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/save",component:Js}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/watch",component:Qs}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/deploy",component:oc}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/deployed/:contractAddress",component:gc}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/deployed/:contractAddress/logs",component:Mc}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/deployed/:contractAddress/funds",component:_c}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/:contractName",component:Gs}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/:contractName/edit",component:Js}),o.a.createElement(Dt.a,{exact:!0,path:"/contracts/:contractName/deploy",component:oc}),"/* Logs */",o.a.createElement(Dt.a,{exact:!0,path:"/logs",component:qc}))):null}}]),Router}(o.a.Component),Vc=$t(Object(Bt.a)(function(e){return{router:e.router,frameRouting:e.frameRouting}},function(e){return At(e,[Ut,zt])})(zc)),Wc=Object(i.a)(),Jc=Object(l.e)((Hc=Wc,Object(l.c)({router:Object(p.b)(Hc),frameRouting:Xe,accessGroups:k,accounts:b,content:v,contracts:x,notifications:C,logs:tt})),Object(l.d)(Object(l.a)(u.a)));Object(s.render)(o.a.createElement(c.a,{store:Jc},o.a.createElement("div",{className:"app-container"},o.a.createElement(p.a,{history:Wc},o.a.createElement(ht,null,o.a.createElement("div",{className:"view-container"},o.a.createElement(St,null),o.a.createElement(Gt,null),o.a.createElement(Vc,null)))))),document.getElementById("app"))}});