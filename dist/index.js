!function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],p=0,d=[];p<i.length;p++)o=i[p],n[o]&&d.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={1:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,a){r=n[e]=[t,a]});t.push(r[2]=a);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+""+({0:"elv-client-js",2:"vendors~elv-client-js"}[e]||e)+".bundle.js"}(e);var c=new Error;s=function(t){i.onerror=i.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",c.name="ChunkLoadError",c.type=a,c.request=s,r[1](c)}n[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:i})},12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([396,3]),r()}({113:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>'},166:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line></svg>'},167:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'},168:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>'},169:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>'},170:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg>'},171:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},172:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clipboard"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>'},174:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>'},175:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'},176:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'},177:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-corner-up-left"><polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path></svg>'},178:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>'},179:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'},18:function(e,t,r){"use strict";(function(e){r.d(t,"f",function(){return u}),r.d(t,"d",function(){return p}),r.d(t,"c",function(){return d}),r.d(t,"a",function(){return m}),r.d(t,"e",function(){return h}),r.d(t,"b",function(){return f});r(1),r(3);var a=r(0),n=r.n(a),s=r(85),o=r.n(s),i=r(108),c=r.n(i),l=r(4),u=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];1===r.length&&Array.isArray(r[0])&&(r=r[0]);for(var n=e,s=0;s<r.length;s++)if(void 0===(n=n[r[s]]))return;return n},p=function(e){return o.a.FormatAddress(e)},d=function(e,t){return p(e)===p(t)},m=function(e){return 0===e||"0"===e?"Free":n.a.createElement(l.c,{balance:e})},h=function(e){try{return f(e)}catch(t){return e.startsWith("0x0000")?new c.a(e).toString():e}},f=function(t){for(var r=e.from(t.replace("0x",""),"hex"),a="",n=0;n<r.length;){var s=r[n++];if(s>>7!=0){var o=null,i=null;if(192==(224&s))o=1,i=127;else if(224==(240&s))o=2,i=2047;else{if(240!=(248&s)){if(128==(192&s))throw new Error("invalid utf8 byte sequence; unexpected continuation byte");throw new Error("invalid utf8 byte sequence; invalid prefix")}o=3,i=65535}if(n+o>r.length)throw new Error("invalid utf8 byte sequence; too short");for(var c=s&(1<<8-o-1)-1,l=0;l<o;l++){var u=r[n];if(128!=(192&u)){c=null;break}c=c<<6|63&u,n++}if(null===c)throw new Error("invalid utf8 byte sequence; invalid continuation byte");if(c<=i)throw new Error("invalid utf8 byte sequence; overlong");if(c>1114111)throw new Error("invalid utf8 byte sequence; out-of-range");if(c>=55296&&c<=57343)throw new Error("invalid utf8 byte sequence; utf-16 surrogate");c<=65535?a+=String.fromCharCode(c):(c-=65536,a+=String.fromCharCode(55296+(c>>10&1023),56320+(1023&c)))}else a+=String.fromCharCode(s)}return a}}).call(this,r(42).Buffer)},180:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'},185:function(e,t,r){var a=r(186);"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(32)(a,n);a.locals&&(e.exports=a.locals)},186:function(e,t,r){(e.exports=r(31)(!1)).push([e.i,'*{-webkit-box-sizing:border-box;box-sizing:border-box}html,body{background-color:#fafafa;color:#222;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;height:100%;margin:0;padding:0}h1{font-size:28px;font-weight:bold;margin:0}h2{font-size:24px;font-weight:bold;margin:0}h3{font-size:20px;font-weight:normal;margin:0}h3.header-with-loader{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}h4{color:#222;font-size:16px;font-weight:normal;margin:8px 0 4px}a{text-decoration:none}a,a:visited{color:#555}a.link{display:block}a.image-link{display:-webkit-box;display:-ms-flexbox;display:flex}ul{display:-webkit-box;display:-ms-flexbox;display:flex;list-style-type:none;margin:0;padding:0}ul li{display:inline}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url("data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+") no-repeat 98% 50%;border:1px solid #ccc;border-radius:0;cursor:pointer;font-size:16px;height:32px;padding:0 0 0 4px;width:250px}input{height:32px}input,textarea,pre{background-color:#fafafa;border:1px solid #ddd;padding:0 4px}pre{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:0;overflow:auto;padding:12px 8px;white-space:pre-wrap;word-wrap:break-word}.-elv-copyable{cursor:pointer}.hidden{display:none !important}.bold{font-weight:bold}.full-width{width:100%}.clickable{cursor:pointer}.actions-container.manage-actions{margin-bottom:24px}.actions-container .-elv-button{margin-right:8px}.clipped-text{cursor:pointer;position:relative;width:100%}.clipped-text.hide{overflow:hidden}.clipped-text.show{max-height:100% !important}.clipped-text .text{background-color:transparent;border:0;font-family:inherit;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.clipped-text .cover.show-more,.clipped-text .cover.show-less{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;width:100%}.clipped-text .cover.show-more{background-image:-webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(transparent), color-stop(transparent), to(#fff));background-image:linear-gradient(to bottom, transparent, transparent, transparent, #fff)}.copyable{display:-webkit-box;display:-ms-flexbox;display:flex}.copyable .copy-icon{height:1.2em;margin-left:8px;width:1.2em}.app{height:100%;max-width:100vw;width:100%}.app-container{height:100%}.header-container{grid-area:header}.navbar-container{grid-area:navbar}.notification-container{grid-area:notifications}.main-content-container{grid-area:main-content;padding:16px 48px 64px}.page-container{height:100%;width:100%}.page-container .page-header-container{margin:24px 0}.page-container .page-header-container .page-subheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6c6c6c;font-size:14px;margin-top:4px;width:70vw}.page-container .page-content{width:100%}.view-container{display:grid;grid-template:"navbar notifications" 35px "navbar main-content" 1fr / 200px;min-height:100%}.loading-page-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.error-page{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.error-page .error-message{color:#a33;margin:24px 0}.error-page .actions-container{height:35px}.modal{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;background:rgba(0,0,0,0.3);color:#222;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.modal .modal-content{background:#fff;border:1px solid #444;border-radius:2px;margin-top:128px;max-height:75%;overflow-y:auto;padding:15px 20px 20px;z-index:1001}.modal .modal-error{-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#a33;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;padding:10px}.modal .modal-error:empty{display:none}.navbar-container{background:#f5f5f5;z-index:99}.navbar-links-container{margin-top:16px}.navbar-links-container .navbar-link-container{display:block;height:50px;text-align:center;width:100%}.navbar-links-container .navbar-link{color:#555;font-size:16px;padding:0 16px}.navbar-links-container .navbar-link:hover{background:#eee}.navbar-links-container .navbar-link.active,.navbar-links-container .navbar-link:hover{font-weight:bold}.navbar-links-container .navbar-link.active{color:#222}.navbar-links-container .navbar-link.active i{color:#1b73e8}.navbar-links-container .navbar-link,.navbar-links-container .navbar-link-span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:100%}.navbar-links-container .navbar-link-icon{color:#444;display:inline-block;height:25px;margin-right:12px;width:25px}.navbar-links-container .navbar-link-text{justify-self:center;text-align:left;width:auto}.navbar-account-container{width:100px}.notification-container{font-size:14px;position:relative}.notification-container .notification-message-container{-webkit-animation:FadeInOut 8s linear;animation:FadeInOut 8s linear;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;background:#1b73e8;color:#fff;opacity:0}.notification-container .error-message-container{background:#a33;color:#fff}.notification-container .notification-message-container,.notification-container .error-message-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.notification-container .notification-message-container span,.notification-container .error-message-container span{text-align:center;width:100%}.notification-container .clear-notification{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:auto;margin-right:12px;width:20px}.notification-container .clear-notification i{height:20px}.notification-container .clear-notification i svg{color:#fff;padding-top:2px;width:20px}.notification-container .clear-notification i svg:hover{color:#aaa}@-webkit-keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:1}}@keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:1}}.object-image{float:right}.object-image img{max-height:20vw;max-width:20vw}.video-player{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.video-player video{cursor:pointer;max-height:60vh;max-width:85%}.content-object-data{margin:20px 0}.app-frame{border:1px solid #eee;display:block;height:50vh;width:100%}.app-frame.display-frame{margin-bottom:24px}.account-image{max-height:100px;max-width:100px}.version-info{margin-bottom:10px}.version-info.version-visible{margin-bottom:30px}.object-description{height:100%;margin-bottom:5px}.object-description.show{max-height:100%}.object-description.hide{max-height:3.5em}.part-info{margin-bottom:16px}.download-progress{color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.download-progress progress{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:8px}.label-box{width:100%}.label-box h2{font-size:20px;font-weight:400;margin:24px 0 16px}.label-box h3{font-size:18px;margin:24px 0 16px}.label-box .labelled-field{display:-webkit-box;display:-ms-flexbox;display:flex;padding:4px 16px 4px 0}.label-box .labelled-field label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#6c6c6c;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:150px}.label-box .labelled-field label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.label-box .labelled-field label.wide{min-width:250px}.label-box .labelled-field label.bold{font-weight:bold}.label-box .labelled-field .inline-link{color:#1b73e8}.label-box .labelled-field .comma-separated-list{white-space:normal}.label-box .labelled-field .comma-separated-list *::after{color:#222;content:",";margin-right:8px}.label-box .labelled-field .comma-separated-list *:last-child::after{content:""}.label-box .labelled-field div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:500px}.label-box .labelled-field.labelled-field button{font-size:12px;width:200px}.label-box .indented{padding-left:24px}.label-box pre{margin-top:16px;max-width:75vw;white-space:pre-wrap}.label-box pre.event-log{max-height:500px}.events{max-width:1200px}.events h4{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:18px;font-weight:bold;height:50vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.events .event-controls{display:-webkit-box;display:-ms-flexbox;display:flex;height:32px;margin-bottom:16px;width:100%}.events .event-controls .control-group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:100%}.events .event-controls .control-group.action-group{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}.events .event-controls .control-group.filter-group{-webkit-box-flex:15;-ms-flex-positive:15;flex-grow:15}.events .event-controls .control-group label{margin-right:8px}.events .event-controls .control-group input,.events .event-controls .control-group button{font-size:14px;height:100%}.events .event-controls .control-group input:not(:last-child),.events .event-controls .control-group button:not(:last-child){margin-right:8px}.events .event-controls .control-group input:not(.watch-icon),.events .event-controls .control-group button:not(.watch-icon){min-width:auto;width:100px}.events .event-controls .control-group input.event-filter,.events .event-controls .control-group button.event-filter{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:16px;margin-right:16px}.events .event-controls .watch-icon{width:35px}.events .event-controls .watch-icon.watching svg{-webkit-animation:watch-pulse 3s infinite normal;animation:watch-pulse 3s infinite normal}.events .event-controls .watch-icon:hover svg{color:#aaa}.events .events-container{height:75vh;max-height:75vh;overflow-y:auto;padding:16px 8px 16px 0}.events .filter-loading{width:208px}.events .load-more{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:16px;width:100%}.event .header,.log .header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:8px}.event .header .info,.log .header .info{color:#6c6c6c;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:12px}.event{border:1px solid #555;font-size:12px;margin-bottom:24px;padding:16px}.log{border:1px solid #ccc;margin-bottom:8px;padding:16px}.log .labelled-field{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1.6}.log .labelled-field label{min-width:175px;width:175px}.log .labelled-field .value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:12px;max-width:50vw}.log .section-label{font-size:12px;font-weight:600;margin:16px 0 4px}@-webkit-keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}@keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}.upload-widget{padding:16px}.file-browser{border:1px solid #ddd;margin:16px 0;max-height:50vh;overflow-y:auto;width:100%}.file-browser i,.file-browser .download-button,.file-browser .copy-button{height:20px;margin:0;padding:0;width:20px}.file-browser button:hover svg{color:#aaa}.file-browser table{border-collapse:collapse;table-layout:fixed;width:100%}.file-browser thead{height:45px}.file-browser th{text-align:left}.file-browser th.type-header{width:40px}.file-browser th.type-header button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.file-browser th.type-header button i{width:20px}.file-browser th.actions-header{padding:4px 0;text-align:center;width:130px}.file-browser th.size-header{width:5em}.file-browser tr{border-top:1px solid #eee;height:35px}.file-browser tr.directory{cursor:pointer}.file-browser tr.directory:hover{background-color:#f5f5f5}.file-browser tr td{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:35px}.file-browser tr td.item-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.file-browser tr td.info-cell{text-align:right}.file-browser tr td.actions-cell{text-align:center}.file-browser tr td.actions-cell button{margin-right:8px}.file-browser tr td .item-path{max-width:150px}.listing .loading{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.listing .listing-actions{display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.listing .listing-actions .controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:35px;margin-right:8px}.listing .listing-actions .controls.right-controls{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.listing .listing-actions .controls input{max-width:250px}.listing .listing-actions .controls select{max-width:200px}.listing .listing-actions .controls input,.listing .listing-actions .controls select{border:1px solid #ddd;-ms-flex-preferred-size:100px;flex-basis:100px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:100%;min-width:0;width:auto}.listing .listing-actions .page-controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%}.listing .listing-actions .page-controls:last-child{border-right:1px solid #ddd}.listing .listing-actions .page-controls li{border:1px solid #ddd;border-right:0;height:100%}.listing .listing-actions .page-controls li .page-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:transparent;border:0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;min-width:2.5em}.listing .listing-actions .page-controls li .page-button:hover{background:#ddd}.listing .listing-actions .page-controls li .page-button:active{background:#eee}.listing .listing-actions .page-controls li .page-button:disabled{color:#222;font-weight:bold}.listing .listing-actions .page-controls li .page-button:disabled:hover,.listing .listing-actions .page-controls li .page-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li .page-button:disabled.selected{background:#f5f5f5}.listing .listing-actions .page-controls li .text-button:disabled{color:#aaa;font-weight:normal}.listing .listing-actions .page-controls li .text-button:disabled:hover,.listing .listing-actions .page-controls li .text-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .listing-action{margin:0 4px;padding:4px}.listing .listing-actions .listing-action i{height:25px;width:25px}.listing .listing-actions .loading-action{width:41px}.listing .listing-actions .filter{font-size:16px;height:30px;margin:0 8px;padding:0 8px}.listing .listing-count{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:8px 0 16px}.listing .grid-listing{display:grid;grid-gap:32px 24px;grid-template-columns:repeat(auto-fill, 215px)}.listing .grid-listing-element:hover .listing-info,.listing .grid-listing-element:focus .listing-info{background-color:#ddd}.listing .grid-listing-element .icon-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.listing .grid-listing-element .icon-container .-elv-cropped-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(215px * .75);-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;max-height:calc(215px * .75);overflow:hidden;width:215px}.listing .grid-listing-element .icon-container .-elv-cropped-icon .-elv-icon{height:calc(215px * .75);max-height:calc(215px * .75);max-width:215px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;padding:0;width:215px}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action{position:relative}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action .-elv-hover-action{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;visibility:hidden;width:100%;z-index:1000}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action .-elv-hover-action span{background:rgba(0,0,0,0.75);color:#fff;padding:8px}.listing .grid-listing-element .icon-container .-elv-cropped-icon-with-action:hover .-elv-hover-action{background:rgba(0,0,0,0.3);visibility:visible}.listing .grid-listing-element .icon-container i{padding:8px 32px 32px !important}.listing .grid-listing-element .listing-info{height:120px;padding:8px 4px 0}.listing .grid-listing-element .title{color:#222;font-size:18px;margin-bottom:8px}.listing .grid-listing-element .description{font-size:14px;height:50px;margin-bottom:8px;max-height:80px;overflow:hidden}.listing .grid-listing-element .title,.listing .grid-listing-element .status{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.listing .grid-listing-element .title,.listing .grid-listing-element .description,.listing .grid-listing-element .status{text-align:center}.listing table{border-collapse:collapse;max-width:100%;table-layout:fixed;width:100%}.listing table *{border:0}.listing thead tr th{margin:0;padding:0}.listing thead tr th.icon-header{width:125px}.listing thead tr th.title-header{width:35%}.listing thead tr th.status-header{width:150px}.listing tbody tr{height:calc(calc(125px * .75) + 8px);max-height:calc(calc(125px * .75) + 8px)}.listing tbody tr:hover,.listing tbody tr:focus{background-color:#f5f5f5;cursor:pointer}.listing tbody tr td{color:#6c6c6c;margin:0;overflow:hidden;padding:8px 0 8px 16px;word-wrap:break-word}.listing tbody tr td.icon-cell{padding:0}.listing tbody tr td.title-cell{color:#222;font-size:18px}.listing tbody tr td.status-cell{font-size:14px}.listing tbody tr td .cropped-text{height:auto;max-height:70px;overflow-x:visible;overflow-y:hidden;white-space:normal}.listing tbody tr td .icon-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.listing tbody tr td .icon-container .-elv-cropped-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(125px * .75);-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;max-height:calc(125px * .75);overflow:hidden;width:125px}.listing tbody tr td .icon-container .-elv-cropped-icon .-elv-icon{height:calc(125px * .75);max-height:calc(125px * .75);max-width:125px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;padding:0;width:125px}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action{position:relative}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action .-elv-hover-action{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;visibility:hidden;width:100%;z-index:1000}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action .-elv-hover-action span{background:rgba(0,0,0,0.75);color:#fff;padding:8px}.listing tbody tr td .icon-container .-elv-cropped-icon-with-action:hover .-elv-hover-action{background:rgba(0,0,0,0.3);visibility:visible}.listing tbody tr td .icon-container i{padding:0 16px !important}.listing tbody tr td a{display:block;height:100%;width:100%}.-elv-form{display:block;width:600px}.-elv-form fieldset{border:1px solid #ccc;padding:0 32px}.-elv-form .form-content{display:grid;grid-gap:16px;grid-template-columns:1fr 3fr;margin:24px 0 32px}.-elv-form .form-content.no-margins{margin:0}.-elv-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.-elv-form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:6px}.-elv-form input,.-elv-form textarea{border:1px solid #ccc;font-size:16px}.-elv-form input{width:auto}.-elv-form input[type="checkbox"]{margin:0;width:1em}.-elv-form textarea{font-family:inherit;height:10em;padding:4px}.-elv-form select{width:100%}.-elv-form .image-preview{margin-top:16px;width:100%}.-elv-form .image-preview img{width:100%}.-elv-form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.-elv-form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:4px}.-elv-form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:24px 0;width:100%}.-elv-form .form-actions *:not(:last-child){margin-right:8px}.-elv-form .form-error{background:#a33;color:#fff;margin-top:16px;padding:8px}@media only screen and (max-width: 1000px){.-elv-form form{width:100%}.-elv-form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.-elv-form form .form-content label{margin-bottom:4px}.-elv-form form .form-content *{margin-bottom:16px}}form{display:block;width:600px}form fieldset{border:1px solid #ccc;padding:0 32px}form .form-content{display:grid;grid-gap:16px;grid-template-columns:1fr 3fr;margin:24px 0 32px}form .form-content.no-margins{margin:0}form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:6px}form input,form textarea{border:1px solid #ccc;font-size:16px}form input{width:auto}form input[type="checkbox"]{margin:0;width:1em}form textarea{font-family:inherit;height:10em;padding:4px}form select{width:100%}form .image-preview{margin-top:16px;width:100%}form .image-preview img{width:100%}form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:4px}form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:24px 0;width:100%}form .form-actions *:not(:last-child){margin-right:8px}form .form-error{background:#a33;color:#fff;margin-top:16px;padding:8px}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:4px}form form .form-content *{margin-bottom:16px}}form input{height:2em}form .list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:8px;width:100%}form .list .list-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:8px;position:relative}form .list .list-item input{width:100%}form .list .list-item .-elv-icon-button{height:20px;margin:0;padding:0;position:absolute;right:5px;width:20px}form h4{font-size:16px;font-weight:500;margin:16px 0;text-align:center}form .section-separator{border-bottom:1px solid #ddd;margin-bottom:32px;padding-top:8px}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:4px}form form .form-content *{margin-bottom:16px}}\n',""])},241:function(e,t){String.prototype.capitalize=function(){return this.replace(/_/g," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.prototype.toHash=function(){return this.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}},256:function(e,t){},258:function(e,t){},38:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-package"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line><line x1="7" y1="3.5" x2="17" y2="8.5"></line></svg>'},396:function(e,t,r){"use strict";r.r(t);r(185);var a,n=r(0),s=r.n(n),o=r(156),i=r(17),c=r(41),l=r(39),u=r(158),p=r(84),d=r(5),m=r.n(d),h={accessGroups:{list:"LIST_ACCESS_GROUPS",get:"GET_ACCESS_GROUP",members:{list:"LIST_ACCESS_GROUP_MEMBERS"}},accounts:{get:{currentAccountAddress:"GET_CURRENT_ACCOUNT_ADDRESS"}},content:{libraries:{list:"LIST_LIBRARIES",get:"GET_LIBRARY",groups:"GET_LIBRARY_GROUPS",types:"GET_LIBRARY_TYPES"},objects:{list:"LIST_OBJECTS",get:"GET_OBJECTS",versions:"GET_OBJECT_VERSIONS",permissions:"GET_OBJECT_PERMISSIONS"},types:{get:"GET_TYPE",list:"LIST_TYPES",all:"ALL_TYPES"}},contracts:{list:"LIST_CONTRACTS",compile:"COMPILE_CONTRACTS",deployed:{list:"LIST_DEPLOYED_CONTRACTS",balance:"GET_CONTRACT_BALANCE",events:"GET_CONTRACT_EVENTS",clearEvents:"CLEAR_CONTRACT_EVENTS",call:"CALL_CONTRACT_METHOD"},error:{compile:"ERROR_CONTRACT_COMPILATION"}},logs:{clear:"CLEAR_BLOCKCHAIN_LOGS",list:"LIST_BLOCKCHAIN_LOGS"},notifications:{error:"SET_ERROR_MESSAGE",notification:"SET_NOTIFICATION_MESSAGE",clear:"CLEAR_NOTIFICATIONS"},requests:{status:{submitted:"REQUEST_SUBMITTED",completed:"REQUEST_COMPLETED",error:"REQUEST_ERROR"}},routes:{path:"ROUTING_FRAME_PATH",synchronize:"START_ROUTE_SYNCHRONIZATION"}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.accounts.get.currentAccountAddress:return m()({},e,{currentAccountAddress:t.address});default:return m()({},e,{currentAccountAddress:e.currentAccountAddress})}},b=r(15),v=r.n(b),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.content.libraries.list:return m()({},e,{libraries:t.libraries,count:m()({},e.count,{libraries:t.count})});case h.content.libraries.get:return m()({},e,{libraries:m()({},e.libraries,v()({},t.libraryId,t.library))});case h.content.libraries.types:return m()({},e,{libraries:m()({},e.libraries,v()({},t.libraryId,m()({},e.libraries[t.libraryId],{types:t.types})))});case h.content.libraries.groups:return m()({},e,{libraries:m()({},e.libraries,v()({},t.libraryId,m()({},e.libraries[t.libraryId],{groups:t.groups})))});case h.content.objects.list:return m()({},e,{objects:m()({},t.objects),cacheId:t.cacheId,count:m()({},e.count,{objects:m()({},e.count.objects||{},v()({},t.libraryId,t.count))})});case h.content.objects.get:return m()({},e,{objects:m()({},e.objects,v()({},t.objectId,t.object))});case h.content.objects.versions:return m()({},e,{objects:m()({},e.objects,v()({},t.objectId,m()({},e.objects[t.objectId],{versions:t.versions})))});case h.content.objects.permissions:return m()({},e,{objects:m()({},e.objects,v()({},t.objectId,m()({},e.objects[t.objectId],{permissions:t.permissions})))});case h.content.types.all:return m()({},e,{allTypes:t.types});case h.content.types.list:return m()({},e,{types:t.types,count:m()({},e.count,{types:t.count})});case h.content.types.get:return m()({},e,{types:m()({},e.types,v()({},t.contentType.hash,t.contentType))});default:return m()({},e,{libraries:e.libraries||{},objects:e.objects||{},types:e.types||{},allTypes:e.allTypes||{},count:e.count||{libraries:0,objects:{},types:0}})}},g=function(e){var t={};return e.forEach(function(e){return t[e[0].blockNumber]=e}),Object.values(t).sort(function(e,t){return e[0].blockNumber<t[0].blockNumber?1:-1})},x=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case h.contracts.list:return m()({},t,{contracts:r.contracts,count:m()({},t.count,{contracts:r.count})});case h.contracts.compile:return m()({},t,{contractData:r.contractData,errors:void 0});case h.contracts.error.compile:return m()({},t,{contractData:{},errors:r.errors});case h.contracts.deployed.list:return m()({},t,{deployedContracts:r.contracts,count:m()({},t.count,{deployedContracts:r.count})});case h.contracts.deployed.balance:return e=t.deployedContracts[r.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,v()({},r.contractAddress,m()({},e,{balance:r.balance})))});case h.contracts.deployed.events:return e=t.deployedContracts[r.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,v()({},r.contractAddress,m()({},e,{events:g((e.events||[]).concat(r.blocks))})))});case h.contracts.deployed.clearEvents:return e=t.deployedContracts[r.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,v()({},r.contractAddress,m()({},e,{events:[]})))});case h.contracts.deployed.call:return e=t.deployedContracts[r.contractAddress]||{},m()({},t,{deployedContracts:m()({},t.deployedContracts,v()({},r.contractAddress,m()({},e,{methodResults:m()({},e.methodResults,v()({},r.methodName,r.methodResults))})))});default:return m()({},t,{count:t.count||{},contracts:t.contracts||{},deployedContracts:t.deployedContracts||{},logs:t.logs||{}})}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.notifications.error:return m()({},e,{errorMessage:t.message,notificationMessage:"",redirect:t.redirect||!1});case h.notifications.notification:return m()({},e,{errorMessage:"",notificationMessage:t.message,redirect:t.redirect||!1});case"@@router/LOCATION_CHANGE":if(e.redirect)return m()({},e,{redirect:!1});case h.notifications.clear:return m()({},e,{errorMessage:"",notificationMessage:""});default:return m()({},e,{notificationMessage:e.notificationMessage||"",errorMessage:e.errorMessage||"",redirect:e.redirect||!1})}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.accessGroups.list:return m()({},e,{accessGroups:t.accessGroups,count:m()({},e.count,{accessGroups:t.count})});case h.accessGroups.get:return m()({},e,{accessGroups:m()({},e.accessGroups,v()({},t.contractAddress,t.accessGroup))});case h.accessGroups.members.list:return m()({},e,{accessGroups:m()({},e.accessGroups,v()({},t.contractAddress,m()({},e.accessGroups[t.contractAddress],{members:t.members}))),count:m()({},e.count,{members:m()({},e.count.members,v()({},t.contractAddress,t.count))})});default:return m()({},e,{accessGroups:e.accessGroups||{},count:e.count||{accessGroups:0,members:{}}})}},C=r(1),I=r.n(C),E=r(3),j=r.n(E),S=r(107),A=r(16),N=r.n(A),O=r(35),T=r.n(O),L=r(48),R=r.n(L),F=r(18),G=window.location.search.split("?")[1];G&&(G=G.split("&")).forEach(function(e){"privateKey"===e.split("=")[0]&&(a=e.split("=")[1])});var H,M,P,B,q,D,U,z,_,V,W,J,K,Y,Z,Q,X,$,ee,te,re,ae,ne,se,oe,ie,ce,le,ue,pe,de,me,he,fe,be,ve,ye,ge,xe,ke,we,Ce,Ie,Ee,je,Se,Ae,Ne,Oe,Te,Le,Re,Fe,Ge,He,Me,Pe,Be,qe,De,Ue,ze,_e,Ve,We,Je,Ke,Ye,Ze,Qe,Xe=window.self!==window.top,$e=new S.FrameClient({target:window.parent,timeout:30}),et={currentAccountAddress:void 0,utils:$e.utils,isFrameClient:Xe,Initialize:(Qe=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Xe){e.next=11;break}return e.next=3,Promise.all([r.e(2),r.e(0)]).then(r.t.bind(null,828,7));case 3:return t=e.sent.ElvClient,e.next=6,t.FromConfigurationUrl({configUrl:EluvioConfiguration["config-url"]});case 6:return $e=e.sent,e.next=9,$e.SetSigner({signer:$e.GenerateWallet().AddAccount({privateKey:a})});case 9:e.next=12;break;case 11:$e=new S.FrameClient({target:window.parent,timeout:30});case 12:return window.fabricBrowserClient=$e,e.next=15,$e.ContentSpaceId();case 15:this.contentSpaceId=e.sent,this.contentSpaceLibraryId=this.contentSpaceId.replace("ispc","ilib");case 17:case"end":return e.stop()}},e,this)})),function(){return Qe.apply(this,arguments)}),GetFramePath:(Ze=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!et.isFrameClient){e.next=4;break}return e.next=3,$e.SendMessage({options:{operation:"GetFramePath"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(){return Ze.apply(this,arguments)}),SetFramePath:(Ye=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.path,!et.isFrameClient){e.next=5;break}return e.next=4,$e.SendMessage({options:{operation:"SetFramePath",path:r}});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})),function(e){return Ye.apply(this,arguments)}),ExecuteFrameRequest:(Ke=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.request,a=t.Respond,!Xe){e.next=9;break}return e.t0=a,e.next=5,$e.PassRequest({request:r,Respond:a});case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=14;break;case 9:return e.t2=a,e.next=12,$e.CallFromFrameMessage(r);case 12:e.t3=e.sent,(0,e.t2)(e.t3);case 14:case"end":return e.stop()}},e)})),function(e){return Ke.apply(this,arguments)}),CurrentAccountAddress:(Je=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(et.currentAccountAddress){e.next=6;break}return e.t0=F.d,e.next=4,$e.CurrentAccountAddress();case 4:e.t1=e.sent,et.currentAccountAddress=(0,e.t0)(e.t1);case 6:return e.abrupt("return",et.currentAccountAddress);case 7:case"end":return e.stop()}},e)})),function(){return Je.apply(this,arguments)}),CreateAccessGroup:(We=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.CreateAccessGroup();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return We.apply(this,arguments)}),DeleteAccessGroup:(Ve=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,e.next=3,$e.DeleteAccessGroup({contractAddress:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return Ve.apply(this,arguments)}),AddAccessGroupMember:(_e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,a=t.memberAddress,e.next=3,$e.AddAccessGroupMember({contractAddress:r,memberAddress:Object(F.d)(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return _e.apply(this,arguments)}),RemoveAccessGroupMember:(ze=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,a=t.memberAddress,e.next=3,$e.RemoveAccessGroupMember({contractAddress:r,memberAddress:Object(F.d)(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return ze.apply(this,arguments)}),AddAccessGroupManager:(Ue=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,a=t.memberAddress,e.next=3,$e.AddAccessGroupManager({contractAddress:r,memberAddress:Object(F.d)(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return Ue.apply(this,arguments)}),RemoveAccessGroupManager:(De=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,a=t.memberAddress,e.next=3,$e.RemoveAccessGroupManager({contractAddress:r,memberAddress:Object(F.d)(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return De.apply(this,arguments)}),FilterContentLibraries:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.filter(function(e){var n=e.meta;try{var s=(n[t]||"").toLowerCase().includes(r);return a?!s:s}catch(e){return!1}})},ListContentLibraries:(qe=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.next=3,$e.ContentLibraries();case 3:return a=e.sent,e.next=6,Promise.all(a.map(function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.replace("ilib","iq__"),e.next=4,$e.ContentObject({libraryId:t,objectId:r});case 4:return e.next=6,$e.ContentObjectMetadata({libraryId:t,objectId:r});case 6:return a=e.sent,e.abrupt("return",{libraryId:t,meta:a});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()));case 6:n=(n=e.sent).filter(function(e){return void 0!==e}),e.t0=r.selectFilter,e.next="content"===e.t0?11:"users"===e.t0?13:"elv-media-platform"===e.t0?15:17;break;case 11:return n=n.filter(function(e){var t=e.meta;return!["elv-user-library","elv-media-platform"].includes((t.class||"").toLowerCase())}),e.abrupt("break",19);case 13:return n=et.FilterContentLibraries(n,"class","elv-user-library"),e.abrupt("break",19);case 15:return n=et.FilterContentLibraries(n,"class","elv-media-platform"),e.abrupt("break",19);case 17:return n=et.FilterContentLibraries(n,"class","elv-user-library",!0),e.abrupt("break",19);case 19:return r.filter&&(n=et.FilterContentLibraries(n,"name",r.filter.toLowerCase())),n=n.sort(function(e,t){e.meta=e.meta||{},t.meta=t.meta||{};var r=e.meta.name||"zz",a=t.meta.name||"zz";return r.toLowerCase()>a.toLowerCase()?1:-1}),s=n.length,o=(r.page||1)-1,i=r.perPage||10,e.next=26,et.CurrentAccountAddress();case 26:return c=e.sent,n=n.slice(o*i,(o+1)*i),l={},e.next=31,Promise.all(n.map(function(){var e=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.meta,e.prev=1,n=r.replace("ilib","iq__"),e.next=5,et.GetContentObjectImageUrl({libraryId:r,objectId:n,metadata:a});case 5:return s=e.sent,e.next=8,et.GetContentLibraryOwner({libraryId:r});case 8:o=e.sent,l[r]={libraryId:r,name:a.name||r,description:a["eluv.description"],imageUrl:s,owner:o,isOwner:Object(F.c)(o,c),isContentSpaceLibrary:r===et.contentSpaceLibraryId},e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Failed to get content library ".concat(a.name||r,": ")),console.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()));case 31:return e.abrupt("return",{libraries:l,count:s});case 32:case"end":return e.stop()}},e)})),function(e){return qe.apply(this,arguments)}),GetContentLibrary:(Be=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,e.next=3,$e.ContentLibrary({libraryId:r});case 3:return a=e.sent,e.next=6,et.GetContentLibraryOwner({libraryId:r});case 6:return n=e.sent,e.next=9,et.CurrentAccountAddress();case 9:return s=e.sent,o=r.replace("ilib","iq__"),e.next=13,et.GetContentObject({libraryId:r,objectId:o});case 13:return i=e.sent,e.next=16,et.GetContentObjectMetadata({libraryId:r,objectId:o});case 16:return c=e.sent,e.next=19,et.GetContentObjectImageUrl({libraryId:r,objectId:o,versionHash:i.hash,metadata:c});case 19:return l=e.sent,e.next=22,et.ListLibraryContentTypes({libraryId:r});case 22:return u=e.sent,e.abrupt("return",m()({},a,{libraryId:r,types:u,name:c.name||r,description:c["eluv.description"],contractAddress:Object(F.d)($e.utils.HashToAddress(r)),libraryObjectId:r.replace("ilib","iq__"),privateMeta:c,imageUrl:l,owner:n,isOwner:Object(F.c)(n,s),isContentSpaceLibrary:r===et.contentSpaceLibraryId}));case 24:case"end":return e.stop()}},e)})),function(e){return Be.apply(this,arguments)}),ListLibraryContentTypes:(Pe=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.libraryId)!==et.contentSpaceLibraryId){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,$e.LibraryContentTypes({libraryId:r});case 5:return a=e.sent,e.next=8,Promise.all(Object.values(a).map(function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.AppUrls({object:t});case 2:a[t.id].appUrls=e.sent;case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),function(e){return Pe.apply(this,arguments)}),AddLibraryContentType:(Me=j()(I.a.mark(function e(t){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.typeId,n=t.customContractAddress,e.next=3,$e.AddLibraryContentType({libraryId:r,typeId:a,customContractAddress:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return Me.apply(this,arguments)}),RemoveLibraryContentType:(He=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.typeId,e.next=3,$e.RemoveLibraryContentType({libraryId:r,typeId:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return He.apply(this,arguments)}),GetContentLibraryOwner:(Ge=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,e.next=3,$e.ContentLibraryOwner({libraryId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return Ge.apply(this,arguments)}),CreateContentLibrary:(Fe=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.description,n=t.publicMetadata,s=t.privateMetadata,e.next=3,$e.CreateContentLibrary({name:r,description:a,metadata:m()({},n||{},s||{})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return Fe.apply(this,arguments)}),DeleteContentLibrary:(Re=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,e.next=3,$e.DeleteContentLibrary({libraryId:r});case 3:case"end":return e.stop()}},e)})),function(e){return Re.apply(this,arguments)}),SetContentLibraryImage:(Le=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.image,e.next=3,$e.SetContentLibraryImage({libraryId:r,image:a});case 3:case"end":return e.stop()}},e)})),function(e){return Le.apply(this,arguments)}),CollectLibraryGroups:(Te=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.type,n=t.knownGroups,e.next=3,$e.CallContractMethod({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:a+"GroupsLength"});case 3:s=e.sent,s=parseInt(s._hex,16),o=[],i=I.a.mark(function e(t){var s,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.CallContractMethod({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:a+"Groups",methodArgs:[t]});case 2:s=e.sent,(i=Object.values(n).find(function(e){return Object(F.c)(e.address,s)}))?o.push(i):o.push({address:Object(F.d)(s)});case 5:case"end":return e.stop()}},e)}),c=0;case 8:if(!(c<s)){e.next=13;break}return e.delegateYield(i(c),"t0",10);case 10:c++,e.next=8;break;case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e)})),function(e){return Te.apply(this,arguments)}),GetContentLibraryGroups:(Oe=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.libraryId)!==et.contentSpaceLibraryId){e.next=3;break}return e.abrupt("return",{accessor:[],contributor:[],reviewer:[]});case 3:return e.next=5,et.FabricBrowser.AccessGroups({params:{}});case 5:return a=e.sent,e.next=8,et.CollectLibraryGroups({libraryId:r,type:"accessor",knownGroups:a});case 8:return e.t0=e.sent,e.next=11,et.CollectLibraryGroups({libraryId:r,type:"contributor",knownGroups:a});case 11:return e.t1=e.sent,e.next=14,et.CollectLibraryGroups({libraryId:r,type:"reviewer",knownGroups:a});case 14:return e.t2=e.sent,e.abrupt("return",{accessor:e.t0,contributor:e.t1,reviewer:e.t2});case 16:case"end":return e.stop()}},e)})),function(e){return Oe.apply(this,arguments)}),AddContentLibraryGroup:(Ne=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.address,n=t.groupType,e.prev=1,e.next=4,$e.CallContractMethodAndWait({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:"add"+n.capitalize()+"Group",methodArgs:[Object(F.d)(a)]});case 4:return s=e.sent,e.next=7,$e.ExtractEventFromLogs({abi:T.a.abi,event:s,eventName:n.capitalize()+"GroupAdded"});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),Error("Failed to add "+n+"group "+a);case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return Ne.apply(this,arguments)}),RemoveContentLibraryGroup:(Ae=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.address,n=t.groupType,e.prev=1,e.next=4,$e.CallContractMethodAndWait({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:"remove"+n.capitalize()+"Group",methodArgs:[Object(F.d)(a)]});case 4:return s=e.sent,e.next=7,$e.ExtractEventFromLogs({abi:T.a.abi,event:s,eventName:n.capitalize()+"GroupRemoved"});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),Error("Failed to add "+n+"group "+a);case 12:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return Ae.apply(this,arguments)}),ListContentObjects:(Se=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u,p,d,h,f,b,v,y,g,x,k;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.params,n={select:["name","eluv.description","image"],sort:"name",limit:a.perPage},a.page&&(n.start=(a.page-1)*a.perPage),a.filter&&(n.filter={key:"name",type:"cnt",filter:a.filter}),a.cacheId&&(n.cacheId=a.cacheId),e.next=7,$e.ContentObjects({libraryId:r,filterOptions:n});case 7:s=e.sent,o=s.contents,i=s.paging,o=o||[],c=i.items,l=i.cache_id,u={},p=!0,d=!1,h=void 0,e.prev=17,f=o[Symbol.iterator]();case 19:if(p=(b=f.next()).done){e.next=40;break}return v=b.value,e.prev=21,y=v.versions[0],e.next=25,et.GetContentObjectImageUrl({libraryId:r,objectId:v.id,versionHash:y.hash,metadata:v.versions[0].meta});case 25:return g=e.sent,e.next=28,et.GetAccessInfo({objectId:v.id});case 28:x=e.sent,k=y.meta||{},u[v.id]=m()({},y,{id:v.id,objectId:v.id,hash:v.hash,type:v.type,name:k.name,description:k["eluv.description"],accessInfo:x,imageUrl:g,contractAddress:$e.utils.HashToAddress(v.id)}),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(21),console.error("Failed to list content object "+v.id),console.error(e.t0);case 37:p=!0,e.next=19;break;case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(17),d=!0,h=e.t1;case 46:e.prev=46,e.prev=47,p||null==f.return||f.return();case 49:if(e.prev=49,!d){e.next=52;break}throw h;case 52:return e.finish(49);case 53:return e.finish(46);case 54:return e.abrupt("return",{objects:u,cacheId:l,count:c});case 55:case"end":return e.stop()}},e,null,[[17,42,46,54],[21,33],[47,,49,53]])})),function(e){return Se.apply(this,arguments)}),GetContentObject:(je=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u,p,d,h,f,b,v;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.libraryId,a=t.objectId,n=$e.utils.EqualHash(r,a),s=r===et.contentSpaceLibraryId&&!n,!(o=!n&&!s)){e.next=11;break}return e.next=7,et.GetContentObjectStatus({objectId:a});case 7:return i=e.sent,e.next=10,et.GetAccessInfo({objectId:a});case 10:c=e.sent;case 11:return e.next=13,et.GetContentObjectOwner({objectId:a});case 13:return l=e.sent,e.next=16,$e.ContentObject({libraryId:r,objectId:a});case 16:return u=e.sent,e.next=19,$e.ContentObjectMetadata({libraryId:r,objectId:a});case 19:return p=e.sent,e.next=22,et.GetContentObjectImageUrl({libraryId:r,objectId:a,versionHash:u.hash,metadata:p});case 22:if(d=e.sent,!u.type){e.next=27;break}return e.next=26,et.GetContentType({versionHash:u.type});case 26:h=e.sent;case 27:return e.next=29,et.GetCustomContentContractAddress({libraryId:r,objectId:a,metadata:p});case 29:return f=e.sent,e.next=32,et.AppUrls({object:{id:u.id,hash:u.hash,meta:p}});case 32:if(b=e.sent,!p.video){e.next=37;break}return e.next=36,et.FabricUrl({libraryId:r,objectId:a,partHash:p.video});case 36:v=e.sent;case 37:return e.t0=m.a,e.t1={},e.t2=u,e.t3=b,e.t4=p,e.t5=p.name||u.id,e.t6=p["eluv.description"],e.t7=h,e.t8=d,e.t9=v,e.t10=Object(F.d)($e.utils.HashToAddress(a)),e.t11=f,e.t12=l,e.t13=F.c,e.t14=l,e.next=54,et.CurrentAccountAddress();case 54:return e.t15=e.sent,e.t16=(0,e.t13)(e.t14,e.t15),e.t17=c,e.t18=i,e.t19=n,e.t20=s,e.t21=o,e.t22={meta:e.t4,name:e.t5,description:e.t6,typeInfo:e.t7,imageUrl:e.t8,videoUrl:e.t9,contractAddress:e.t10,customContractAddress:e.t11,owner:e.t12,isOwner:e.t16,accessInfo:e.t17,status:e.t18,isContentLibraryObject:e.t19,isContentType:e.t20,isNormalObject:e.t21},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t22));case 63:case"end":return e.stop()}},e)})),function(e){return je.apply(this,arguments)}),GetContentObjectMetadata:(Ee=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.versionHash,s=t.metadataSubtree,o=void 0===s?"/":s,e.next=3,$e.ContentObjectMetadata({libraryId:r,objectId:a,versionHash:n,metadataSubtree:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return Ee.apply(this,arguments)}),GetContentObjectVersions:(Ie=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,e.next=3,$e.ContentObjectVersions({libraryId:r,objectId:a});case 3:return n=e.sent.versions,s=[],e.next=7,Promise.all(n.map(function(){var e=j()(I.a.mark(function e(t,n){var o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.GetContentObjectMetadata({libraryId:r,objectId:a,versionHash:t.hash});case 2:return o=e.sent,e.next=5,et.ListParts({libraryId:r,objectId:a,versionHash:t.hash});case 5:i=e.sent,s[n]=m()({},t,{meta:o,verification:{},parts:i});case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return Ie.apply(this,arguments)}),GetContentObjectImageUrl:(Ce=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.libraryId,a=t.objectId,n=t.versionHash,s=t.metadata){e.next=5;break}return e.next=4,$e.ContentObjectMetadata({libraryId:r,objectId:a});case 4:s=e.sent;case 5:if(s.image){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,$e.Rep({libraryId:r,objectId:a,versionHash:n,rep:"image",noAuth:!0});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})),function(e){return Ce.apply(this,arguments)}),GetCustomContentContractAddress:(we=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.libraryId,a=t.objectId,n=t.metadata,s=void 0===n?{}:n,r!==et.contentSpaceLibraryId&&!$e.utils.EqualHash(r,a)){e.next=3;break}return e.abrupt("return",s.custom_contract&&s.custom_contract.address);case 3:return e.t0=F.d,e.next=6,$e.CustomContractAddress({libraryId:r,objectId:a});case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:case"end":return e.stop()}},e)})),function(e){return we.apply(this,arguments)}),GetContentObjectOwner:(ke=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectId,e.t0=F.d,e.next=4,$e.ContentObjectOwner({objectId:r});case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}},e)})),function(e){return ke.apply(this,arguments)}),GetAccessInfo:(xe=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectId,e.next=3,$e.AccessInfo({objectId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return xe.apply(this,arguments)}),CreateContentObject:(ge=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.type,n=t.metadata,s={type:a,meta:void 0===n?{}:n},e.abrupt("return",$e.CreateContentObject({libraryId:r,options:s}));case 3:case"end":return e.stop()}},e)})),function(e){return ge.apply(this,arguments)}),DeleteContentObject:(ye=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,e.next=3,$e.DeleteContentObject({libraryId:r,objectId:a});case 3:case"end":return e.stop()}},e)})),function(e){return ye.apply(this,arguments)}),DeleteContentVersion:(ve=j()(I.a.mark(function e(t){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.versionHash,e.next=3,$e.DeleteContentVersion({libraryId:r,objectId:a,versionHash:n});case 3:case"end":return e.stop()}},e)})),function(e){return ve.apply(this,arguments)}),EditContentObject:(be=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.options,s=void 0===n?{}:n,e.next=3,$e.EditContentObject({libraryId:r,objectId:a,options:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return be.apply(this,arguments)}),MergeMetadata:(fe=j()(I.a.mark(function e(t){var r,a,n,s,o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.writeToken,s=t.metadataSubtree,o=void 0===s?"/":s,i=t.metadata,e.next=3,$e.MergeMetadata({libraryId:r,objectId:a,writeToken:n,metadataSubtree:o,metadata:i});case 3:case"end":return e.stop()}},e)})),function(e){return fe.apply(this,arguments)}),ReplaceMetadata:(he=j()(I.a.mark(function e(t){var r,a,n,s,o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.writeToken,s=t.metadataSubtree,o=void 0===s?"/":s,i=t.metadata,e.next=3,$e.ReplaceMetadata({libraryId:r,objectId:a,writeToken:n,metadataSubtree:o,metadata:i});case 3:case"end":return e.stop()}},e)})),function(e){return he.apply(this,arguments)}),DeleteMetadata:(me=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.writeToken,s=t.metadataSubtree,o=void 0===s?"/":s,e.next=3,$e.DeleteMetadata({libraryId:r,objectId:a,writeToken:n,metadataSubtree:o});case 3:case"end":return e.stop()}},e)})),function(e){return me.apply(this,arguments)}),FinalizeContentObject:(de=j()(I.a.mark(function e(t){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.writeToken,e.next=3,$e.FinalizeContentObject({libraryId:r,objectId:a,writeToken:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return de.apply(this,arguments)}),EditAndFinalizeContentObject:(pe=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.todo,e.next=3,et.EditContentObject({libraryId:r,objectId:a});case 3:return s=e.sent,e.next=6,n(s.write_token);case 6:return e.next=8,et.FinalizeContentObject({libraryId:r,objectId:a,writeToken:s.write_token});case 8:case"end":return e.stop()}},e)})),function(e){return pe.apply(this,arguments)}),CreateContentType:(ue=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.description,n=t.metadata,s=void 0===n?{}:n,o=t.bitcode,e.next=3,$e.CreateContentType({name:r,metadata:m()({},s,{"eluv.description":a}),bitcode:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return ue.apply(this,arguments)}),AppUrls:(le=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.object)&&r.meta){e.next=3;break}return e.abrupt("return",{});case 3:a=["display","manage","review"],n={},s=0;case 6:if(!(s<a.length)){e.next=15;break}if(o=a[s],!r.meta["eluv.".concat(o,"App")]){e.next=12;break}return e.next=11,et.FileUrl({libraryId:et.contentSpaceLibraryId,objectId:r.id,versionHash:r.hash,filePath:r.meta["eluv.".concat(o,"App")]});case 11:n["".concat(o,"AppUrl")]=e.sent;case 12:s++,e.next=6;break;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e)})),function(e){return le.apply(this,arguments)}),ListContentTypes:(ce=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u,p,d,h,f;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.t0=Object,e.next=4,$e.ContentTypes();case 4:e.t1=e.sent,a=e.t0.values.call(e.t0,e.t1),r.filter&&(a=a.filter(function(e){try{return(e.meta.name||"").toLowerCase().includes(r.filter.toLowerCase())}catch(e){return!1}})),n=a.length,a=a.sort(function(e,t){var r=e.meta.name||"zz",a=t.meta.name||"zz";return r.toLowerCase()>a.toLowerCase()?1:-1}),s=r.page-1,o=r.perPage||10,a=a.slice(s*o,(s+1)*o),i={},c=!0,l=!1,u=void 0,e.prev=16,p=a[Symbol.iterator]();case 18:if(c=(d=p.next()).done){e.next=47;break}return h=d.value,e.prev=20,e.next=23,et.GetContentObjectOwner({objectId:h.id});case 23:return f=e.sent,e.t2=m.a,e.t3={},e.t4=h,e.t5=h.meta.name||"",e.t6=h.meta["eluv.description"],e.t7=f,e.t8=F.c,e.t9=f,e.next=34,et.CurrentAccountAddress();case 34:e.t10=e.sent,e.t11=(0,e.t8)(e.t9,e.t10),e.t12={name:e.t5,description:e.t6,owner:e.t7,isOwner:e.t11},i[h.id]=(0,e.t2)(e.t3,e.t4,e.t12),e.next=44;break;case 40:e.prev=40,e.t13=e.catch(20),console.error("Failed to list content type "+h.id),console.error(e.t13);case 44:c=!0,e.next=18;break;case 47:e.next=53;break;case 49:e.prev=49,e.t14=e.catch(16),l=!0,u=e.t14;case 53:e.prev=53,e.prev=54,c||null==p.return||p.return();case 56:if(e.prev=56,!l){e.next=59;break}throw u;case 59:return e.finish(56);case 60:return e.finish(53);case 61:return e.abrupt("return",{types:i,count:n});case 62:case"end":return e.stop()}},e,null,[[16,49,53,61],[20,40],[54,,56,60]])})),function(e){return ce.apply(this,arguments)}),ContentTypes:(ie=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.ContentTypes();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return ie.apply(this,arguments)}),GetContentType:(oe=j()(I.a.mark(function e(t){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.versionHash,e.next=3,$e.ContentType({versionHash:r});case 3:return a=e.sent,e.next=6,et.AppUrls({object:a});case 6:return n=e.sent,e.abrupt("return",m()({},a,n));case 8:case"end":return e.stop()}},e)})),function(e){return oe.apply(this,arguments)}),GetContentLibraryPermissions:(se=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,e.next=3,$e.CurrentAccountAddress();case 3:return a=e.sent,e.next=6,et.CallContractMethod({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:"canContribute",methodArgs:[a]});case 6:return n=e.sent,e.next=9,et.CallContractMethod({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:"canReview",methodArgs:[a]});case 9:return s=e.sent,e.abrupt("return",{canContribute:n,canReview:s});case 11:case"end":return e.stop()}},e)})),function(e){return se.apply(this,arguments)}),GetContentObjectPermissions:(ne=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,t.objectId,e.next=3,et.GetContentLibraryPermissions({libraryId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return ne.apply(this,arguments)}),GetContentObjectStatus:(ae=j()(I.a.mark(function e(t){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectId,e.next=3,et.CallContractMethod({contractAddress:$e.utils.HashToAddress(r),abi:R.a.abi,methodName:"statusCode",methodArgs:[]});case 3:return a=e.sent,e.next=6,et.CallContractMethod({contractAddress:$e.utils.HashToAddress(r),abi:R.a.abi,methodName:"statusDescription",methodArgs:[]});case 6:return n=e.sent,e.abrupt("return",{code:parseInt(a._hex,16),description:Object(F.b)(n)});case 8:case"end":return e.stop()}},e)})),function(e){return ae.apply(this,arguments)}),PublishContentObject:(re=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectId,e.next=3,$e.CallContractMethodAndWait({contractAddress:$e.utils.HashToAddress(r),abi:R.a.abi,methodName:"publish",methodArgs:[]});case 3:case"end":return e.stop()}},e)})),function(e){return re.apply(this,arguments)}),ReviewContentObject:(te=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.approve,s=t.note,e.next=3,$e.CallContractMethodAndWait({contractAddress:$e.utils.HashToAddress(r),abi:T.a.abi,methodName:"approveContent",methodArgs:[$e.utils.HashToAddress(a),n,s]});case 3:case"end":return e.stop()}},e)})),function(e){return te.apply(this,arguments)}),SetAccessCharge:(ee=j()(I.a.mark(function e(t){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectId,a=t.accessCharge,e.next=3,et.CallContractMethod({contractAddress:et.utils.HashToAddress(r),abi:R.a.abi,methodName:"accessCharge"});case 3:if(n=e.sent,n=parseInt(n._hex,16),!et.utils.EtherToWei(a).isEqualTo(n)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,$e.SetAccessCharge({objectId:r,accessCharge:a});case 10:case"end":return e.stop()}},e)})),function(e){return ee.apply(this,arguments)}),UploadFiles:function(e){var t=e.libraryId,r=e.objectId,a=e.writeToken,n=e.fileInfo;return $e.UploadFiles({libraryId:t,objectId:r,writeToken:a,fileInfo:n})},DownloadFile:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.filePath;return $e.DownloadFile({libraryId:t,objectId:r,versionHash:a,filePath:n})},FileUrl:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.filePath;return $e.FileUrl({libraryId:t,objectId:r,versionHash:a,filePath:n})},ListParts:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash;return $e.ContentParts({libraryId:t,objectId:r,versionHash:a})},DownloadPart:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.partHash,s=e.format,o=void 0===s?"blob":s,i=e.chunked,c=void 0!==i&&i,l=e.chunkSize,u=void 0===l?1e7:l,p=e.callback;return $e.DownloadPart({libraryId:t,objectId:r,versionHash:a,partHash:n,format:o,chunked:c,chunkSize:u,callback:p})},UploadPart:($=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u,p,d,m,h,f,b;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryId,a=t.objectId,n=t.writeToken,s=t.file,o=t.chunkSize,i=void 0===o?1e6:o,c=t.encrypt,l=void 0!==c&&c,u=t.callback,p=l?"cgck":"none",e.next=4,$e.CreatePart({libraryId:r,objectId:a,writeToken:n,encryption:p});case 4:d=e.sent,u&&u({uploaded:0,total:s.size}),m=Math.ceil(s.size/i),h=0;case 8:if(!(h<m)){e.next=27;break}return f=h*i,b=Math.min(f+i,s.size),e.t0=$e,e.t1=r,e.t2=a,e.t3=n,e.t4=d,e.next=18,new Response(s.slice(f,b)).arrayBuffer();case 18:return e.t5=e.sent,e.t6=p,e.t7={libraryId:e.t1,objectId:e.t2,writeToken:e.t3,partWriteToken:e.t4,chunk:e.t5,encryption:e.t6},e.next=23,e.t0.UploadPartChunk.call(e.t0,e.t7);case 23:u&&u({uploaded:b,total:s.size});case 24:h++,e.next=8;break;case 27:return e.next=29,$e.FinalizePart({libraryId:r,objectId:a,writeToken:n,partWriteToken:d,encryption:p});case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}},e)})),function(e){return $.apply(this,arguments)}),FabricUrl:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.partHash;return $e.FabricUrl({libraryId:t,objectId:r,versionHash:a,partHash:n})},FormatContractArguments:function(e){var t=e.abi,r=e.methodName,a=e.args;return $e.FormatContractArguments({abi:t,methodName:r,args:a})},DeployContract:function(e){var t=e.abi,r=e.bytecode,a=e.constructorArgs;return $e.DeployContract({abi:t,bytecode:r,constructorArgs:a})},CallContractMethod:function(e){var t=e.contractAddress,r=e.abi,a=e.methodName,n=e.methodArgs,s=e.value;return $e.CallContractMethod({contractAddress:t,abi:r,methodName:a,methodArgs:n,value:s})},CallContractMethodAndWait:function(e){var t=e.contractAddress,r=e.abi,a=e.methodName,n=e.methodArgs,s=e.value;return $e.CallContractMethodAndWait({contractAddress:t,abi:r,methodName:a,methodArgs:n,value:s})},SetCustomContentContract:function(e){var t=e.libraryId,r=e.objectId,a=e.name,n=e.description,s=e.customContractAddress,o=e.abi,i=e.factoryAbi,c=e.overrides,l=void 0===c?{}:c;return $e.SetCustomContentContract({libraryId:t,objectId:r,name:a,description:n,customContractAddress:s,abi:o,factoryAbi:i,overrides:l})},ContractEvent:function(e){var t=e.abi,r=e.transactionHash;return $e.ContractEvent({abi:t,transactionHash:r})},ContractEvents:(X=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,a=t.abi,n=t.fromBlock,s=t.toBlock,e.next=3,$e.ContractEvents({contractAddress:r,abi:a,fromBlock:n,toBlock:s,includeTransaction:!0});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return X.apply(this,arguments)}),WithdrawContractFunds:function(e){var t=e.contractAddress,r=e.abi,a=e.ether;return $e.WithdrawContractFunds({contractAddress:t,abi:r,ether:a})},GetBlockchainEvents:function(e){var t=e.toBlock,r=e.fromBlock,a=e.count,n=void 0===a?10:a;return $e.Events({toBlock:t,fromBlock:r,count:n,includeTransaction:!0})},GetBlockNumber:(Q=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.BlockNumber();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return Q.apply(this,arguments)}),VerifyContentObject:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash;return $e.VerifyContentObject({libraryId:t,objectId:r,versionHash:a})},Proofs:function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.partHash;return $e.Proofs({libraryId:t,objectId:r,versionHash:a,partHash:n})},GetBalance:function(e){var t=e.address;return $e.GetBalance({address:t})},SendFunds:function(e){var t=e.recipient,r=e.ether;return $e.SendFunds({recipient:t,ether:r})},FilterContracts:function(e){var t=e.contracts,r=e.params,a=Object.values(t);r.filter&&(a=a.filter(function(e){try{return e.name.toLowerCase().includes(r.filter.toLowerCase())}catch(e){return!1}}));var n=(a=a.sort(function(e,t){var r=e.name||"zz",a=t.name||"zz";return r.toLowerCase()>a.toLowerCase()?1:-1})).length;if(r.paginate){var s=(r.page||1)-1,o=r.perPage||10;a=a.slice(s*o,(s+1)*o)}return t={},a.forEach(function(e){return t[e.address||e.name]=e}),{contracts:t,count:n}},Contracts:(Z=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.userProfileClient.UserMetadata({metadataSubtree:N()("elv-fabric-browser","contracts"),requestor:"Eluvio Fabric Browser"});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,e.abrupt("return",{contracts:t,count:Object.keys(t).length});case 7:case"end":return e.stop()}},e)})),function(){return Z.apply(this,arguments)}),DeployedContracts:(Y=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.userProfileClient.UserMetadata({metadataSubtree:N()("elv-fabric-browser","deployedContracts"),requestor:"Eluvio Fabric Browser"});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return t=e.t0,e.abrupt("return",{contracts:t,count:Object.keys(t).length});case 7:case"end":return e.stop()}},e)})),function(){return Y.apply(this,arguments)}),AddContract:(K=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.description,n=t.abi,s=t.bytecode,e.next=3,$e.userProfileClient.MergeUserMetadata({metadataSubtree:N()("elv-fabric-browser","contracts",r),metadata:{name:r,description:a,abi:n,bytecode:s},requestor:"Eluvio Fabric Browser"});case 3:case"end":return e.stop()}},e)})),function(e){return K.apply(this,arguments)}),RemoveContract:(J=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,e.next=3,$e.userProfileClient.DeleteUserMetadata({metadataSubtree:N()("elv-fabric-browser","contracts",r),requestor:"Eluvio Fabric Browser"});case 3:case"end":return e.stop()}},e)})),function(e){return J.apply(this,arguments)}),AddDeployedContract:(W=j()(I.a.mark(function e(t){var r,a,n,s,o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.description,n=t.address,s=t.abi,o=t.bytecode,i=t.owner,n=Object(F.d)(n),e.next=4,$e.userProfileClient.MergeUserMetadata({metadataSubtree:N()("elv-fabric-browser","deployedContracts",n),metadata:{name:r,description:a,address:n,abi:s,bytecode:o,owner:i},requestor:"Eluvio Fabric Browser"});case 4:case"end":return e.stop()}},e)})),function(e){return W.apply(this,arguments)}),RemoveDeployedContract:(V=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,e.next=3,$e.userProfileClient.DeleteUserMetadata({metadataSubtree:N()("elv-fabric-browser","deployedContracts",r),requestor:"Eluvio Fabric Browser"});case 3:case"end":return e.stop()}},e)})),function(e){return V.apply(this,arguments)}),FabricBrowser:{Initialize:(_=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 3:case"end":return e.stop()}},e)})),function(){return _.apply(this,arguments)}),Info:(z=j()(I.a.mark(function e(){var t,r,a=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"/",e.next=3,et.GetContentObjectMetadata({libraryId:et.contentSpaceLibraryId,objectId:et.contentSpaceObjectId,metadataSubtree:N()("elv-fabric-browser",t)});case 3:if((r=e.sent)||!["contracts","deployedContracts","accessGroups"].includes(t)){e.next=7;break}return e.next=7,et.FabricBrowser.Initialize();case 7:return e.abrupt("return",r||{});case 8:case"end":return e.stop()}},e)})),function(){return z.apply(this,arguments)}),AddEntry:(U=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,a=t.name,n=t.metadata,s=void 0===n?{}:n,e.next=3,et.EditAndFinalizeContentObject({libraryId:et.contentSpaceLibraryId,objectId:et.contentSpaceObjectId,todo:function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.ReplaceMetadata({libraryId:et.contentSpaceLibraryId,objectId:et.contentSpaceObjectId,writeToken:t,metadataSubtree:N()("elv-fabric-browser",r,a),metadata:s});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}},e)})),function(e){return U.apply(this,arguments)}),RemoveEntry:(D=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,a=t.name,e.next=3,et.EditAndFinalizeContentObject({libraryId:et.contentSpaceLibraryId,objectId:et.contentSpaceObjectId,todo:function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.DeleteMetadata({libraryId:et.contentSpaceLibraryId,objectId:et.contentSpaceObjectId,writeToken:t,metadataSubtree:N()("elv-fabric-browser",r,a)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}},e)})),function(e){return D.apply(this,arguments)}),AccessGroups:(q=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.next=3,$e.Collection({collectionType:"accessGroups"});case 3:return a=e.sent,e.next=6,Promise.all(a.map(function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.FabricBrowser.GetAccessGroup({contractAddress:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:return n=e.sent,r.filter&&(n=n.filter(function(e){try{return e.name.toLowerCase().includes(r.filter.toLowerCase())}catch(e){return!1}})),n=n.sort(function(e,t){var r=e.name||"zz",a=t.name||"zz";return r.toLowerCase()>a.toLowerCase()?1:-1}),s=n.length,r.paginate&&(o=(r.page||1)-1,i=r.perPage||10,n=n.slice(o*i,(o+1)*i)),c={},n.forEach(function(e){return c[e.address]=e}),e.abrupt("return",{accessGroups:c,count:s});case 14:case"end":return e.stop()}},e)})),function(e){return q.apply(this,arguments)}),GetAccessGroup:(B=j()(I.a.mark(function e(t){var r,a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,e.next=3,et.CurrentAccountAddress();case 3:return a=e.sent,e.next=6,$e.AccessGroupOwner({contractAddress:r});case 6:return n=e.sent,s=Object(F.c)(n,a),!1,e.abrupt("return",{address:r,name:r,owner:n,isOwner:s,isManager:!1});case 10:case"end":return e.stop()}},e)})),function(e){return B.apply(this,arguments)}),AddAccessGroup:(P=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.description,n=t.address,s=t.members,o=void 0===s?{}:s,n=Object(F.d)(n),e.t0=et.FabricBrowser,e.t1=n,e.t2=r,e.next=7,et.CurrentAccountAddress();case 7:return e.t3=e.sent,e.t4=a,e.t5=n,e.t6=o,e.t7={name:e.t2,owner:e.t3,description:e.t4,address:e.t5,members:e.t6},e.t8={type:"accessGroups",name:e.t1,metadata:e.t7},e.next=15,e.t0.AddEntry.call(e.t0,e.t8);case 15:case"end":return e.stop()}},e)})),function(e){return P.apply(this,arguments)}),RemoveAccessGroup:(M=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,e.next=3,et.FabricBrowser.RemoveEntry({type:"accessGroups",name:Object(F.d)(r)});case 3:case"end":return e.stop()}},e)})),function(e){return M.apply(this,arguments)}),AccessGroupMembers:(H=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contractAddress,a=t.params,e.next=3,et.FabricBrowser.GetAccessGroup({contractAddress:r});case 3:return n=e.sent,e.next=6,et.CurrentAccountAddress();case 6:return s=e.sent,o=(o=Object.values(n.members)).map(function(e){return m()({},e,{isCurrentAccount:Object(F.c)(e.address,s)})}),a.filter&&(o=o.filter(function(e){try{return e.name.toLowerCase().includes(a.filter.toLowerCase())}catch(e){return!1}})),o=o.sort(function(e,t){var r=e.name||"zz",a=t.name||"zz";return r.toLowerCase()>a.toLowerCase()?1:-1}),i=o.length,a.paginate&&(c=(a.page||1)-1,l=a.perPage||10,o=o.slice(c*l,(c+1)*l)),u={},o.forEach(function(e){return u[e.address]=e}),e.abrupt("return",{members:u,count:i});case 16:case"end":return e.stop()}},e)})),function(e){return H.apply(this,arguments)})}},tt=et,rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.routes.path:return m()({},e,{path:decodeURI(t.path).split("?")[0]});case h.routes.synchronize:return m()({},e,{synchronizeRoutes:!0});case"@@router/LOCATION_CHANGE":e.synchronizeRoutes&&tt.SetFramePath({path:t.payload.location.pathname})}return e},at=function(e){var t={};return e.forEach(function(e){return t[e[0].blockNumber]=e}),Object.values(t).sort(function(e,t){return e[0].blockNumber<t[0].blockNumber?1:-1})},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.logs.clear:return[];case h.logs.list:return at(e.concat(t.blocks));default:return e||[]}},st=(r(241),r(7)),ot=r.n(st),it=r(8),ct=r.n(it),lt=r(9),ut=r.n(lt),pt=r(10),dt=r.n(pt),mt=r(11),ht=r.n(mt),ft=r(398),bt=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(s.a.Component),vt=Object(ft.a)(bt),yt=r(59),gt=r(38),xt=r.n(gt),kt=r(82),wt=r.n(kt),Ct=r(166),It=r.n(Ct),Et=r(167),jt=r.n(Et),St=r(168),At=r.n(St),Nt=r(4),Ot=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"NavLink",value:function(e){var t=e.linkInfo,r=t.rootPath&&!this.props.currentBasePath||this.props.currentBasePath===t.link;return s.a.createElement("div",{key:"navbar-link-"+t.link,className:"navbar-link-container"},s.a.createElement(yt.a,{to:"/"+t.link,className:"navbar-link "+(r?"active":"")},s.a.createElement("span",{className:"navbar-link-span"},s.a.createElement(Nt.j,{className:"navbar-link-icon",icon:t.icon}),s.a.createElement("div",{className:"navbar-link-text"},t.text))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"navbar-container"},s.a.createElement("nav",{className:"navbar-links-container",role:"navigation"},t.Links().map(function(t){return e.NavLink({linkInfo:t})})))}}],[{key:"Links",value:function(){return[{link:"content",text:"Content",rootPath:!0,icon:xt.a},{link:"access-groups",text:"Access Groups",icon:wt.a},{link:"content-types",text:"Content Types",icon:It.a},{link:"contracts",text:"Contracts",icon:jt.a},{link:"logs",text:"Logs",icon:At.a}]}}]),t}(s.a.Component),Tt=Object(i.c)(function(e){return{currentBasePath:e.router.location.pathname.split("/")[1]}})(Ot),Lt=function(e,t){var r={},a=!0,n=!1,s=void 0;try{for(var o,i=function(){var t=o.value;r[t.name]=function(r){return e(t(r))}},c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)i()}catch(e){n=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(n)throw s}}return r},Rt=r(113),Ft=r.n(Rt),Gt=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"render",value:function(){return""!==this.props.notifications.errorMessage?s.a.createElement("div",{className:"notification-container"},s.a.createElement("div",{className:"notification-message-container error-message-container"},s.a.createElement("span",null,this.props.notifications.errorMessage),s.a.createElement(Nt.i,{icon:Ft.a,label:"close",onClick:this.props.ClearNotifications,className:"clear-notification"}))):""!==this.props.notifications.notificationMessage?s.a.createElement("div",{className:"notification-container"},s.a.createElement("div",{className:"notification-message-container"},s.a.createElement("span",null,this.props.notifications.notificationMessage),s.a.createElement(Nt.i,{icon:Ft.a,label:"close",onClick:this.props.ClearNotifications,className:"clear-notification"}))):s.a.createElement("div",{className:"notification-container"})}}]),t}(s.a.Component),Ht=function(e){var t=e.message,r=e.redirect,a=void 0!==r&&r;return{type:h.notifications.error,message:t.toString(),redirect:a}},Mt=function(e){var t=e.message,r=e.redirect,a=void 0!==r&&r;return{type:h.notifications.notification,message:t.toString(),redirect:a}},Pt=function(){return{type:h.notifications.clear}},Bt=Object(i.c)(function(e){return{notifications:e.notifications}},function(e){return Lt(e,[Pt])})(Gt),qt=r(13),Dt=r.n(qt),Ut=r(397),zt=r(165),_t=r(49),Vt=function(e){var t=function(t){function r(e){var t;return ot()(this,r),(t=ut()(this,dt()(r).call(this,e))).state={errorCaught:!1},t}return ht()(r,t),ct()(r,[{key:"componentDidCatch",value:function(e){this.props.SetErrorMessage({message:e.toString()}),this.setState({errorCaught:!0,errorRoute:this.props.router.location.pathname})}},{key:"componentDidUpdate",value:function(){this.state.errorCaught&&this.props.router.location.pathname!==this.state.errorRoute&&this.setState({errorCaught:!1,errorRoute:void 0})}},{key:"render",value:function(){return this.state.errorCaught?null:s.a.createElement(e,this.props)}}]),r}(s.a.Component);return Object(_t.a)(function(e){return{router:e.router}},function(e){return Lt(e,[Ht])})(t)},Wt=r(23),Jt=function(){return function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=h.routes.path,e.t2=decodeURI,e.next=5,tt.GetFramePath();case 5:if(e.t3=e.sent,e.t3){e.next=8;break}e.t3="/";case 8:e.t4=e.t3,e.t5=(0,e.t2)(e.t4),e.t6={type:e.t1,path:e.t5},(0,e.t0)(e.t6);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Kt=function(){return function(e){e({type:h.routes.synchronize})}},Yt=r(2),Zt=r.n(Yt),Qt=function(e){if("string"==typeof e){if(""===(e=e.trim()))return{};if(!e.startsWith("{")&&!e.startsWith("["))throw Error("Invalid JSON");try{return JSON.parse(e)}catch(e){throw Error("Invalid JSON")}}return e||{}},Xt=function(e,t){try{var r=Qt(e);return t.style.border="",t.style.outline="",t.title="",r}catch(e){t.style.border="1px solid red",t.style.outline="none",t.title=e}},$t=function(e){var t=e.name,r=e.value,a=e.required,n=void 0!==a&&a,o=e.onChange,i=e.UpdateValue,c=e.className;return s.a.createElement("textarea",{className:c,name:t,value:r,required:n,onChange:o,onKeyUp:function(e){Xt(r,e.target)},onBlur:function(e){return function(e,t,r){var a=Xt(t,e.target);a&&r(JSON.stringify(a,null,2))}(e,r,i)}})};$t.propTypes={name:Zt.a.string.isRequired,value:Zt.a.string,onChange:Zt.a.func.isRequired,UpdateValue:Zt.a.func.isRequired,className:Zt.a.string};var er=0,tr=function(){function e(){ot()(this,e)}return ct()(e,null,[{key:"next",value:function(){return++er}},{key:"nextTag",value:function(){return"id-"+ ++er}}]),e}(),rr=["label","string","text","integer","number","json","boolean","choice","list","object","file","attachedFile"],ar=function(e){return Object.keys(e).map(function(e){return parseInt(e)}).sort().map(function(t){return e[t]})},nr=function e(t){var r=t.schema,a=t.initialData;a=a||{};var n={};return r.forEach(function(t){if(!rr.includes(t.type))throw Error("Unknown type: "+t.type);switch(t.type){case"object":n[t.key]=e({schema:t.fields,initialData:a[t.key]});break;case"json":n[t.key]=JSON.stringify(a[t.key],null,2);break;case"list":n[t.key]=(r=a[t.key]||[],s={},r.forEach(function(e){s[tr.next()]=e}),s);break;default:n[t.key]=a[t.key],void 0===n[t.key]&&(n[t.key]="boolean"!==t.type&&"")}var r,s}),n},sr=function(e){var t=e.data,r=void 0===t?{}:t,a=e.subtree,n=void 0===a?[]:a,s=e.attr;return Object(F.f)(r,n.concat(s))},or=function(e){var t=e.data,r=e.subtree,a=void 0===r?[]:r,n=e.attr,s=m()({},t);if(0===a.length)delete s[n];else{var o=s;a.forEach(function(e){o[e]&&(o=o[e])}),delete o[n]}return s},ir=function(e){var t=e.data,r=e.subtree,a=void 0===r?[]:r,n=e.attr,s=e.value,o=m()({},t);if(0===a.length)o[n]=s;else{var i=o;a.forEach(function(e){i[e]||(i[e]={}),i=i[e]}),i[n]=s}return o},cr=function(){var e=j()(I.a.mark(function e(t,r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(a=document.createElement("a")).href=t,a.download=r,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t);case 8:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),lr=function(){var e=j()(I.a.mark(function e(t,r){var a,n=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>2&&void 0!==n[2]&&n[2],t="."===t?"":t,e.next=4,Promise.all(Array.from(r).map(function(){var e=j()(I.a.mark(function e(r){var n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}e.t0=void 0,e.next=7;break;case 4:return e.next=6,new Response(r).blob();case 6:e.t0=e.sent;case 7:return n=e.t0,s=r.overrideName||r.webkitRelativePath||r.name,e.abrupt("return",{path:N()(t,s).replace(/^\/+/g,""),type:"file",size:r.size,data:n});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),ur=r(12),pr=r.n(ur),dr=function(){var e=j()(I.a.mark(function e(t,r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,t.promise(function(){return r()});case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,r();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),mr=function(e){var t=e.params;return function(){var e=j()(I.a.mark(function e(r){var a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ListContentLibraries({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:a=e.sent,n=a.libraries,s=a.count,delete n[tt.contentSpaceLibraryId],r({type:h.content.libraries.list,libraries:n,count:s});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},hr=function(e){var t=e.libraryId;return function(){var e=j()(I.a.mark(function e(r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.GetContentLibrary({libraryId:t});case 2:a=e.sent,r({type:h.content.libraries.get,libraryId:t,library:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},fr=function(e){var t=e.libraryId;return function(){var e=j()(I.a.mark(function e(r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ListLibraryContentTypes({libraryId:t});case 2:a=e.sent,r({type:h.content.libraries.types,libraryId:t,types:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},br=function(e){var t=e.libraryId;return function(){var e=j()(I.a.mark(function e(r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==tt.contentSpaceLibraryId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tt.GetContentLibraryGroups({libraryId:t});case 4:a=e.sent,r({type:h.content.libraries.groups,libraryId:t,groups:a});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},vr=function(e){var t=e.name,r=e.description,a=e.publicMetadata,n=e.privateMetadata,s=e.image;return function(){var e=j()(I.a.mark(function e(o){var i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.CreateContentLibrary({name:t,description:r,publicMetadata:Qt(a),privateMetadata:Qt(n)});case 2:if(i=e.sent,!s){e.next=12;break}return e.t0=tt,e.t1=i,e.next=8,new Response(s).blob();case 8:return e.t2=e.sent,e.t3={libraryId:e.t1,image:e.t2},e.next=12,e.t0.SetContentLibraryImage.call(e.t0,e.t3);case 12:return o(Mt({message:"Successfully created content library '"+t+"'",redirect:!0})),e.abrupt("return",i);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},yr=function(e){var t=e.libraryId,r=e.name,a=e.description,n=e.metadata,s=void 0===n?{}:n,o=e.image;return function(){var e=j()(I.a.mark(function e(n){var i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=Qt(s)).name=r,s["eluv.description"]=a,i=t.replace("ilib","iq__"),e.next=6,tt.EditAndFinalizeContentObject({libraryId:t,objectId:i,todo:function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ReplaceMetadata({libraryId:t,objectId:i,writeToken:r,metadata:s});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 6:if(!o){e.next=15;break}return e.t0=tt,e.t1=t,e.next=11,new Response(o).blob();case 11:return e.t2=e.sent,e.t3={libraryId:e.t1,image:e.t2},e.next=15,e.t0.SetContentLibraryImage.call(e.t0,e.t3);case 15:return n(Mt({message:"Successfully updated content library '"+r+"'",redirect:!0})),e.abrupt("return",t);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},gr=function(e){var t=e.libraryId;return function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DeleteContentLibrary({libraryId:t});case 2:r(Mt({message:"Successfully deleted content library",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},xr=function(e){var t=e.libraryId,r=e.typeIds,a=void 0===r?[]:r;return function(){var e=j()(I.a.mark(function e(r){var n,s,o,i,c,l,u,p,d,m,h,f,b,v,y,g;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,tt.ListLibraryContentTypes({libraryId:t});case 3:if(e.t1=e.sent,e.t2=function(e){return e.id},n=e.t0.values.call(e.t0,e.t1).map(e.t2),!((s=a.filter(function(e){return!n.includes(e)})).length>0)){e.next=38;break}return e.t3=Object,e.next=11,tt.ContentTypes();case 11:e.t4=e.sent,o=e.t3.values.call(e.t3,e.t4),i=!0,c=!1,l=void 0,e.prev=16,u=I.a.mark(function e(){var r,a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.value,a=o.find(function(e){return e.id===r}),n=a.meta.custom_contract&&a.meta.custom_contract.address,e.next=5,tt.AddLibraryContentType({libraryId:t,typeId:r,customContractAddress:n});case 5:case"end":return e.stop()}},e)}),p=s[Symbol.iterator]();case 19:if(i=(d=p.next()).done){e.next=24;break}return e.delegateYield(u(),"t5",21);case 21:i=!0,e.next=19;break;case 24:e.next=30;break;case 26:e.prev=26,e.t6=e.catch(16),c=!0,l=e.t6;case 30:e.prev=30,e.prev=31,i||null==p.return||p.return();case 33:if(e.prev=33,!c){e.next=36;break}throw l;case 36:return e.finish(33);case 37:return e.finish(30);case 38:m=n.filter(function(e){return!a.includes(e)}),h=!0,f=!1,b=void 0,e.prev=42,v=m[Symbol.iterator]();case 44:if(h=(y=v.next()).done){e.next=51;break}return g=y.value,e.next=48,tt.RemoveLibraryContentType({libraryId:t,typeId:g});case 48:h=!0,e.next=44;break;case 51:e.next=57;break;case 53:e.prev=53,e.t7=e.catch(42),f=!0,b=e.t7;case 57:e.prev=57,e.prev=58,h||null==v.return||v.return();case 60:if(e.prev=60,!f){e.next=63;break}throw b;case 63:return e.finish(60);case 64:return e.finish(57);case 65:r(Mt({message:"Successfully updated content library types",redirect:!0}));case 66:case"end":return e.stop()}},e,null,[[16,26,30,38],[31,,33,37],[42,53,57,65],[58,,60,64]])}));return function(t){return e.apply(this,arguments)}}()},kr=function(e){var t=e.libraryId,r=e.groups,a=e.originalGroups;return function(){var e=j()(I.a.mark(function e(n){var s,o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=Object.keys(r),o=I.a.mark(function e(){var n,o,c,l,u,p,d,m,h,f,b,v,y,g,x,k,w;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=s[i],o=a[n].map(function(e){return Object(F.d)(e.address)}),c=r[n].map(function(e){return Object(F.d)(e.address)}),l=o.filter(function(e){return!c.includes(e)}),u=!0,p=!1,d=void 0,e.prev=7,m=l[Symbol.iterator]();case 9:if(u=(h=m.next()).done){e.next=16;break}return f=h.value,e.next=13,tt.RemoveContentLibraryGroup({libraryId:t,address:f,groupType:n});case 13:u=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),p=!0,d=e.t0;case 22:e.prev=22,e.prev=23,u||null==m.return||m.return();case 25:if(e.prev=25,!p){e.next=28;break}throw d;case 28:return e.finish(25);case 29:return e.finish(22);case 30:b=c.filter(function(e){return!o.includes(e)}),v=!0,y=!1,g=void 0,e.prev=34,x=b[Symbol.iterator]();case 36:if(v=(k=x.next()).done){e.next=43;break}return w=k.value,e.next=40,tt.AddContentLibraryGroup({libraryId:t,address:w,groupType:n});case 40:v=!0,e.next=36;break;case 43:e.next=49;break;case 45:e.prev=45,e.t1=e.catch(34),y=!0,g=e.t1;case 49:e.prev=49,e.prev=50,v||null==x.return||x.return();case 52:if(e.prev=52,!y){e.next=55;break}throw g;case 55:return e.finish(52);case 56:return e.finish(49);case 57:case"end":return e.stop()}},e,null,[[7,18,22,30],[23,,25,29],[34,45,49,57],[50,,52,56]])}),i=0;case 3:if(!(i<s.length)){e.next=8;break}return e.delegateYield(o(),"t0",5);case 5:i++,e.next=3;break;case 8:n(Mt({message:"Successfully updated library groups",redirect:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},wr=function(e){var t=e.params;return function(){var e=j()(I.a.mark(function e(r){var a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ListContentTypes({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:a=e.sent,n=a.types,s=a.count,r({type:h.content.types.list,types:n,count:s});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Cr=function(e){var t=e.libraryId,r=e.params;return function(){var e=j()(I.a.mark(function e(a){var n,s,o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(r.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ListContentObjects({libraryId:t,params:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:n=e.sent,s=n.objects,o=n.count,i=n.cacheId,a({type:h.content.objects.list,libraryId:t,objects:s,count:o,cacheId:i});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ir=function(e){var t=e.libraryId,r=e.objectId;return function(){var e=j()(I.a.mark(function e(a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.GetContentObject({libraryId:t,objectId:r});case 2:n=e.sent,a({type:h.content.objects.get,objectId:n.id,object:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Er=function(e){var t=e.libraryId,r=e.objectId;return function(){var e=j()(I.a.mark(function e(a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.GetContentObjectVersions({libraryId:t,objectId:r});case 2:n=e.sent,a({type:h.content.objects.versions,objectId:r,versions:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},jr=function(e){var t=e.libraryId,r=e.objectId;return function(){var e=j()(I.a.mark(function e(a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.GetContentObjectPermissions({libraryId:t,objectId:r});case 2:n=e.sent,a({type:h.content.objects.permissions,objectId:r,permissions:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Sr=function(){var e=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u,p,d,m,h;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.libraryId,a=t.objectId,n=t.writeToken,s=t.schema,o=t.fields,i=t.callback,c={},l=!0,u=!1,p=void 0,e.prev=5,d=I.a.mark(function e(){var t,s,l,u,p;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=h.value,e.t0=t.type,e.next="label"===e.t0?4:"attachedFile"===e.t0?4:"file"===e.t0?5:"json"===e.t0?19:"list"===e.t0?21:"object"===e.t0?23:27;break;case 4:return e.abrupt("break",28);case 5:if(!Array.isArray(o[t.key])&&"string"!=typeof o[t.key]){e.next=8;break}return c[t.key]=o[t.key],e.abrupt("break",28);case 8:s=Array.from(o[t.key]),l=[],u=I.a.mark(function e(){var o,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=s[p],c=void 0,i&&(c=function(e){var r=e.status,a=e.uploaded,n=e.total;return i({key:t.key,status:r,uploaded:a,total:n,filename:o.name})}),e.t0=l,e.next=6,tt.UploadPart({libraryId:r,objectId:a,writeToken:n,file:o,chunkSize:2e6,callback:c});case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:case"end":return e.stop()}},e)}),p=0;case 12:if(!(p<s.length)){e.next=17;break}return e.delegateYield(u(),"t1",14);case 14:p++,e.next=12;break;case 17:return t.multiple?c[t.key]=l.map(function(e){return e.part.hash}):c[t.key]=l.length>0?l[0].part.hash:"",e.abrupt("break",28);case 19:return c[t.key]=Qt(o[t.key]),e.abrupt("break",28);case 21:return c[t.key]=ar(o[t.key]).filter(function(e){return e}),e.abrupt("break",28);case 23:return e.next=25,Sr({libraryId:r,objectId:a,writeToken:n,schema:t.fields,fields:o[t.key]});case 25:return c[t.key]=e.sent,e.abrupt("break",28);case 27:c[t.key]=o[t.key];case 28:case"end":return e.stop()}},e)}),m=s[Symbol.iterator]();case 8:if(l=(h=m.next()).done){e.next=13;break}return e.delegateYield(d(),"t0",10);case 10:l=!0,e.next=8;break;case 13:e.next=19;break;case 15:e.prev=15,e.t1=e.catch(5),u=!0,p=e.t1;case 19:e.prev=19,e.prev=20,l||null==m.return||m.return();case 22:if(e.prev=22,!u){e.next=25;break}throw p;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",c);case 28:case"end":return e.stop()}},e,null,[[5,15,19,27],[20,,22,26]])}));return function(t){return e.apply(this,arguments)}}(),Ar=function(e){var t=e.libraryId,r=e.type,a=e.metadata,n=e.accessCharge,s=e.schema,o=e.fields,i=e.callback;return function(){var e=j()(I.a.mark(function e(c){var l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.CreateContentObject({libraryId:t,type:r,metadata:a});case 2:return l=e.sent,e.t0=tt,e.t1=t,e.t2=l.id,e.t3=l.write_token,e.t4=m.a,e.t5={},e.t6=Qt(a),e.next=12,Sr({libraryId:t,objectId:l.id,writeToken:l.write_token,schema:s,fields:o,callback:i});case 12:return e.t7=e.sent,e.t8=(0,e.t4)(e.t5,e.t6,e.t7),e.t9={libraryId:e.t1,objectId:e.t2,writeToken:e.t3,metadata:e.t8},e.next=17,e.t0.MergeMetadata.call(e.t0,e.t9);case 17:return e.next=19,tt.FinalizeContentObject({libraryId:t,objectId:l.id,writeToken:l.write_token});case 19:if(!(n>0)){e.next=22;break}return e.next=22,tt.SetAccessCharge({objectId:l.id,accessCharge:n});case 22:c(Mt({message:"Successfully created content",redirect:!0}));case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Nr=function(e){var t=e.libraryId,r=e.objectId,a=e.metadata,n=e.accessCharge,s=e.schema,o=e.fields,i=e.callback;return function(){var e=j()(I.a.mark(function e(c){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.EditAndFinalizeContentObject({libraryId:t,objectId:r,todo:function(){var e=j()(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tt,e.t1=t,e.t2=r,e.t3=n,e.t4=m.a,e.t5={},e.t6=Qt(a),e.next=9,Sr({libraryId:t,writeToken:n,schema:s,fields:o,callback:i});case 9:return e.t7=e.sent,e.t8=(0,e.t4)(e.t5,e.t6,e.t7),e.t9={libraryId:e.t1,objectId:e.t2,writeToken:e.t3,metadata:e.t8},e.next=14,e.t0.ReplaceMetadata.call(e.t0,e.t9);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.next=4,tt.SetAccessCharge({objectId:r,accessCharge:n});case 4:c(Mt({message:"Successfully updated content",redirect:!0}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Or=function(e){var t=e.objectId;return function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.PublishContentObject({objectId:t});case 2:r(Mt({message:"Successfully updated content object",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Tr=function(e){var t=e.libraryId,r=e.objectId,a=e.approve,n=e.note;return function(){var e=j()(I.a.mark(function e(s){var o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ReviewContentObject({libraryId:t,objectId:r,approve:a,note:n});case 2:return e.next=4,tt.CurrentAccountAddress();case 4:return o=e.sent,e.next=7,tt.EditAndFinalizeContentObject({libraryId:t,objectId:r,todo:function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.MergeMetadata({libraryId:t,writeToken:r,metadata:{"eluv.reviewer":o,"eluv.reviewNote":n}});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 7:s(Mt({message:"Successfully updated content object",redirect:!0}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Lr=function(e){var t=e.libraryId,r=e.objectId;return function(){var e=j()(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DeleteContentObject({libraryId:t,objectId:r});case 2:a(Mt({message:"Successfully deleted content object",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Rr=function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash;return function(){var e=j()(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DeleteContentVersion({libraryId:t,objectId:r,versionHash:a});case 2:n(Mt({message:"Successfully deleted content version",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Fr=function(e){var t=e.libraryId,r=e.objectId,a=e.name,n=e.description,s=e.type,o=e.metadata;return function(){var e=j()(I.a.mark(function e(i){var c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.EditContentObject({libraryId:t,objectId:r,options:{type:s}});case 2:return c=e.sent,(o=Qt(o)).name=a,o["eluv.description"]=n,e.next=8,tt.ReplaceMetadata({libraryId:t,objectId:r,writeToken:c.write_token,metadata:o});case 8:return e.next=10,tt.FinalizeContentObject({libraryId:t,objectId:r,writeToken:c.write_token});case 10:return i(Mt({message:"Successfully updated content object",redirect:!0})),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Gr=function(e){var t=e.name,r=e.description,a=e.metadata,n=e.bitcode;return function(){var e=j()(I.a.mark(function e(s){var o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(n).blob();case 2:return n=e.sent,e.next=5,tt.CreateContentType({name:t,description:r,metadata:Qt(a),bitcode:n});case 5:return o=e.sent,s(Mt({message:"Successfully created content type",redirect:!0})),e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Hr=function(){return function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=h.content.types.all,e.next=4,tt.ContentTypes();case 4:e.t2=e.sent,e.t3={type:e.t1,types:e.t2},(0,e.t0)(e.t3);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Mr=function(e){var t=e.libraryId,r=e.objectId,a=e.files,n=e.encrypt,s=void 0!==n&&n,o=e.callback;return function(){var e=j()(I.a.mark(function e(n){var i,c,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={},e.next=3,tt.EditContentObject({libraryId:t,objectId:r});case 3:return c=e.sent,e.next=6,Promise.all(Array.from(a).map(function(){var e=j()(I.a.mark(function e(a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o&&(n=function(e){var t=e.uploaded,r=e.total;return o({uploaded:t,total:r,filename:a.name})}),e.next=3,tt.UploadPart({libraryId:t,objectId:r,writeToken:c.write_token,file:a,encrypt:s,chunkSize:2e6,callback:n});case 3:i[a.name]=e.sent.part.hash;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.next=8,tt.MergeMetadata({libraryId:t,objectId:r,writeToken:c.write_token,metadataSubtree:"eluv-fb.parts",metadata:i});case 8:return e.next=10,tt.FinalizeContentObject({libraryId:t,objectId:r,writeToken:c.write_token});case 10:l=a.length>1?"parts":"part",n(Mt({message:"Successfully uploaded "+l,redirect:!0}));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Pr=function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.partHash,s=e.callback;return j()(I.a.mark(function e(){var o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s({bytesFinished:0,bytesTotal:1}),o=[],e.next=4,tt.DownloadPart({libraryId:t,objectId:r,versionHash:a,partHash:n,format:"arrayBuffer",chunked:!0,chunkSize:1e6,callback:function(e){var t=e.bytesFinished,r=e.bytesTotal,a=e.chunk;s({bytesFinished:t,bytesTotal:r}),o.push(a)}});case 4:return e.abrupt("return",window.URL.createObjectURL(new Blob(o)));case 5:case"end":return e.stop()}},e)}))},Br=function(e){var t=e.libraryId,r=e.objectId,a=e.path,n=e.fileList;return function(){var e=j()(I.a.mark(function e(s){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.EditAndFinalizeContentObject({libraryId:t,objectId:r,todo:function(){var e=j()(I.a.mark(function e(s){var o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(a,n);case 2:return o=e.sent,e.next=5,tt.UploadFiles({libraryId:t,objectId:r,writeToken:s,fileInfo:o});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:s(Mt({message:"Successfully uploaded files"}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},qr=function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.filePath;return j()(I.a.mark(function e(){var s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DownloadFile({libraryId:t,objectId:r,versionHash:a,filePath:n});case 2:return s=e.sent,o=window.URL.createObjectURL(s),e.next=6,cr(o,pr.a.basename(n));case 6:case"end":return e.stop()}},e)}))},Dr=function(e){var t=e.libraryId,r=e.objectId,a=e.versionHash,n=e.filePath;return j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.FileUrl({libraryId:t,objectId:r,versionHash:a,filePath:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},Ur=function(e){var t=e.libraryId,r=e.objectId,a=e.role,n=e.file;return function(){var e=j()(I.a.mark(function e(s){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.EditAndFinalizeContentObject({libraryId:t,objectId:r,todo:function(){var e=j()(I.a.mark(function e(s){var o,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(a,"App.html"),n[0].overrideName=o,e.next=4,lr("/",n);case 4:return i=e.sent,e.next=7,tt.UploadFiles({libraryId:t,objectId:r,writeToken:s,fileInfo:i});case 7:return e.next=9,tt.ReplaceMetadata({libraryId:t,objectId:r,writeToken:s,metadataSubtree:"eluv.".concat(a,"App"),metadata:o});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:s(Mt({message:"Successfully added "+a+" app",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},zr=function(e){var t=e.libraryId,r=e.objectId,a=e.role;return function(){var e=j()(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.EditAndFinalizeContentObject({libraryId:t,objectId:r,todo:function(){var e=j()(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DeleteMetadata({libraryId:t,objectId:r,writeToken:n,metadataSubtree:"eluv.".concat(a,"App")});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:n(Mt({message:"Successfully removed "+a+" app",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_r=r(6),Vr=r.n(_r),Wr=function(e){var t=e.header,r=e.subHeader;return r&&(r=s.a.createElement("h3",{className:"page-subheader"},r)),s.a.createElement("div",{className:"page-header-container"},s.a.createElement("h3",{className:"page-header with-subHeader"},t),r)};Wr.propTypes={header:Zt.a.string.isRequired,subHeader:Zt.a.string};var Jr=r(40),Kr=r.n(Jr),Yr=r(29),Zr=r.n(Yr),Qr=r(169),Xr=r.n(Qr),$r=r(170),ea=r.n($r),ta=r(171),ra=r.n(ta),aa=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={redirect:!1},r}return ht()(t,e),ct()(t,[{key:"render",value:function(){var e=this;if(this.state.redirect)return s.a.createElement(Wt.a,{push:!0,to:this.props.to});var t=function(){return e.setState({redirect:!0})};return s.a.cloneElement(this.props.children,{onClick:t,onKeyPress:t,tabIndex:"0"})}}]),t}(s.a.Component);aa.propTypes={to:Zt.a.string.isRequired,children:Zt.a.element.isRequired};var na=aa,sa=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={},r}return ht()(t,e),ct()(t,[{key:"Redirect",value:function(e){this.setState({redirect:e})}},{key:"AsTableRow",value:function(){var e;return this.props.noIcon||(e=s.a.createElement("td",{className:"icon-cell"},s.a.createElement(Nt.g,{className:"icon-container",icon:this.props.icon}))),s.a.createElement(na,{to:this.props.link},s.a.createElement("tr",{title:this.props.title,"aria-label":this.props.title},e,s.a.createElement("td",{className:"title-cell",title:this.props.title},s.a.createElement("div",{className:"cropped-text",tabIndex:-1},this.props.title)),s.a.createElement("td",{className:"description-cell",title:this.props.description},s.a.createElement("div",{className:"cropped-text",tabIndex:-1},this.props.description)),s.a.createElement("td",{className:"status-cell",title:this.props.status},this.props.status)))}},{key:"AsGridElement",value:function(){return s.a.createElement(yt.a,{to:this.props.link,title:this.props.title,"aria-label":this.props.title,className:"grid-listing-element"},s.a.createElement(Nt.g,{className:"icon-container",icon:this.props.icon}),s.a.createElement("div",{className:"listing-info"},s.a.createElement("div",{className:"title"},this.props.title),s.a.createElement("div",{className:"description",title:this.props.description},this.props.description),s.a.createElement("div",{className:"status"},this.props.status)))}},{key:"render",value:function(){return this.state.redirect?s.a.createElement(Wt.a,{push:!0,to:this.state.redirect}):"list"===this.props.display?this.AsTableRow():this.AsGridElement()}}]),t}(s.a.Component);sa.propTypes={id:Zt.a.string.isRequired,title:Zt.a.string.isRequired,description:Zt.a.string,status:Zt.a.string,icon:Zt.a.oneOfType([Zt.a.element,Zt.a.string]),link:Zt.a.string.isRequired,noIcon:Zt.a.bool};var oa=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"render",value:function(){var e=this;if(!this.props.count||0===this.props.count)return null;var t,r=this.props.RenderContent();return r&&0!==r.length?(this.props.noIcon||(t=s.a.createElement("th",{className:"icon-header"})),"list"===this.props.display?s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,t,s.a.createElement("th",{className:"title-header"}),s.a.createElement("th",{className:"description-header"}),s.a.createElement("th",{className:"status-header"}))),s.a.createElement("tbody",null,r.map(function(t){return s.a.createElement(sa,Dt()({key:t.id,noIcon:e.props.noIcon,display:"list"},t))}))):s.a.createElement("div",{className:"grid-listing"},r.map(function(t){return s.a.createElement(sa,Dt()({key:t.id,noIcon:e.props.noIcon,display:"grid"},t))}))):null}}]),t}(s.a.Component);oa.propTypes={count:Zt.a.number,display:Zt.a.string.isRequired,RenderContent:Zt.a.func.isRequired,noIcon:Zt.a.bool};var ia=oa,ca=r(60),la={},ua=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=la[e.pageId]||{display:"list"};return la[e.pageId]=a,r.state={display:a.display,perPage:e.perPage||10,page:1,selectFilter:r.props.selectFilterOptions?a.filter||r.props.selectFilterOptions[0][1]:"",filter:"",filterTimeout:void 0},r.Load=r.Load.bind(Vr()(r)),r.Filter=r.Filter.bind(Vr()(r)),r.ChangeSelectFilter=r.ChangeSelectFilter.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"componentDidMount",value:function(){this.Load()}},{key:"Load",value:function(){this.cancelable&&this.cancelable.cancelAll(),this.cancelable=new ca.CancelableEvents,this.props.LoadContent({params:{paginate:!0,page:this.state.page,perPage:this.state.perPage,filter:this.state.filter,selectFilter:this.state.selectFilter,cancelable:this.cancelable}})}},{key:"SwitchView",value:function(e){la[this.props.pageId].display=e,this.setState({display:e})}},{key:"ChangePage",value:function(e){this.setState({page:e},this.Load)}},{key:"ChangeSelectFilter",value:function(e){la[this.props.pageId].filter=e.target.value,this.setState({page:1,selectFilter:e.target.value},this.Load)}},{key:"Filter",value:function(e){var t=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({page:1,filter:t,filterTimeout:setTimeout(this.Load,500)})}},{key:"SelectFilter",value:function(){if(this.props.selectFilterOptions){var e=this.props.selectFilterOptions.map(function(e){var t=Zr()(e,2),r=t[0],a=t[1];return s.a.createElement("option",{key:"select-option-".concat(a),value:a},r)});return s.a.createElement("select",{name:"selectFilter",value:this.state.selectFilter,title:this.props.selectFilterLabel,"aria-label":this.props.selectFilterLabel,onChange:this.ChangeSelectFilter},e)}}},{key:"PageButton",value:function(e,t,r,a){var n=this,o=t!==r;return s.a.createElement("li",{key:e},s.a.createElement("button",{title:"Page "+r,"aria-label":"Page "+r,onClick:function(){return n.ChangePage(r)},onKeyPress:function(){return n.ChangePage(r)},disabled:a,className:"page-button ".concat(o?"text-button":""," ").concat(!o&&a?"selected":"")},t.toString()))}},{key:"PageSpread",value:function(){var e=this;if(this.props.count){var t=Math.ceil(this.props.count/this.state.perPage),r=1,a=Math.min(10,t);this.state.page>=5&&(a=(r=this.state.page-4)+9)>t&&(a=t,r=Math.max(t-9,1));var n=a-r+1;return Kr()(Array(n).keys()).map(function(t){var a=r+t;return e.PageButton("Page "+a,a,a,a===e.state.page)})}}},{key:"PreviousPageButtons",value:function(){var e=this.state.page<=1;return[this.PageButton("First Page","First",1,e),this.PageButton("Previous Page","Previous",this.state.page-1,e)]}},{key:"NextPageButtons",value:function(){var e=Math.ceil(this.props.count/this.state.perPage),t=this.state.page*this.state.perPage>=this.props.count;return[this.PageButton("Next Page","Next",this.state.page+1,t),this.PageButton("Last Page","Last",e,t)]}},{key:"PaginationControls",value:function(){if(this.props.paginate)return s.a.createElement("ul",{className:"page-controls"},this.PreviousPageButtons(),this.PageSpread(),this.NextPageButtons())}},{key:"Actions",value:function(){var e,t=this;return this.props.noIcon||(e="list"===this.state.display?s.a.createElement(Nt.i,{className:"listing-action",icon:Xr.a,label:"Switch to grid view",onClick:function(){return t.SwitchView("grid")}}):s.a.createElement(Nt.i,{className:"listing-action",icon:ea.a,label:"Switch to list view",onClick:function(){return t.SwitchView("list")}})),s.a.createElement("div",{className:"listing-actions"},s.a.createElement("div",{className:"controls"},this.PaginationControls()),s.a.createElement("div",{className:"controls right-controls"},s.a.createElement("input",{className:"filter",placeholder:"Filter",value:this.state.filter,onChange:this.Filter}),this.SelectFilter(),e,s.a.createElement(Nt.k,{loadingClassname:"loading-action",loading:this.props.loadingStatus.loading,loadingIcon:"rotate"},s.a.createElement(Nt.i,{className:"listing-action",icon:ra.a,label:"Refresh",onClick:this.Load}))))}},{key:"Count",value:function(){if(0===this.props.count)return s.a.createElement("div",{className:"listing-count"},"No results to display");if(!this.props.count)return null;var e=(this.state.page-1)*this.state.perPage+1,t=Math.min(e+this.state.perPage-1,this.props.count);return s.a.createElement("div",{className:"listing-count"},"Displaying results ".concat(e," - ").concat(t," of ").concat(this.props.count))}},{key:"render",value:function(){return this.props.loadingStatus.error?s.a.createElement("div",{className:"error-page"},s.a.createElement("div",null,"There was a problem loading this page:"),s.a.createElement("div",{className:"error-message"},this.props.loadingStatus.errorMessage),s.a.createElement(Nt.k,{loading:this.props.loadingStatus.loading,loadingIcon:"rotate"},s.a.createElement(Nt.a,{onClick:this.Load},"Try Again"))):s.a.createElement("div",{className:"listing"},this.Actions(),s.a.createElement(Nt.k,{loading:this.props.loadingStatus.loading,loadingClassname:"loading",loadingIcon:"rotate"},this.Count(),s.a.createElement(ia,{count:this.props.count,display:this.state.display,noIcon:this.props.noIcon,RenderContent:this.props.RenderContent})))}}]),t}(s.a.Component);ua.propTypes={pageId:Zt.a.string.isRequired,noIcon:Zt.a.bool,paginate:Zt.a.bool,perPage:Zt.a.number,count:Zt.a.number,selectFilterLabel:Zt.a.string,selectFilterOptions:Zt.a.arrayOf(Zt.a.arrayOf(Zt.a.string)),loadingStatus:Zt.a.object.isRequired,RenderContent:Zt.a.func.isRequired,LoadContent:Zt.a.func.isRequired};var pa=ua,da=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={},r.ContentLibraries=r.ContentLibraries.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"ContentLibraries",value:function(){var e=this;return this.props.libraries?Object.keys(this.props.libraries).sort().map(function(t){var r=e.props.libraries[t];return{id:t,sortKey:r.name||"zz",title:r.name||"Content Library "+t,description:r.description,icon:r.imageUrl||xt.a,link:N()("/content",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:N()("/content","create")},"New Library")),s.a.createElement(Wr,{header:"Content Libraries"}),s.a.createElement("div",{className:"page-content"},s.a.createElement(pa,{pageId:"ContentLibraries",paginate:!0,count:this.props.count.libraries,selectFilterLabel:"Library Types",selectFilterOptions:[["Content","content"],["All","all"],["Eluvio Media Platform","elv-media-platform"]],loadingStatus:this.props.methodStatus.ListContentLibraries,LoadContent:function(t){var r=t.params;return e.props.methods.ListContentLibraries({params:r})},RenderContent:this.ContentLibraries})))}}]),t}(s.a.Component);da.propTypes={libraries:Zt.a.object.isRequired,count:Zt.a.object.isRequired,methods:Zt.a.shape({ListContentLibraries:Zt.a.func.isRequired})};var ma=da,ha=function(e){var t=function(t){function r(e){var t;ot()(this,r),t=ut()(this,dt()(r).call(this,e));var a={},n={};return e.methods&&Object.keys(e.methods).forEach(function(r){a[r]={loading:!1,completed:!1,error:!1,errorMessage:""},n[r]=function(a){return t.CallMethod(r,e.methods[r],a)}}),t.cancelable=new ca.CancelableEvents,t.state={loading:!0,error:!1,errorMessage:"",methods:n,methodStatus:a},t.Content=t.Content.bind(Vr()(t)),t.Load=t.Load.bind(Vr()(t)),t}var a,n,o;return ht()(r,t),ct()(r,[{key:"componentWillMount",value:(o=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Load();case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.cancelable.cancelAll()}},{key:"Load",value:(n=j()(I.a.mark(function e(){var t,r,a,n=this,s=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.params,a=t.componentParams,this.props.Load){e.next=4;break}return this.setState({loading:!1}),e.abrupt("return");case 4:return r=r||{},a=a||{},this.setState({loading:!0}),e.prev=7,e.next=10,this.cancelable.promise(function(){return n.props.Load({props:n.props,params:r})});case 10:this.setState(m()({loading:!1,error:!1,errorMessage:""},a)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),Object(ca.isCancelledPromiseError)(e.t0)||(console.error(e.t0),this.setState({loading:!1,error:!0,errorMessage:e.t0.statusText||e.t0.message}));case 16:case"end":return e.stop()}},e,this,[[7,13]])})),function(){return n.apply(this,arguments)})},{key:"CallMethod",value:(a=j()(I.a.mark(function e(t,r,a){var n,s=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({methodStatus:m()({},this.state.methodStatus,v()({},t,{loading:!0,completed:!1,error:!1,errorMessage:""}))}),e.prev=1,e.next=4,this.cancelable.promise(function(){return r({props:s.props,params:a})});case 4:return n=e.sent,this.setState({methodStatus:m()({},this.state.methodStatus,v()({},t,{loading:!1,completed:!0,error:!1,errorMessage:""}))}),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),Object(ca.isCancelledPromiseError)(e.t0)||(console.error("Error in ".concat(t,":")),console.error(e.t0),this.setState({methodStatus:m()({},this.state.methodStatus,v()({},t,{loading:!1,completed:!1,error:!0,errorMessage:e.t0.statusText||e.t0.message||e.t0}))}));case 12:case"end":return e.stop()}},e,this,[[1,9]])})),function(e,t,r){return a.apply(this,arguments)})},{key:"Content",value:function(){return s.a.createElement(e,Dt()({},this.props,this.state,{Load:this.Load,LoadComponent:this.LoadComponent}))}},{key:"render",value:function(){return this.state.error?s.a.createElement("div",{className:"error-page"},s.a.createElement("div",null,"There was a problem loading this page:"),s.a.createElement("div",{className:"error-message"},this.state.errorMessage),s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.k,{loading:this.state.loading,loadingIcon:"rotate"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"action-wide secondary"},"Back"),s.a.createElement(Nt.a,{className:"action-wide",onClick:this.Load},"Try Again")))):s.a.createElement(Nt.k,{fullPage:!0,loading:this.state.loading,render:this.Content})}}]),r}(s.a.Component);return t.propTypes={Load:Zt.a.func,LoadComponent:Zt.a.objectOf(Zt.a.func)},function(e){return s.a.createElement(t,Dt()({},e,{key:"page-container".concat(e.match.url)}))}},fa=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListContentLibraries(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ba=ha(ma),va=Object(i.c)(function(e){return{libraries:e.content.libraries,count:e.content.count}},function(e){return Lt(e,[mr])})(function(e){return s.a.createElement(ba,Dt()({},e,{methods:{ListContentLibraries:fa}}))}),ya=function(e){var t=e.params;return function(){var e=j()(I.a.mark(function e(r){var a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.FabricBrowser.AccessGroups({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:a=e.sent,n=a.accessGroups,s=a.count,r({type:h.accessGroups.list,accessGroups:n,count:s});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ga=function(e){var t=e.contractAddress;return function(){var e=j()(I.a.mark(function e(r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.FabricBrowser.GetAccessGroup({contractAddress:t});case 2:a=e.sent,r({type:h.accessGroups.get,contractAddress:t,accessGroup:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},xa=function(e){var t=e.address,r=e.name,a=e.description,n=e.members;return function(){var e=j()(I.a.mark(function e(s){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,tt.FabricBrowser.AddAccessGroup({address:t,name:r,description:a,members:n});case 3:s(Mt({message:"Access group successfully updated",redirect:!0})),e.next=12;break;case 6:return e.next=8,tt.CreateAccessGroup();case 8:return t=e.sent,e.next=11,tt.FabricBrowser.AddAccessGroup({address:t,name:r,description:a,members:n});case 11:s(Mt({message:"Access group successfully created",redirect:!0}));case 12:return e.abrupt("return",Object(F.d)(t));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ka=function(e){var t=e.contractAddress,r=e.params;return function(){var e=j()(I.a.mark(function e(a){var n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(r.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.FabricBrowser.AccessGroupMembers({contractAddress:t,params:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:n=e.sent,s=n.members,o=n.count,a({type:h.accessGroups.members.list,contractAddress:t,members:s,count:o});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},wa=function(){var e=j()(I.a.mark(function e(t){var r,a,n,s,o,i,c,l,u,p,d,m,h,f,b,v,y,g,x,k,w,C,E,j,S,A,N,O,T,L,R,F,G,H,M;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.contractAddress,a=t.members,n=t.originalMembers,s=Object.values(a).filter(function(e){return!e.manager}).map(function(e){return e.address}),o=Object.values(n).filter(function(e){return!e.manager}).map(function(e){return e.address}),i=Object.values(a).filter(function(e){return e.manager}).map(function(e){return e.address}),c=Object.values(n).filter(function(e){return e.manager}).map(function(e){return e.address}),l=s.filter(function(e){return!o.includes(e)}),u=!0,p=!1,d=void 0,e.prev=9,m=l[Symbol.iterator]();case 11:if(u=(h=m.next()).done){e.next=18;break}return f=h.value,e.next=15,tt.AddAccessGroupMember({contractAddress:r,memberAddress:f});case 15:u=!0,e.next=11;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),p=!0,d=e.t0;case 24:e.prev=24,e.prev=25,u||null==m.return||m.return();case 27:if(e.prev=27,!p){e.next=30;break}throw d;case 30:return e.finish(27);case 31:return e.finish(24);case 32:b=o.filter(function(e){return!s.includes(e)}),v=!0,y=!1,g=void 0,e.prev=36,x=b[Symbol.iterator]();case 38:if(v=(k=x.next()).done){e.next=45;break}return w=k.value,e.next=42,tt.RemoveAccessGroupMember({contractAddress:r,memberAddress:w});case 42:v=!0,e.next=38;break;case 45:e.next=51;break;case 47:e.prev=47,e.t1=e.catch(36),y=!0,g=e.t1;case 51:e.prev=51,e.prev=52,v||null==x.return||x.return();case 54:if(e.prev=54,!y){e.next=57;break}throw g;case 57:return e.finish(54);case 58:return e.finish(51);case 59:C=i.filter(function(e){return!c.includes(e)}),E=!0,j=!1,S=void 0,e.prev=63,A=C[Symbol.iterator]();case 65:if(E=(N=A.next()).done){e.next=72;break}return O=N.value,e.next=69,tt.AddAccessGroupManager({contractAddress:r,memberAddress:O});case 69:E=!0,e.next=65;break;case 72:e.next=78;break;case 74:e.prev=74,e.t2=e.catch(63),j=!0,S=e.t2;case 78:e.prev=78,e.prev=79,E||null==A.return||A.return();case 81:if(e.prev=81,!j){e.next=84;break}throw S;case 84:return e.finish(81);case 85:return e.finish(78);case 86:T=c.filter(function(e){return!i.includes(e)}),L=!0,R=!1,F=void 0,e.prev=90,G=T[Symbol.iterator]();case 92:if(L=(H=G.next()).done){e.next=99;break}return M=H.value,e.next=96,tt.RemoveAccessGroupManager({contractAddress:r,memberAddress:M});case 96:L=!0,e.next=92;break;case 99:e.next=105;break;case 101:e.prev=101,e.t3=e.catch(90),R=!0,F=e.t3;case 105:e.prev=105,e.prev=106,L||null==G.return||G.return();case 108:if(e.prev=108,!R){e.next=111;break}throw F;case 111:return e.finish(108);case 112:return e.finish(105);case 113:case"end":return e.stop()}},e,null,[[9,20,24,32],[25,,27,31],[36,47,51,59],[52,,54,58],[63,74,78,86],[79,,81,85],[90,101,105,113],[106,,108,112]])}));return function(t){return e.apply(this,arguments)}}(),Ca=function(e){var t=e.address,r=e.members,a=e.originalMembers;return function(){var e=j()(I.a.mark(function e(n){var s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.FabricBrowser.GetAccessGroup({contractAddress:t});case 2:if(s=e.sent){e.next=5;break}throw Error("Access group not found");case 5:return e.next=7,wa({contractAddress:t,members:r,originalMembers:a});case 7:return e.next=9,tt.FabricBrowser.AddAccessGroup({name:s.name,description:s.description,address:s.address,members:r});case 9:n(Mt({message:"Access group members successfully updated",redirect:!0}));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ia=function(e){var t=e.address;return function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DeleteAccessGroup({address:t});case 2:return e.next=4,tt.FabricBrowser.RemoveAccessGroup({address:t});case 4:r(Mt({message:"Access group successfully deleted",redirect:!0}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ea=r(172),ja=r.n(Ea),Sa=function(e){var t=e.copy,r=e.children;return s.a.createElement("span",{className:"copyable"},r,s.a.createElement(Nt.f,{copy:t||r},s.a.createElement(Nt.j,{className:"copy-icon",icon:ja.a})))};Sa.propTypes={copy:Zt.a.string.isRequired,children:Zt.a.oneOfType([Zt.a.node,Zt.a.string]).isRequired};var Aa=function(e){var t=e.label,r=e.value,a=e.children,n=e.copyValue,o=e.alignTop,i=void 0!==o&&o,c=e.wideLabel,l=void 0!==c&&c,u=e.hidden,p=void 0!==u&&u;"string"==typeof t&&t.length>0&&(t+=":");var d=(l?"wide":"")+(i?"align-top":""),m=s.a.createElement("div",{"aria-label":t,title:r},a||r);return n&&(m=s.a.createElement(Sa,{copy:n},m)),s.a.createElement("div",{className:"labelled-field"+(p?" hidden":"")},s.a.createElement("label",{htmlFor:t,className:d},t),m)},Na=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={showMore:!1},r.ToggleVisibility=r.ToggleVisibility.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"ToggleVisibility",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"render",value:function(){var e=this.state.showMore?"clipped-text show ":"clipped-text hide ",t=this.state.showMore?"cover show-less":"cover show-more",r=this.state.showMore?"Show less":"Show more";return s.a.createElement("div",{className:e+(this.props.className||""),title:r,"aria-label":r},s.a.createElement("pre",{className:"text"},this.props.text),s.a.createElement("div",{className:t,onClick:this.ToggleVisibility,onKeyPress:this.ToggleVisibility}))}}]),t}(s.a.Component);Na.propTypes={text:Zt.a.string};var Oa=Na,Ta=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={visibleItems:{},view:"content"},r.PageContent=r.PageContent.bind(Vr()(r)),r.ContentObjects=r.ContentObjects.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"ToggleVisible",value:function(e){this.setState({visibleItems:m()({},this.state.visibleItems,v()({},e,!this.state.visibleItems[e]))})}},{key:"ToggleButton",value:function(e,t){var r=this,a=this.state.visibleItems[t],n=(a?"Hide ":"Show ")+e;return s.a.createElement(Nt.a,{className:a?"":"secondary",onClick:function(){return r.ToggleVisible(t)}},n)}},{key:"ToggleSection",value:function(e,t,r){var a,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.state.visibleItems[t];return o&&(a=n?s.a.createElement("pre",{className:"content-object-data"},JSON.stringify(r,null,2)):r),s.a.createElement("div",{className:"formatted-data"},s.a.createElement(Aa,{label:e},this.ToggleButton(e,t)),a)}},{key:"LibraryContentTypes",value:function(){if(0===Object.keys(this.props.library.types).length)return null;var e=Object.values(this.props.library.types).map(function(e){return s.a.createElement(yt.a,{key:"library-content-type-".concat(e.id),className:"inline-link",to:N()("/content-types",e.id)},e.meta.name||e.id)});return s.a.createElement("div",null,s.a.createElement(Aa,{label:"Content Types",alignTop:!0},s.a.createElement("div",{className:"comma-separated-list"},e)),s.a.createElement("br",null))}},{key:"LibraryGroups",value:function(){var e=this;return this.props.library.isContentSpaceLibrary?null:Object.values(this.props.library.groups).some(function(e){return e.length>0})?s.a.createElement("div",null,s.a.createElement("h3",null,"Groups"),Object.keys(this.props.library.groups).map(function(t){var r=e.props.library.groups[t];return 0===r.length?null:s.a.createElement("div",{className:"library-groups-info indented",key:"library-group-"+t},s.a.createElement("h4",null,t.capitalize()),r.map(function(r){var a=N()("/access-groups",r.address),n=s.a.createElement("h4",null,"Unknown Group");return e.props.accessGroups[r.address]&&(n=s.a.createElement(yt.a,{className:"inline-link",to:a},e.props.accessGroups[r.address].name)),s.a.createElement("div",{className:"group-info indented",key:"library-group-"+t+"-"+r.address},s.a.createElement(Aa,{label:"Group"},n),s.a.createElement(Aa,{label:"Address"},s.a.createElement(yt.a,{className:"inline-link",to:N()(a,"contract")},r.address)))}))})):null}},{key:"LibraryImage",value:function(){return this.props.library.imageUrl?s.a.createElement("div",{className:"object-image"},s.a.createElement("img",{src:this.props.library.imageUrl})):null}},{key:"LibraryInfo",value:function(){var e=s.a.createElement(Oa,{className:"object-description",text:this.props.library.description}),t=N()(this.props.match.url,this.props.library.libraryObjectId),r=this.props.count.objects[this.props.libraryId],a=r||0===r?s.a.createElement(Aa,{label:"Content Objects",value:r}):null;return s.a.createElement("div",{className:"object-info label-box"},this.LibraryImage(),s.a.createElement(Aa,{label:"Name"},this.props.library.name),s.a.createElement(Aa,{label:"Description",alignTop:!0},e),s.a.createElement("br",null),s.a.createElement(Aa,{label:"Library ID",copyValue:this.props.libraryId},this.props.libraryId),s.a.createElement(Aa,{label:"Owner",copyValue:this.props.library.owner},this.props.library.owner),s.a.createElement(Aa,{label:"Library Object",copyValue:this.props.library.libraryObjectId},s.a.createElement(yt.a,{className:"inline-link",to:t},this.props.library.libraryObjectId)),s.a.createElement(Aa,{label:"Contract Address",copyValue:this.props.library.contractAddress},s.a.createElement(yt.a,{className:"inline-link",to:N()(t,"contract")},this.props.library.contractAddress)),a,s.a.createElement("br",null),this.LibraryContentTypes(),this.ToggleSection("Public Metadata","public-metadata",this.props.library.meta,!0),this.ToggleSection("Private Metadata","private-metadata",this.props.library.privateMeta,!0),this.LibraryGroups())}},{key:"ContentObjects",value:function(){var e=this;return this.props.objects?Object.keys(this.props.objects).map(function(t){var r=e.props.objects[t],a=Object(F.a)(r.accessInfo.accessCharge);return{id:t,sortKey:(r.name||"zz").toLowerCase(),title:r.name||t,description:r.description,status:a,icon:r.imageUrl||xt.a,link:N()(e.props.match.url,t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"ObjectListing",value:function(){var e=this;return s.a.createElement(pa,{pageId:"ContentObjects",paginate:!0,perPage:20,count:this.props.count.objects[this.props.libraryId],loadingStatus:this.props.methodStatus.ListContentObjects,LoadContent:function(t){var r=t.params;r.cacheId=e.props.cacheId,e.props.methods.ListContentObjects({libraryId:e.props.libraryId,params:r})},RenderContent:this.ContentObjects})}},{key:"Actions",value:function(){var e,t,r=s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"create")},this.props.library.isContentSpaceLibrary?"New Content Type":"Contribute");if(this.props.library.isOwner&&!this.props.library.isContentSpaceLibrary){e=s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"groups")},"Groups"),t=s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"types")},"Types")}return s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back"),s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"edit")},"Manage"),e,t,r,void 0)}},{key:"PageContent",value:function(){var e=this;if(this.props.methodStatus.DeleteContentLibrary.completed)return s.a.createElement(Wt.a,{push:!0,to:"/content"});var t=s.a.createElement(Nt.n,{options:[["Content","content"],["Library Info","info"]],selected:this.state.view,onChange:function(t){return e.setState({view:t})}});return s.a.createElement("div",{className:"page-container contents-page-container"},this.Actions(),s.a.createElement(Wr,{header:this.props.library.name,subHeader:this.props.library.description}),t,s.a.createElement("div",{className:"page-content"},"content"===this.state.view?this.ObjectListing():this.LibraryInfo()))}},{key:"render",value:function(){return s.a.createElement(Nt.k,{fullPage:!0,loading:this.props.methodStatus.DeleteContentLibrary.loading,render:this.PageContent})}}]),t}(s.a.Component);Ta.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,accessGroups:Zt.a.object.isRequired,objects:Zt.a.object.isRequired,count:Zt.a.object.isRequired,methods:Zt.a.shape({ListContentObjects:Zt.a.func.isRequired,DeleteContentLibrary:Zt.a.func.isRequired})};var La=Ta,Ra=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.GetContentLibrary({libraryId:r.libraryId});case 3:return e.next=5,r.ListContentLibraryGroups({libraryId:r.libraryId});case 5:return e.next=7,r.ListAccessGroups({params:{}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListContentObjects(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ga=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.DeleteContentLibrary(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ha=ha(La),Ma=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],accessGroups:e.accessGroups.accessGroups,libraries:e.content.libraries,objects:e.content.objects,count:e.content.count,cacheId:e.content.cacheId}},function(e){return Lt(e,[hr,br,ya,Cr,gr])})(function(e){var t=e.libraryId||e.match.params.libraryId;return s.a.createElement(Ha,Dt()({},e,{libraryId:t,Load:Ra,methods:{ListContentObjects:Fa,DeleteContentLibrary:Ga}}))}),Pa=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=e.library||{};return r.state={name:a.name||"",description:a.description||"",publicMetadata:JSON.stringify(a.meta,null,2)||"",privateMetadata:JSON.stringify(a.privateMeta,null,2)||"",isContentSpaceLibrary:a.isContentSpaceLibrary||!1,imageSelection:""},r.PageContent=r.PageContent.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleImageChange=r.HandleImageChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleImageChange",value:function(e){e.target.files&&this.setState({imageSelection:e.target.files[0]})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,name:this.state.name,description:this.state.description,publicMetadata:this.state.publicMetadata,privateMetadata:this.state.privateMetadata,image:this.state.imageSelection});case 2:t=e.sent,this.setState({libraryId:t});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"Image",value:function(){return this.state.isContentSpaceLibrary?null:[s.a.createElement("label",{key:"image-selection-label",htmlFor:"imageSelection",className:"align-top"},"Image"),s.a.createElement(Nt.d,{key:"image-selection",name:"image",required:!1,multiple:!1,accept:"image/*",preview:!0,onChange:this.HandleImageChange})]}},{key:"PageContent",value:function(){var e=this,t=this.props.createForm?"Create content library":"Manage content library",r=m()({},this.props.methodStatus.Submit);r.completed=r.completed&&!!this.state.libraryId;var a=pr.a.dirname(this.props.match.url),n=this.props.createForm?N()(a,this.state.libraryId||""):a;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:t,redirectPath:n,cancelPath:pr.a.dirname(this.props.match.url),status:r,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange,readOnly:this.state.isContentSpaceLibrary}),this.Image(),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"publicMetadata"},"Public Metadata"),s.a.createElement($t,{name:"publicMetadata",value:this.state.publicMetadata,onChange:this.HandleInputChange,UpdateValue:function(t){return e.setState({publicMetadata:t})}}),s.a.createElement("label",{className:"align-top",htmlFor:"privateMetadata"},"Private Metadata"),s.a.createElement($t,{name:"privateMetadata",value:this.state.privateMetadata,onChange:this.HandleInputChange,UpdateValue:function(t){return e.setState({privateMetadata:t})}}))))}},{key:"render",value:function(){return s.a.createElement(Nt.k,{fullPage:!0,loading:this.props.loading,render:this.PageContent})}}]),t}(s.a.Component);Pa.propTypes={libraryId:Zt.a.string,library:Zt.a.object,createForm:Zt.a.bool.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var Ba=Pa,qa=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.props).createForm){e.next=4;break}return e.next=4,r.GetContentLibrary({libraryId:r.libraryId});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Da=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=t.params,!r.createForm){e.next=7;break}return e.next=4,r.CreateContentLibrary(a);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,r.UpdateContentLibrary(a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ua=ha(Ba),za=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId]}},function(e){return Lt(e,[hr,vr,yr])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.location.pathname.endsWith("create");return s.a.createElement(Ua,Dt()({},e,{libraryId:t,createForm:r,Load:qa,methods:{Submit:Da}}))}),_a=r(83),Va=r.n(_a),Wa=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={libraryTypes:m()({},e.library.types),selectedTypeIds:Object.values(e.library.types).map(function(e){return e.id}),selectedTypeId:""},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleAddType=r.HandleAddType.bind(Vr()(r)),r.HandleRemoveType=r.HandleRemoveType.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"componentDidMount",value:function(){this.SetSelectedType()}},{key:"SetSelectedType",value:function(){var e=this.AvailableTypes()[0];this.setState({selectedTypeId:e&&e.id})}},{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleAddType",value:function(){this.setState({selectedTypeIds:this.state.selectedTypeIds.concat([this.state.selectedTypeId])},this.SetSelectedType)}},{key:"HandleRemoveType",value:function(e){this.setState({selectedTypeIds:this.state.selectedTypeIds.filter(function(t){return t!==e})},this.SetSelectedType)}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,typeIds:this.state.selectedTypeIds});case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"AvailableTypes",value:function(){var e=this;return Object.values(this.props.types).filter(function(t){return!e.state.selectedTypeIds.includes(t.id)})}},{key:"TypeSelector",value:function(){var e=this.AvailableTypes().map(function(e){var t=e.meta.name||e.id;return s.a.createElement("option",{name:"selectedTypeId",key:e.id,value:e.id},t)}),t=0===e.length;return s.a.createElement("div",{className:"inline-inputs"},s.a.createElement("select",{name:"selectedTypeId",value:this.state.selectedTypeId,onChange:this.HandleInputChange,disabled:t},e),s.a.createElement(Nt.a,{className:"action-compact",onClick:this.HandleAddType,disabled:t},"Add"))}},{key:"SelectedTypes",value:function(){var e=this;return 0===this.state.selectedTypeIds.length?null:this.state.selectedTypeIds.map(function(t){var r=Object.values(e.props.types).find(function(e){return e.id===t});return s.a.createElement("div",{className:"list-item",key:"added-type-"+r.id},s.a.createElement("span",null,r.meta.name||r.id),s.a.createElement(Nt.i,{icon:Va.a,onClick:function(){return e.HandleRemoveType(r.id)}}))})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:"Manage Library Types",redirectPath:pr.a.dirname(this.props.match.url),cancelPath:pr.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"typeId"},"Content Types"),this.TypeSelector(),s.a.createElement("label",null),s.a.createElement("div",{className:"list bordered-list"},this.SelectedTypes()))))}}]),t}(s.a.Component);Wa.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,types:Zt.a.object.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var Ja=Wa,Ka=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.GetContentLibrary({libraryId:r.libraryId});case 3:return e.next=5,r.ContentTypes();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ya=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.SetLibraryContentTypes(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Za=ha(Ja),Qa=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],types:e.content.allTypes}},function(e){return Lt(e,[hr,Hr,xr])})(function(e){var t=e.libraryId||e.match.params.libraryId;return s.a.createElement(Za,Dt()({},e,{libraryId:t,Load:Ka,methods:{Submit:Ya}}))}),Xa=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a={};return Object.keys(e.library.groups).map(function(t){var n={};Object.values(e.library.groups[t]).forEach(function(e){var t=Object.values(r.props.accessGroups).some(function(t){return e.address===t.address});n[tr.next()]=m()({},e,{groupSelection:t?e.address:"",knownGroup:t})}),a[t]=n}),r.state={groups:a,originalGroups:e.library.groups},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r.AddGroup=r.AddGroup.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e,t){var r=this;return function(a){var n,s=!!a.target.selectedOptions,o=s?""!==a.target.selectedOptions[0].value:r.state.groups[e][t].addressDisabled,i="checkbox"===a.target.type?a.target.checked:a.target.value;r.setState({groups:m()({},r.state.groups,v()({},e,m()({},r.state.groups[e],v()({},t,m()({},r.state.groups[e][t],(n={address:s?i:r.state.groups[e][t]},v()(n,a.target.name,i),v()(n,"knownGroup",o),n))))))})}}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t,r=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},Object.keys(this.state.groups).map(function(e){t[e]=Object.values(r.state.groups[e]).map(function(e){return e.address=e.groupSelection||e.address,delete e.groupSelection,e})}),e.next=4,this.props.methods.Submit({libraryId:this.props.libraryId,groups:t,originalGroups:this.state.originalGroups});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"AddGroup",value:function(e){var t=this,r=Object.values(this.state.groups[e]).map(function(e){return e.address}),a=Object.values(this.props.accessGroups).find(function(e){return!r.includes(e.address)});return function(){t.setState({groups:m()({},t.state.groups,v()({},e,m()({},t.state.groups[e],v()({},tr.next(),{groupSelection:a?a.address:"",knownGroup:!!a}))))})}}},{key:"RemoveGroup",value:function(e,t){var r=this;return function(){var a=r.state.groups;delete a[e][t],r.setState({groups:a})}}},{key:"GroupSelection",value:function(e,t){var r=Object.values(this.props.accessGroups).map(function(e){return s.a.createElement("option",{key:"option-"+e.address+"-"+t,value:e.address},e.name)});return r.push(s.a.createElement("option",{key:"option-other-"+t,value:""},"[Other]")),s.a.createElement("select",{name:"groupSelection",value:this.state.groups[e][t].groupSelection,onChange:this.HandleInputChange(e,t)},r)}},{key:"Groups",value:function(e){var t=this;return Object.keys(this.state.groups[e]).map(function(r){var a=t.state.groups[e][r];return s.a.createElement("div",{key:"group-"+r,className:"form-content"},s.a.createElement("label",{htmlFor:"accessGroup"},"Group"),t.GroupSelection(e,r),s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{name:"address",disabled:a.knownGroup,value:a.address,onChange:t.HandleInputChange(e,r)}),s.a.createElement("label",{htmlFor:"removeGroup"}),s.a.createElement(Nt.a,{className:"action-compact action-wide delete-action",onClick:t.RemoveGroup(e,r)},"Remove Group"))})}},{key:"GroupsForm",value:function(e){return s.a.createElement("div",null,s.a.createElement("h4",null,e.capitalize()+"s"),s.a.createElement(Nt.a,{className:"full-width",onClick:this.AddGroup(e)},"Add ".concat(e.capitalize()," Group")),this.Groups(e))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:"Manage Library Groups",redirectPath:pr.a.dirname(this.props.match.url),cancelPath:pr.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"library-group-form"},this.GroupsForm("accessor"),s.a.createElement("div",{className:"section-separator"}),this.GroupsForm("contributor"),s.a.createElement("div",{className:"section-separator"}),this.GroupsForm("reviewer"))))}}]),t}(s.a.Component);Xa.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,accessGroups:Zt.a.object.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var $a=Xa,en=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.ListAccessGroups({params:{}});case 3:return e.next=5,r.GetContentLibrary({libraryId:r.libraryId});case 5:return e.next=7,r.ListContentLibraryGroups({libraryId:r.libraryId});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),tn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.UpdateContentLibraryGroups(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),rn=ha($a),an=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],accessGroups:e.accessGroups.accessGroups}},function(e){return Lt(e,[hr,ya,br,kr])})(function(e){var t=e.libraryId||e.match.params.libraryId;return s.a.createElement(rn,Dt()({},e,{libraryId:t,Load:en,methods:{Submit:tn}}))}),nn=r(51),sn=r.n(nn),on=r(173),cn=r.n(on),ln=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={videoRef:s.a.createRef()},r}return ht()(t,e),ct()(t,[{key:"componentDidMount",value:function(){cn.a.MediaPlayer().create().initialize(this.state.videoRef.current,this.props.videoUrl,!1)}},{key:"render",value:function(){return s.a.createElement("video",{className:"dash-video "+this.props.className,ref:this.state.videoRef,controls:!0})}}]),t}(s.a.Component);ln.propTypes={videoUrl:Zt.a.string.isRequired,className:Zt.a.string};var un=ln,pn=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={files:"",directories:!1},r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.Upload(this.props.path,this.state.files);case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"upload-widget"},s.a.createElement("div",{className:"modal-error"},this.state.error),s.a.createElement(Nt.h,{legend:"Upload files to "+this.props.displayPath,status:this.props.uploadStatus,OnSubmit:this.HandleSubmit,OnCancel:this.props.OnCancel,OnError:function(t){return e.setState({error:t})},OnComplete:this.props.OnComplete},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"directories"},"Type"),s.a.createElement(Nt.m,{name:"directories",inline:!0,options:[["Files",!1],["Directory",!0]],selected:this.state.directories,onChange:function(t){return e.setState({directories:t.target.value})}}),s.a.createElement("label",{htmlFor:"files"},this.state.directories?"Directory":"Files"),s.a.createElement(Nt.d,{name:"files",onChange:function(t){return e.setState({files:t.target.files})},directories:this.state.directories,multiple:!0,progress:this.props.progress}))))}}]),t}(s.a.Component);pn.propTypes={path:Zt.a.string.isRequired,displayPath:Zt.a.string.isRequired,progress:Zt.a.object,uploadStatus:Zt.a.object,Upload:Zt.a.func.isRequired,OnComplete:Zt.a.func.isRequired,OnCancel:Zt.a.func};var dn=pn,mn=r(174),hn=r.n(mn),fn=r(175),bn=r.n(fn),vn=r(176),yn=r.n(vn),gn=r(177),xn=r.n(gn),kn=r(178),wn=r.n(kn),Cn=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={path:".",displayPath:"/",currentDir:r.props.files,showUpload:!1},r}return ht()(t,e),ct()(t,[{key:"ChangeDirectory",value:function(e){var t="."===(e=pr.a.normalize(e))?this.props.files:Object(F.f)(this.props.files,e.split(pr.a.sep));this.setState({path:e,displayPath:"."===e?"/":"/"+e,currentDir:t})}},{key:"File",value:function(e,t){var r=this,a=sn()(t.size||0);return s.a.createElement("tr",{key:"entry-".concat(this.state.path,"-").concat(e)},s.a.createElement("td",{className:"item-icon"},s.a.createElement(Nt.j,{icon:bn.a,label:"File"})),s.a.createElement("td",{title:e},e),s.a.createElement("td",{title:a,className:"info-cell"},a),s.a.createElement("td",{className:"actions-cell"},s.a.createElement(Nt.i,{icon:yn.a,label:"Download "+e,onClick:function(){return r.props.Download(N()(r.state.path,e))},className:"download-button"}),s.a.createElement(Nt.b,{Load:j()(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.props.FileUrl(N()(r.state.path,e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))},s.a.createElement(Nt.i,{icon:wn.a,label:"Copy direct link to "+e,className:"copy-button"}))))}},{key:"Directory",value:function(e){var t=this,r=function(){return t.ChangeDirectory(N()(t.state.path,e.name))};return s.a.createElement("tr",{key:"entry-".concat(this.state.path,"-").concat(e.name),className:"directory",onClick:r,onKeyPress:r},s.a.createElement("td",{className:"item-icon"},s.a.createElement(Nt.j,{icon:hn.a,label:"Directory"})),s.a.createElement("td",{tabIndex:"0",title:e.name},e.name),s.a.createElement("td",{className:"info-cell"},Object.keys(e.item).length-1+" Items"),s.a.createElement("td",null))}},{key:"Items",value:function(){var e=this,t=Object.keys(this.state.currentDir).filter(function(e){return"."!==e}).map(function(t){return{name:t,item:e.state.currentDir[t],info:e.state.currentDir[t]["."]}});return 0===t.length?s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",null,"No files"),s.a.createElement("td",null),s.a.createElement("td",null)):t.sort(function(e,t){return e.info.type!==t.info.type?"directory"===e.info.type?-1:1:e.name.toLowerCase()>t.name.toLowerCase()}).map(function(t){return"directory"===t.info.type?e.Directory(t):e.File(t.name,t.info)})}},{key:"UploadModal",value:function(){var e=this;if(!this.state.showUpload)return null;var t=function(){return e.setState({showUpload:!1})};return s.a.createElement(Nt.l,{closable:!0,OnClickOutside:t},s.a.createElement(dn,{path:this.state.path,displayPath:this.state.displayPath,files:this.props.files,uploadStatus:this.props.uploadStatus,Upload:this.props.Upload,OnComplete:function(){t(),e.props.Reload()},OnCancel:t}))}},{key:"render",value:function(){var e,t=this;return this.state.path&&this.state.path!==pr.a.dirname(this.state.path)&&(e=s.a.createElement(Nt.i,{icon:xn.a,label:"Back",onClick:function(){return t.ChangeDirectory(pr.a.dirname(t.state.path))}})),s.a.createElement("div",{className:"file-browser"},this.UploadModal(),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"type-header"},e),s.a.createElement("th",{title:"Current Directory: "+this.state.displayPath,tabIndex:"0"},this.state.displayPath),s.a.createElement("th",{className:"size-header"}),s.a.createElement("th",{className:"actions-header"},s.a.createElement(Nt.a,{onClick:function(){return t.setState({showUpload:!0})}},"Upload")))),s.a.createElement("tbody",null,this.Items())))}}]),t}(s.a.Component);Cn.propTypes={files:Zt.a.object.isRequired,uploadStatus:Zt.a.object.isRequired,Upload:Zt.a.func.isRequired,Download:Zt.a.func.isRequired,FileUrl:Zt.a.func.isRequired,Reload:Zt.a.func.isRequired};var In=Cn,En=r(116),jn=r.n(En);if(!("toJSON"in Error.prototype)){var Sn=["columnNumber","fileName","lineNumber"];Object.defineProperty(Error.prototype,"toJSON",{value:function(){var e=this,t={};return Object.getOwnPropertyNames(this).forEach(function(r){Sn.includes(r)||(t[r]=e[r])},this),t},configurable:!0,writable:!0})}var An=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"SandboxPermissions",value:function(){return["allow-scripts","allow-forms","allow-modals","allow-pointer-lock","allow-orientation-lock","allow-popups","allow-presentation"].join(" ")}},{key:"shouldComponentUpdate",value:function(e){return this.props.appUrl!==e.appUrl}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.props.listener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.props.listener)}},{key:"render",value:function(){return s.a.createElement("iframe",{ref:this.props.appRef,src:this.props.appUrl,sandbox:this.SandboxPermissions(),className:"app-frame "+(this.props.className||"")})}}]),t}(s.a.Component);An.propTypes={appUrl:Zt.a.string.isRequired,appRef:Zt.a.object.isRequired,listener:Zt.a.func.isRequired,className:Zt.a.string};var Nn=s.a.forwardRef(function(e,t){return s.a.createElement(An,Dt()({appRef:t},e))}),On=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={appRef:s.a.createRef()},r.ApiRequestListener=r.ApiRequestListener.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"AppUrl",value:function(){var e=this,t=this.props.appUrl;if(this.props.queryParams){var r=jn()(t);Object.keys(this.props.queryParams).forEach(function(t){r.addSearch(t,e.props.queryParams[t])}),t=r.toString()}return t}},{key:"Respond",value:function(e,t,r){(function e(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return e(t[r])});case"Map":return Kr()(t.keys()).every(e)&&Kr()(t.values()).every(e);case"Set":return Kr()(t.keys()).every(e);default:return!1}})(r=m()({},r,{requestId:e,type:"ElvFrameResponse"}))||(r=JSON.parse(JSON.stringify(r)));try{t.postMessage(r,"*")}catch(e){console.error(r),console.error(e)}}},{key:"ApiRequestListener",value:(r=j()(I.a.mark(function e(t){var r=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.data&&"ElvFrameRequest"===t.data.type){e.next=2;break}return e.abrupt("return");case 2:if(t.data.operation){e.next=7;break}return e.next=5,tt.ExecuteFrameRequest({request:t.data,Respond:function(e){return r.Respond(e.requestId,t.source,e)}});case 5:e.next=21;break;case 7:e.t0=t.data.operation,e.next="Complete"===e.t0?10:"Cancel"===e.t0?14:"SetFrameDimensions"===e.t0?18:21;break;case 10:if(!this.props.onComplete){e.next=13;break}return e.next=13,this.props.onComplete();case 13:return e.abrupt("break",21);case 14:if(!this.props.onCancel){e.next=17;break}return e.next=17,this.props.onCancel();case 17:return e.abrupt("break",21);case 18:return t.data.width&&(this.state.appRef.current.style.width=Math.min(parseInt(t.data.width),1200)+"px"),t.data.height&&(this.state.appRef.current.style.height=Math.min(parseInt(t.data.height),1200)+"px"),e.abrupt("break",21);case 21:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"render",value:function(){return s.a.createElement(Nn,{ref:this.state.appRef,appUrl:this.AppUrl(),listener:this.ApiRequestListener,className:this.props.className})}}]),t}(s.a.Component);On.propTypes={appUrl:Zt.a.string.isRequired,queryParams:Zt.a.object,onComplete:Zt.a.func,onCancel:Zt.a.func,className:Zt.a.string};var Tn=On,Ln=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=e.object.typeInfo||{},n="info",o=e.object.displayAppUrl||a.displayAppUrl;return e.view?n=e.view:(o||e.object.videoUrl)&&e.object.isContentType,r.state={visibleVersions:{},appRef:s.a.createRef(),view:n,displayAppUrl:o,typeId:a.id||"",typeHash:a.hash,typeName:a.meta&&a.meta.name?a.meta.name:a.hash,partDownloadProgress:{}},r.PageContent=r.PageContent.bind(Vr()(r)),r.SubmitContentObject=r.SubmitContentObject.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"SubmitContentObject",value:(r=j()(I.a.mark(function e(t){var r=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.e)({message:t,onConfirm:function(){var e=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.methods.PublishContentObject({objectId:r.props.objectId});case 2:return e.next=4,r.props.Load({componentParams:{view:"info"}});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"DeleteContentObject",value:function(){var e=j()(I.a.mark(function e(){var t=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.e)({message:"Are you sure you want to delete this content object?",onConfirm:function(){var e=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.methods.DeleteContentObject({libraryId:t.props.libraryId,objectId:t.props.objectId});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"DeleteVersionButton",value:function(e){var t=this;if(1===this.props.object.versions.length)return null;var r=function(){var r=j()(I.a.mark(function r(){return I.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Nt.e)({message:"Are you sure you want to delete this content version?",onConfirm:function(){var r=j()(I.a.mark(function r(){return I.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.props.methods.DeleteContentVersion({libraryId:t.props.libraryId,objectId:t.props.objectId,versionHash:e});case 2:return r.next=4,t.props.Load({componentParams:{view:"info"}});case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}()});case 2:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}();return s.a.createElement(Nt.k,{loading:this.props.methodStatus.DeleteContentVersion.loading,loadingIcon:"rotate"},s.a.createElement(Nt.a,{className:"delete-action action-compact action-wide",onClick:r},"Delete Content Version"))}},{key:"ToggleVersion",value:function(e){this.setState({visibleVersions:m()({},this.state.visibleVersions,v()({},e,!this.state.visibleVersions[e]))})}},{key:"ToggleButton",value:function(e,t){var r=this,a=this.state.visibleVersions[t],n=(a?"Hide ":"Show ")+e;return s.a.createElement(Nt.a,{className:"action-compact action-wide "+(a?"":"secondary"),onClick:function(){return r.ToggleVersion(t)}},n)}},{key:"PublishButton",value:function(){var e=this;if(!this.props.object.isNormalObject)return null;var t=this.props.library.groups.reviewer.length>0;if(this.props.object.status.code<0&&this.props.object.isOwner){var r=t?"Submit for Review":"Publish",a=t?"Are you sure you want to submit this content object for review?":"Are you sure you want to publish this content object?";return s.a.createElement(Nt.a,{onClick:function(){return e.SubmitContentObject(a)}},r)}return this.props.object.status.code>0&&this.props.object.permissions.canReview?s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"review")},"Review"):void 0}},{key:"VersionSize",value:function(e){return sn()(e.parts.reduce(function(e,t){return e+t.size},0))}},{key:"ToggleSection",value:function(e,t,r){var a,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.state.visibleVersions[t];return o&&(a=n?s.a.createElement("pre",{className:"content-object-data"},JSON.stringify(r,null,2)):r),s.a.createElement("div",{className:"formatted-data"},s.a.createElement(Aa,{label:e},this.ToggleButton(e,t)),a)}},{key:"ObjectMedia",value:function(){var e,t;return this.props.object.imageUrl&&(e=s.a.createElement("div",{className:"object-image"},s.a.createElement("img",{src:this.props.object.imageUrl}))),this.props.object.meta["offering.en"]&&(t=s.a.createElement("div",{className:"object-video"},s.a.createElement(un,{videoUrl:this.props.object.imageUrl}))),e||t?s.a.createElement("div",{className:"object-media"},t,e):null}},{key:"ObjectParts",value:function(e){var t=this;if(!e.parts||0===e.parts.length)return null;var r=this.props.object.meta["eluv-fb.parts"]||{},a={};Object.keys(r).forEach(function(e){a[r[e]]=e});var n=e.parts.map(function(r,n){var o=s.a.createElement(Nt.a,{className:"action-compact secondary",onClick:j()(I.a.mark(function n(){var s;return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.props.DownloadPart({libraryId:t.props.libraryId,objectId:t.props.objectId,versionHash:e.hash,partHash:r.hash,callback:function(){var a=j()(I.a.mark(function a(n){var s,o;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s=n.bytesFinished,o=n.bytesTotal,t.setState({partDownloadProgress:m()({},t.state.partDownloadProgress,v()({},e.hash,m()({},t.state.partDownloadProgress[e.hash],v()({},r.hash,100*s/o))))});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()});case 2:return s=n.sent,n.next=5,cr(s,a[r.hash]||r.hash);case 5:case"end":return n.stop()}},n)}))},"Download"),i=t.state.partDownloadProgress[e.hash]&&t.state.partDownloadProgress[e.hash][r.hash],c=void 0!==i?s.a.createElement("span",{className:"download-progress"},s.a.createElement("progress",{value:i,max:100}),"".concat(i.toFixed(1),"%")):void 0,l=a[r.hash]?s.a.createElement(Aa,{label:"Name",value:a[r.hash]}):null;return s.a.createElement("div",{key:r.hash+"-"+n,className:"part-info"},l,s.a.createElement(Aa,{label:"Hash",copyValue:r.hash},r.hash),s.a.createElement(Aa,{label:"Size"},sn()(r.size)),s.a.createElement(Aa,{label:"Download"},c||o))});return s.a.createElement("div",null,s.a.createElement("h3",null,"Parts"),n)}},{key:"ObjectFiles",value:function(){var e=this,t=function(){var t=j()(I.a.mark(function t(r){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.DownloadFile({libraryId:e.props.libraryId,objectId:e.props.objectId,filePath:r});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=j()(I.a.mark(function t(r,a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.methods.UploadFiles({libraryId:e.props.libraryId,objectId:e.props.objectId,path:r,fileList:a});case 2:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),a=function(){var t=j()(I.a.mark(function t(r){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.FileUrl({libraryId:e.props.libraryId,objectId:e.props.objectId,filePath:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return s.a.createElement("div",{className:"object-files"},s.a.createElement("h3",null,"Files"),s.a.createElement(In,{files:this.props.object.meta.files||{},Reload:function(){return e.props.Load({componentParams:{view:"files"}})},uploadStatus:this.props.methodStatus.UploadFiles,Upload:r,Download:t,FileUrl:a}))}},{key:"ObjectVersion",value:function(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a||this.state.visibleVersions[e.hash];return r=a?s.a.createElement("h3",null,"Latest Version"):s.a.createElement(Aa,{label:"Version "+t},this.ToggleButton("Version",e.hash)),n?s.a.createElement("div",{key:"version-"+t,className:"version-info "+(a?"":"indented version-visible")},r,s.a.createElement("div",{className:"indented"},s.a.createElement(Aa,{label:"Hash",copyValue:e.hash},e.hash),s.a.createElement(Aa,{label:"Parts"},e.parts.length),s.a.createElement(Aa,{label:"Total size"},this.VersionSize(e)),this.ToggleSection("Metadata","metadata-"+t,e.meta),this.ToggleSection("Verification","verification-"+t,e.verification),this.ToggleSection("Parts","parts-"+t,this.ObjectParts(e),!1),s.a.createElement("br",null),s.a.createElement(Aa,{hidden:!0},this.DeleteVersionButton(e.hash)))):s.a.createElement("div",{key:"version-"+t,className:"version-info indented"},r)}},{key:"PreviousVersions",value:function(){var e=this;return this.props.object.versions.length<2?null:s.a.createElement("div",null,s.a.createElement("h3",null,"Previous Versions"),this.props.object.versions.slice(1).map(function(t,r){var a=-1*(r+1-e.props.object.versions.length);return e.ObjectVersion(t,a)}))}},{key:"ContractInfo",value:function(){var e=[];if(e.push(s.a.createElement(Aa,{key:"contract-address",label:"Contract Address",copyValue:this.props.object.contractAddress},s.a.createElement(yt.a,{className:"inline-link",to:N()(this.props.match.url,"contract")},this.props.object.contractAddress))),!this.props.object.isContentLibraryObject&&this.props.object.customContractAddress){var t=this.props.object.customContractAddress;e.push(s.a.createElement(Aa,{key:"contract-"+t,label:"Custom Contract",copyValue:t},s.a.createElement(yt.a,{className:"inline-link",to:N()(this.props.match.url,"custom-contract")},t)))}return e}},{key:"ObjectStatus",value:function(){if(!this.props.object.isNormalObject)return null;var e,t;if(this.props.object.meta["eluv.reviewNote"]){t=s.a.createElement(Aa,{label:"Reviewer"},this.props.object.meta["eluv.reviewer"]);var r=s.a.createElement(Oa,{className:"object-description",text:this.props.object.meta["eluv.reviewNote"]});e=s.a.createElement(Aa,{label:"Review Note"},r)}return s.a.createElement("div",null,s.a.createElement(Aa,{label:"Status"},this.props.object.status.description),t,e)}},{key:"ObjectInfo",value:function(){var e,t=this.props.object.versions[0],r=s.a.createElement(Oa,{className:"object-description",text:this.props.object.description});return this.props.object.isNormalObject&&(e=s.a.createElement(Aa,{label:"Access charge"},Object(F.a)(this.props.object.accessInfo.accessCharge))),s.a.createElement("div",{className:"object-info label-box"},s.a.createElement(Aa,{label:"Name"},this.props.object.name),s.a.createElement(Aa,{label:"Description",alignTop:!0},r),this.ObjectStatus(),e,s.a.createElement("br",null),s.a.createElement(Aa,{label:"Library ID",copyValue:this.props.libraryId,hidden:this.props.object.isContentType},s.a.createElement(yt.a,{className:"inline-link",to:N()("/content",this.props.libraryId)},this.props.libraryId)),s.a.createElement(Aa,{label:"Object ID",copyValue:this.props.objectId},this.props.objectId),s.a.createElement(Aa,{label:"Type",hidden:this.props.object.isContentType},s.a.createElement(yt.a,{className:"inline-link",to:N()("/content-types",this.state.typeId)},this.state.typeName||this.state.typeId)),s.a.createElement(Aa,{label:"Type Hash",hidden:this.props.object.isContentType},this.state.typeHash),this.ContractInfo(),s.a.createElement(Aa,{label:"Owner",copyValue:this.props.object.owner},this.props.object.owner),s.a.createElement("br",null),s.a.createElement(Aa,{label:"Versions"},this.props.object.versions.length),s.a.createElement(Aa,{label:"Parts"},t.parts.length),s.a.createElement(Aa,{label:"Total size"},this.VersionSize(t)),this.ObjectVersion(this.props.object.versions[0],this.props.object.versions.length,!0),this.PreviousVersions())}},{key:"Actions",value:function(){var e,t,r,a=this;return this.props.object.isOwner&&(e=s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"apps")},"Apps")),!this.props.object.customContractAddress&&(this.props.object.isNormalObject||this.props.object.isContentType)&&this.props.object.isOwner&&(t=s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"deploy")},"Custom Contract")),this.props.object.isContentLibraryObject||(r=s.a.createElement(Nt.a,{className:"delete-action",onClick:function(){return a.DeleteContentObject()}},"Delete")),s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back"),s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"edit")},"Manage"),this.PublishButton(),t,s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"upload")},"Upload Parts"),e,r)}},{key:"DisplayVideo",value:function(){return s.a.createElement("div",{className:"video-player"},s.a.createElement("video",{poster:this.props.object.imageUrl,controls:!0},s.a.createElement("source",{src:this.props.object.videoUrl})))}},{key:"AppFrame",value:function(){var e=this;if(!this.state.displayAppUrl)return null;var t={contentSpaceId:tt.contentSpaceId,libraryId:this.props.libraryId,objectId:this.props.objectId,type:this.state.typeHash,action:"display"};return s.a.createElement(Tn,{className:"display-frame",appUrl:this.state.displayAppUrl,queryParams:t,onComplete:this.LoadObject,onCancel:function(){return e.setState({deleted:!0})}})}},{key:"Tabs",value:function(){var e=this,t=[["Content Info","info"],["Files","files"]];return(this.state.displayAppUrl||this.props.object.videoUrl)&&t.unshift(["Display","display"]),s.a.createElement(Nt.n,{options:t,selected:this.state.view,onChange:function(t){return e.setState({view:t})}})}},{key:"PageContent",value:function(){return this.props.methodStatus.DeleteContentObject.completed?s.a.createElement(Wt.a,{push:!0,to:pr.a.dirname(this.props.match.url)}):(e=this.props.object.isContentLibraryObject?this.props.library.name+" > Library Object":this.props.object.isContentType?"Content Types > "+this.props.object.name:this.props.library.name+" > "+this.props.object.name,t="display"===this.state.view?this.state.displayAppUrl?this.AppFrame():this.DisplayVideo():"info"===this.state.view?s.a.createElement("div",null,this.ObjectMedia(),this.ObjectInfo()):this.ObjectFiles(),s.a.createElement("div",{className:"page-container content-page-container"},this.Actions(),s.a.createElement(Wr,{header:e,subHeader:this.props.object.description}),this.Tabs(),s.a.createElement("div",{className:"page-content"},t)));var e,t}},{key:"render",value:function(){var e=this.props.methodStatus.DeleteContentObject.loading||this.props.methodStatus.PublishContentObject.loading;return s.a.createElement(Nt.k,{fullPage:!0,loading:e,render:this.PageContent})}}]),t}(s.a.Component);Ln.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,objectId:Zt.a.string.isRequired,object:Zt.a.object.isRequired,methods:Zt.a.shape({UploadFiles:Zt.a.func.isRequired,DeleteContentObject:Zt.a.func.isRequired,DeleteContentVersion:Zt.a.func.isRequired}),DownloadPart:Zt.a.func.isRequired,DownloadFile:Zt.a.func.isRequired};var Rn=Ln,Fn=function(){var e=j()(I.a.mark(function e(t){var r,a,n,s,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=r.libraryId,n=r.objectId,e.next=5,r.GetContentLibrary({libraryId:a});case 5:return e.next=7,r.GetContentObject({libraryId:a,objectId:n});case 7:return e.next=9,r.GetContentObjectVersions({libraryId:a,objectId:n});case 9:if(s=tt.utils.EqualHash(a,n),o=a===tt.contentSpaceLibraryId&&!s,!(!s&&!o)){e.next=17;break}return e.next=15,r.ListContentLibraryGroups({libraryId:a});case 15:return e.next=17,r.GetContentObjectPermissions({libraryId:a,objectId:n});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.PublishContentObject(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Hn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.UploadFiles(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.DeleteContentVersion(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Pn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.DeleteContentObject(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Bn=ha(Rn),qn=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId]}},function(e){return Lt(e,[hr,Ir,Er,br,jr,Rr,Lr,Pr,qr,Br,Dr,Or])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId;return s.a.createElement(Bn,Dt()({},e,{libraryId:t,objectId:r,Load:Fn,methods:{PublishContentObject:Gn,UploadFiles:Hn,DeleteContentVersion:Mn,DeleteContentObject:Pn}}))}),Dn=[{key:"name",label:"Name",type:"string",required:!0},{key:"eluv.description",label:"Description",type:"text",required:!1}],Un=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={completed:!1,metadata:"",uploadStatus:{}},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleFieldChange=r.HandleFieldChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r.HandleTypeChange=r.HandleTypeChange.bind(Vr()(r)),r.RemoveElement=r.RemoveElement.bind(Vr()(r)),r.FrameCompleted=r.FrameCompleted.bind(Vr()(r)),r.UploadStatusCallback=r.UploadStatusCallback.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"componentDidMount",value:function(){this.Initialize()}},{key:"FormatType",value:function(e){if(!e.hash)return e;var t=e.meta&&e.meta.name||e.hash;return m()({},e,{name:t,schema:e.meta&&e.meta["eluv.schema"],allowCustomMetadata:e.meta&&e.meta["eluv.allowCustomMetadata"]})}},{key:"Initialize",value:function(){var e=this,t="",r={},a="",n=0;if(this.props.createForm){var s={};if(Object.values(this.props.library.types).forEach(function(e){return s[e.hash]=e}),Object.keys(s).length>0)t=Object.values(s)[0].hash,r=s;else{var o={};Object.values(this.props.types).forEach(function(e){return o[e.hash]=e}),r=m()({"":{name:"[none]",hash:""}},o)}Object.values(r).forEach(function(t){return r[t.hash]=e.FormatType(t)})}else{var i=this.props.object;a=JSON.stringify(i.meta,null,2),n=i.accessInfo.accessCharge,t=i.type,i.typeInfo&&(r=v()({},t,this.FormatType(i.typeInfo)))}this.setState({types:r,type:t,metadata:a,accessCharge:n}),this.SwitchType(r,t)}},{key:"SwitchType",value:function(e,t){var r,a=this.props.object,n=t&&e[t]||{},s=!1,o=n.schema||Dn;a&&a.manageAppUrl&&!a.isContentType?(r=a.manageAppUrl,s=!0):n.manageAppUrl&&(r=n.manageAppUrl,s=!0);var i=!n.schema||n.allowCustomMetadata,c=this.props.createForm?void 0:this.props.object.meta,l=nr({schema:o,initialData:c});this.setState({type:t,fields:l,schema:o,allowCustomMetadata:i,manageAppUrl:r,showManageApp:s})}},{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleTypeChange",value:function(e){this.SwitchType(this.state.types,e.target.value)}},{key:"HandleFieldChange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=e.target.value;"file"===t.type?a=e.target.files:"boolean"===t.type&&(a=e.target.checked),this.setState({fields:ir({data:this.state.fields,subtree:r,attr:t.key,value:a})})}},{key:"RemoveElement",value:function(e,t){this.setState({fields:or({data:this.state.fields,subtree:e,attr:t})})}},{key:"UploadStatusCallback",value:function(e){var t=e.key,r=e.uploaded,a=e.total,n=e.filename,s="".concat((100*r/a).toFixed(1),"%");this.setState({uploadStatus:m()({},this.state.uploadStatus,v()({},t,m()({},(this.state.uploadStatus||{})[t],v()({},n,s))))})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="[none]"===this.state.type?"":this.state.type,e.next=3,this.props.methods.Submit({type:t,libraryId:this.props.libraryId,objectId:this.props.objectId,schema:this.state.schema,fields:this.state.fields,metadata:this.state.metadata,accessCharge:this.state.accessCharge,callback:this.UploadStatusCallback});case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"TypeField",value:function(){if(this.props.createForm){var e=Object.values(this.state.types).map(function(e){var t=e.name,r=e.hash;return s.a.createElement("option",{key:"type-"+r,name:"type",value:r},t)});return[s.a.createElement("label",{key:"type-field-label",htmlFor:"type"},"Content Type"),s.a.createElement("select",{key:"type-field",name:"type",value:this.state.type,onChange:this.HandleTypeChange},e)]}}},{key:"BuildField",value:function(e){var t,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function(t){return r.HandleFieldChange(t,e,a)},o="field-".concat(this.state.type,"-").concat(a.join("-"),"-").concat(e.key),i=sr({data:this.state.fields,subtree:a,attr:e.key}),c=void 0!==e.label?e.label:e.key;switch(e.type){case"label":t=s.a.createElement("div",{key:o,className:"form-text"},e.text);break;case"attachedFile":t=s.a.createElement(Nt.a,{key:o,className:"action-compact secondary action-full-width",onClick:j()(I.a.mark(function t(){var a;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.state.types[r.state.type],!e.hash){t.next=4;break}return t.next=4,r.props.DownloadPart({libraryId:tt.contentSpaceLibraryId,objectId:a.id,versionHash:a.hash,partHash:e.hash,callback:function(){var t=j()(I.a.mark(function t(r){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cr(r,e.filename||c);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()});case 4:case"end":return t.stop()}},t)}))},"Download");break;case"string":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,value:i,onChange:n});break;case"text":t=s.a.createElement("textarea",{key:o,name:e.key,required:e.required,value:i,onChange:n});break;case"integer":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,value:i,type:"number",step:1,onChange:n});break;case"number":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,value:i,type:"number",step:1e-12,onChange:n});break;case"boolean":t=s.a.createElement("input",{key:o,name:e.key,required:e.required,checked:i,type:"checkbox",onChange:n});break;case"choice":return s.a.createElement(Nt.m,{key:o,name:e.key,required:e.required,selected:i,options:e.options,onChange:n});case"json":t=s.a.createElement($t,{key:o,UpdateValue:function(t){return r.HandleFieldChange({target:{value:t}},e,a)},onChange:n,name:e.key,value:i});break;case"file":var l=e.required&&this.props.createForm;t=s.a.createElement(Nt.d,{key:o,accept:e.accept,name:e.key,onChange:n,multiple:e.multiple,required:l,preview:e.preview,progress:this.state.uploadStatus[e.key]||{}});break;case"list":var u=Object.keys(i).map(function(t){var n={key:t,type:"list-element"};return r.BuildField(n,a.concat(e.key))});t=s.a.createElement("div",{key:o,className:"full-width"},s.a.createElement(Nt.a,{onClick:function(){return r.HandleFieldChange({target:{value:""}},{key:tr.next()},a.concat(e.key))}},"Add Element"),s.a.createElement("div",{className:"list"},u));break;case"list-element":return s.a.createElement("div",{key:o,className:"list-item"},s.a.createElement("input",{name:e.key,required:e.required,value:i,onChange:n}),s.a.createElement(Nt.i,{icon:Va.a,label:"Remove Element",onClick:function(){return r.RemoveElement(a,e.key)}}));case"object":var p=this.BuildType(e.fields,a.concat([e.key]));if(e.flattenDisplay)return p;t=s.a.createElement("div",{key:o,className:"form-content no-margins"},p)}return[s.a.createElement("label",{key:o+"-label",className:["label","list","text","json","object","file"].includes(e.type)?"align-top":"",htmlFor:name},c),t]}},{key:"BuildType",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){return t.BuildField(e,r)})}},{key:"MetadataField",value:function(){var e=this;return[s.a.createElement("label",{key:"metadata-input-label",className:"align-top"},"Metadata"),s.a.createElement($t,{key:"metadata-input",UpdateValue:function(t){return e.setState({metadata:t})},onChange:this.HandleInputChange,name:"metadata",value:this.state.metadata})]}},{key:"AccessChargeField",value:function(){return[s.a.createElement("label",{key:"access-charge-label",htmlFor:"accessCharge"},"Access Charge"),s.a.createElement("input",{key:"access-charge",type:"number",step:1e-7,name:"accessCharge",value:this.state.accessCharge||0,onChange:this.HandleInputChange})]}},{key:"FrameCompleted",value:function(){this.setState({completed:!0})}},{key:"AppFormSelection",value:function(){var e=this;return this.state.manageAppUrl?s.a.createElement(Nt.n,{className:"compact",selected:this.state.showManageApp,onChange:function(t){return e.setState({showManageApp:t})},options:[["App",!0],["Form",!1]]}):null}},{key:"AppFrame",value:function(e){var t={contentSpaceId:tt.contentSpaceId,libraryId:this.props.libraryId,objectId:this.props.objectId,type:this.state.type,action:"manage"};return s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("legend",null,e),this.AppFormSelection(),this.TypeField(),s.a.createElement("br",null),s.a.createElement(Tn,{appUrl:this.state.manageAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted,className:"form-frame"}),s.a.createElement("div",{className:"form-actions"},s.a.createElement(Nt.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"FormContent",value:function(e,t,r){return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:e,redirectPath:t,cancelPath:r,status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",null,this.AppFormSelection(),s.a.createElement("div",{className:"form-content"},this.TypeField(),this.BuildType(this.state.schema),this.MetadataField(),this.AccessChargeField()))))}},{key:"render",value:function(){if(!this.state.schema&&!this.state.manageAppUrl)return null;var e=this.props.createForm?"Contribute content":"Manage content",t=pr.a.dirname(this.props.match.url);this.props.createForm&&(t=this.props.objectId?N()(pr.a.dirname(this.props.match.url),this.props.objectId):pr.a.dirname(this.props.match.url));var r=pr.a.dirname(this.props.match.url);return this.state.completed?s.a.createElement(Wt.a,{push:!0,to:t}):this.state.manageAppUrl&&this.state.showManageApp?this.AppFrame(e):this.FormContent(e,t,r)}}]),t}(s.a.Component);Un.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,objectId:Zt.a.string,object:Zt.a.object,types:Zt.a.object.isRequired,createForm:Zt.a.bool.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var zn=Un,_n=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.GetContentLibrary({libraryId:r.libraryId});case 3:if(!r.createForm){e.next=8;break}return e.next=6,r.ContentTypes();case 6:e.next=10;break;case 8:return e.next=10,r.GetContentObject({libraryId:r.libraryId,objectId:r.objectId});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Vn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=t.params,!r.createForm){e.next=7;break}return e.next=4,r.CreateFromContentTypeSchema(a);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,r.UpdateFromContentTypeSchema(a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Wn=ha(zn),Jn=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId],types:e.content.allTypes}},function(e){return Lt(e,[hr,Ar,Nr,Ir,Hr,fr])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId,a=e.location.pathname.endsWith("create");return s.a.createElement(Wn,Dt()({},e,{libraryId:t,objectId:r,createForm:a,Load:_n,methods:{Submit:Vn}}))}),Kn=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={encrypt:!0,progress:{}},r.HandleFileSelect=r.HandleFileSelect.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleFileSelect",value:function(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t,r=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t=e.uploaded,a=e.total,n=e.filename,s="".concat((100*t/a).toFixed(1),"%");r.setState({progress:m()({},r.state.progress,v()({},n,s))})},e.next=3,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,files:this.state.files,encrypt:this.state.encrypt,callback:t});case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:"Upload parts",redirectPath:pr.a.dirname(this.props.match.url),cancelPath:pr.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"files",className:"align-top"},"Files"),s.a.createElement(Nt.d,{name:"files",onChange:this.HandleFileSelect,required:!0,multiple:!0,progress:this.state.progress}),s.a.createElement("label",{htmlFor:"encrypt"},"Encrypt Parts"),s.a.createElement("input",{type:"checkbox",name:"encrypt",value:this.state.encrypt,checked:this.state.encrypt,onChange:function(){e.setState({encrypt:!e.state.encrypt})}}))))}}]),t}(s.a.Component);Kn.propTypes={libraryId:Zt.a.string.isRequired,objectId:Zt.a.string.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var Yn=Kn,Zn=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.UploadParts(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Qn=ha(Yn),Xn=Object(i.c)(function(){return{}},function(e){return Lt(e,[Mr])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId;return s.a.createElement(Qn,Dt()({},e,{libraryId:t,objectId:r,methods:{Submit:Zn}}))}),$n=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={approve:!0,note:"",reviewAppUrl:e.object.reviewAppUrl||e.object.typeInfo&&e.object.typeInfo.reviewAppUrl},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r.FrameCompleted=r.FrameCompleted.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,approve:this.state.approve,note:this.state.note});case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"FrameCompleted",value:function(){this.setState({completed:!0})}},{key:"ReviewAppFrame",value:function(e){var t={contentSpaceId:tt.contentSpaceId,libraryId:this.props.libraryId,objectId:this.props.objectId,type:this.props.object.type,action:"review"};return s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("legend",null,e),s.a.createElement(Tn,{appUrl:this.state.reviewAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted}),s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"render",value:function(){if(this.state.completed)return s.a.createElement(Wt.a,{push:!0,to:pr.a.dirname(this.props.match.url)});var e='Review "'.concat(this.props.object.name,'"');return this.state.reviewAppUrl?this.ReviewAppFrame(e):s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:e,redirectPath:pr.a.dirname(this.props.match.url),cancelPath:pr.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"approve"},"Approval"),s.a.createElement(Nt.m,{name:"approve",inline:!0,options:[["Approve",!0],["Reject",!1]],selected:this.state.approve,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"note"},"Note"),s.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.HandleInputChange}))))}}]),t}(s.a.Component);$n.propTypes={libraryId:Zt.a.string.isRequired,objectId:Zt.a.string.isRequired,object:Zt.a.object.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var es=$n,ts=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.GetContentObject({libraryId:r.libraryId,objectId:r.objectId});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),rs=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ReviewContentObject(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),as=ha(es),ns=Object(i.c)(function(e,t){return{object:e.content.objects[t.match.params.objectId]}},function(e){return Lt(e,[Ir,Tr])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId;return s.a.createElement(as,Dt()({},e,{libraryId:t,objectId:r,Load:ts,methods:{Submit:rs}}))}),ss=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={},r.ContentTypes=r.ContentTypes.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"ContentTypes",value:function(){var e=this;return this.props.types?Object.keys(this.props.types).sort().map(function(t){var r=e.props.types[t];return{id:t,sortKey:r.name||"zz",title:r.name||"Content Type "+t,description:r.description,icon:xt.a,link:N()("/content-types",t)}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:N()("/content-types","create")},"New Content Type")),s.a.createElement(Wr,{header:"Content Types"}),s.a.createElement("div",{className:"page-content"},s.a.createElement(pa,{pageId:"ContentTypes",paginate:!0,count:this.props.count,loadingStatus:this.props.methodStatus.ListContentTypes,LoadContent:function(t){var r=t.params;return e.props.methods.ListContentTypes({params:r})},RenderContent:this.ContentTypes})))}}]),t}(s.a.Component);ss.propTypes={types:Zt.a.object.isRequired,count:Zt.a.number.isRequired,methods:Zt.a.shape({ListContentTypes:Zt.a.func.isRequired})};var os=ss,is=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListContentTypes(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),cs=ha(os),ls=Object(i.c)(function(e){return{types:e.content.types,count:e.content.count.types}},function(e){return Lt(e,[wr])})(function(e){return s.a.createElement(cs,Dt()({},e,{methods:{ListContentTypes:is}}))}),us=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=e.object||{};return r.state={name:a.name||"",description:a.description||"",metadata:JSON.stringify(a.meta,null,2),isContentLibraryObject:a.isContentLibraryObject||!1,redirectPath:pr.a.dirname(r.props.match.url)},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleBitcodeChange=r.HandleBitcodeChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleBitcodeChange",value:function(e){this.setState({bitcode:e.target.files[0]})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,name:this.state.name,description:this.state.description,metadata:this.state.metadata,bitcode:this.state.bitcode});case 2:t=e.sent,this.setState({objectId:t});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"BitcodeSelection",value:function(){return this.props.createForm?[s.a.createElement("label",{key:"bitcode-selection-label",htmlFor:"bitcode"},"Bitcode"),s.a.createElement(Nt.d,{key:"bitcode-selection",name:"bitcode",required:!1,multiple:!1,accept:".bc",onChange:this.HandleBitcodeChange})]:null}},{key:"render",value:function(){var e=this,t=this.props.createForm?"Create content type":"Manage content type",r=m()({},this.props.methodStatus.Submit);r.completed=r.completed&&!!this.state.objectId;var a=pr.a.dirname(this.props.match.url),n=this.props.createForm?N()(a,this.state.objectId||""):a;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:t,redirectPath:n,cancelPath:a,status:r,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange,readOnly:this.state.isContentLibraryObject}),this.BitcodeSelection(),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"metadata"},"Metadata"),s.a.createElement($t,{name:"metadata",value:this.state.metadata,onChange:this.HandleInputChange,UpdateValue:function(t){return e.setState({metadata:t})}}))))}}]),t}(s.a.Component);us.propTypes={libraryId:Zt.a.string.isRequired,objectId:Zt.a.string,object:Zt.a.object,createForm:Zt.a.bool.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var ps=us,ds=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.props).createForm){e.next=6;break}return e.next=4,r.GetContentObject({libraryId:r.libraryId,objectId:r.objectId});case 4:return e.next=6,r.GetContentObjectVersions({libraryId:r.libraryId,objectId:r.objectId});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ms=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=t.params,!r.createForm){e.next=7;break}return e.next=4,r.CreateContentType(a);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,r.UpdateContentObject(a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),hs=ha(ps),fs=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId],types:e.content.allTypes}},function(e){return Lt(e,[Ir,Er,Gr,Fr])})(function(e){var t=e.libraryId,r=e.match.params.objectId,a=e.location.pathname.endsWith("create");return s.a.createElement(hs,Dt()({},e,{libraryId:t,objectId:r,createForm:a,Load:ds,methods:{Submit:ms}}))}),bs=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a={};return r.AppRoles().map(function(t){var r=e.object.meta["eluv.".concat(t,"App")];r&&(a[t]={filename:r})}),r.state={apps:a},r.PageContent=r.PageContent.bind(Vr()(r)),r.DeleteApp=r.DeleteApp.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"AppRoles",value:function(){return["display","manage","review"]}},{key:"DeleteApp",value:(r=j()(I.a.mark(function e(t){var r=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.e)({message:"Are you sure you want to remove the ".concat(t," app?"),onConfirm:function(){var e=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.methods.RemoveApp({libraryId:r.props.libraryId,objectId:r.props.objectId,role:t});case 2:return e.next=4,r.props.Load();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"AppEntry",value:function(e){var t,r,a=this,n=this.state.apps[e];if(n)r=s.a.createElement(Nt.a,{onClick:function(){return a.DeleteApp(e)},className:"action delete-action action-compact action-wide"},"Remove ".concat(e.capitalize()," App")),t=s.a.createElement(Aa,{label:"Name"},n.filename);else{r=s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,e,"add"),className:"action-compact action-wide"},"Add ".concat(e.capitalize()," App"));var o=this.props.object.typeInfo&&this.props.object.typeInfo.meta||{},i=o["eluv.".concat(e,"App")];if(i){var c=o.name||"content type";t=s.a.createElement(Aa,{label:"Name"},"".concat(i," (").concat(c,")"))}}return s.a.createElement("div",{key:"app-entry"+e},s.a.createElement("h3",null,e.capitalize()),s.a.createElement("div",{className:"indented"},t,s.a.createElement(Aa,null,r)))}},{key:"PageContent",value:function(){var e=this,t=this.props.object.isContentLibraryObject?this.props.library.name+" > Library Object":this.props.library.name+" > "+this.props.object.name;return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Wr,{header:t,subHeader:"App management"}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},this.AppRoles().map(function(t){return e.AppEntry(t)}))))}},{key:"render",value:function(){return s.a.createElement(Nt.k,{fullPage:!0,render:this.PageContent,loading:this.props.methodStatus.RemoveApp.loading})}}]),t}(s.a.Component);bs.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,objectId:Zt.a.string.isRequired,object:Zt.a.object.isRequired,methods:Zt.a.shape({RemoveApp:Zt.a.func.isRequired})};var vs=bs,ys=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.GetContentLibrary({libraryId:r.libraryId});case 3:return e.next=5,r.GetContentObject({libraryId:r.libraryId,objectId:r.objectId});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gs=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.RemoveApp(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),xs=ha(vs),ks=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId]}},function(e){return Lt(e,[hr,Ir,zr])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId;return s.a.createElement(xs,Dt()({},e,{libraryId:t,objectId:r,Load:ys,methods:{RemoveApp:gs}}))}),ws=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={role:r.props.match.params.role},r.HandleFileSelect=r.HandleFileSelect.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleFileSelect",value:function(e){this.setState({appFile:e.target.files})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({libraryId:this.props.libraryId,objectId:this.props.objectId,role:this.state.role,file:this.state.appFile});case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.object.isContentLibraryObject?this.props.library.name+" > Library Object":this.props.library.name+" > "+this.props.object.name;return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(pr.a.dirname(this.props.match.url)),className:"secondary"},"Back")),s.a.createElement(Wr,{header:e,subHeader:"App management - ".concat(this.state.role.capitalize())}),s.a.createElement("div",{className:"page-content"},s.a.createElement(Nt.h,{legend:"Add ".concat(this.state.role.capitalize()," App"),redirectPath:pr.a.dirname(pr.a.dirname(this.props.match.url)),cancelPath:pr.a.dirname(pr.a.dirname(this.props.match.url)),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"app",className:"align-top"},"App"),s.a.createElement(Nt.d,{name:"app",onChange:this.HandleFileSelect,accept:"text/html",multiple:!1,required:!0})))))}}]),t}(s.a.Component);ws.propTypes={libraryId:Zt.a.string.isRequired,library:Zt.a.object.isRequired,objectId:Zt.a.string.isRequired,object:Zt.a.object.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var Cs=ws,Is=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.GetContentLibrary({libraryId:r.libraryId});case 3:return e.next=5,r.GetContentObject({libraryId:r.libraryId,objectId:r.objectId});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Es=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.AddApp(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),js=ha(Cs),Ss=Object(i.c)(function(e,t){return{library:e.content.libraries[t.libraryId||t.match.params.libraryId],object:e.content.objects[t.match.params.objectId]}},function(e){return Lt(e,[hr,Ir,Ur])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId;return s.a.createElement(js,Dt()({},e,{libraryId:t,objectId:r,Load:Is,methods:{Submit:Es}}))}),As=function(){return function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.CurrentAccountAddress();case 2:r=e.sent,t({type:h.accounts.get.currentAccountAddress,address:Object(F.d)(r)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ns=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={},r.AccessGroups=r.AccessGroups.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"AccessGroups",value:function(){var e=this;return this.props.accessGroups?Object.values(this.props.accessGroups).map(function(t){return{id:t.address,title:t.name,description:t.name,status:"",icon:wt.a,link:N()(e.props.match.url,t.address)}}):[]}},{key:"AccessGroupsListing",value:function(){var e=this;return s.a.createElement(pa,{pageId:"AccessGroups",paginate:!0,count:this.props.count,loadingStatus:this.props.methodStatus.ListAccessGroups,LoadContent:function(t){var r=t.params;return e.props.methods.ListAccessGroups(r)},RenderContent:this.AccessGroups,noIcon:!0})}},{key:"render",value:function(){return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:"/access-groups/create"},"New Access Group")),s.a.createElement(Wr,{header:"Access Groups"}),this.AccessGroupsListing())}}]),t}(s.a.Component);Ns.propTypes={accessGroups:Zt.a.object.isRequired,count:Zt.a.number.isRequired,methods:Zt.a.shape({ListAccessGroups:Zt.a.func.isRequired})};var Os=Ns,Ts=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.SetCurrentAccount();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ls=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListAccessGroups({params:a});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Rs=ha(Os),Fs=Object(i.c)(function(e){return{accessGroups:e.accessGroups.accessGroups,count:e.accessGroups.count.accessGroups}},function(e){return Lt(e,[As,ya])})(function(e){return s.a.createElement(Rs,Dt()({},e,{Load:Ts,methods:{ListAccessGroups:Ls}}))}),Gs=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={visibleElements:{}},r.PageContent=r.PageContent.bind(Vr()(r)),r.DeleteAccessGroup=r.DeleteAccessGroup.bind(Vr()(r)),r.AccessGroupMembers=r.AccessGroupMembers.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"DeleteAccessGroup",value:function(){var e=j()(I.a.mark(function e(){var t=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.e)({message:"Are you sure you want to delete this access group?",onConfirm:function(){var e=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.methods.RemoveAccessGroup({address:t.props.contractAddress});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"AccessGroupMembers",value:function(){return this.props.accessGroup.members?Object.values(this.props.accessGroup.members).map(function(e){var t=e.manager?"Manager":"Member";return{id:e.address,sortKey:e.name||"zz",key:"".concat(t,"-").concat(e.address),title:e.name,description:e.address,status:t,link:"/"}}).sort(function(e,t){return e.sortKey>t.sortKey?1:-1}):[]}},{key:"AccessGroupMembersListing",value:function(){var e=this;return s.a.createElement(pa,{pageId:"AccessGroupMembers",paginate:!0,count:this.props.membersCount,loadingStatus:this.props.methodStatus.ListAccessGroupMembers,LoadContent:function(t){var r=t.params;return e.props.methods.ListAccessGroupMembers({contractAddress:e.props.contractAddress,params:r})},RenderContent:this.AccessGroupMembers,noIcon:!0})}},{key:"Actions",value:function(){return this.props.accessGroup.isOwner,this.props.accessGroup.isOwner||this.props.accessGroup.isManager,s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back"),void 0,void 0,void 0)}},{key:"PageContent",value:function(){if(this.props.methodStatus.RemoveAccessGroup.completed)return s.a.createElement(Wt.a,{push:!0,to:pr.a.dirname(this.props.match.url)});var e=s.a.createElement(Oa,{className:"object-description",text:this.props.accessGroup.description});return s.a.createElement("div",{className:"page-container access-group-page-container"},this.Actions(),s.a.createElement(Wr,{header:this.props.accessGroup.name}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement(Aa,{label:"Description"},e),s.a.createElement(Aa,{label:"Owner",copyValue:this.props.accessGroup.owner},this.props.accessGroup.owner),s.a.createElement(Aa,{label:"Contract Address",copyValue:this.props.accessGroup.address},s.a.createElement(yt.a,{className:"inline-link",to:N()(this.props.match.url,"contract")},this.props.accessGroup.address)))))}},{key:"render",value:function(){return s.a.createElement(Nt.k,{fullPage:!0,loading:this.props.methodStatus.RemoveAccessGroup.loading,render:this.PageContent})}}]),t}(s.a.Component);Gs.propTypes={accessGroup:Zt.a.object.isRequired,contractAddress:Zt.a.string.isRequired,membersCount:Zt.a.number,methods:Zt.a.shape({RemoveAccessGroup:Zt.a.func.isRequired})};var Hs=Gs,Ms=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.SetCurrentAccount();case 3:return e.next=5,r.GetAccessGroup({contractAddress:r.contractAddress});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ps=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListAccessGroupMembers(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Bs=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.RemoveAccessGroup(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),qs=ha(Hs),Ds=Object(i.c)(function(e,t){return{accessGroup:e.accessGroups.accessGroups[t.match.params.contractAddress],membersCount:e.accessGroups.count.members[t.match.params.contractAddress]}},function(e){return Lt(e,[As,ga,ka,Ia])})(function(e){var t=e.match.params.contractAddress;return s.a.createElement(qs,Dt()({},e,{contractAddress:t,Load:Ms,methods:{ListAccessGroupMembers:Ps,RemoveAccessGroup:Bs}}))}),Us=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=e.accessGroup||{};return r.state={name:a.name||"",description:a.description||"",members:a.members||{}},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({address:this.props.contractAddress,name:this.state.name,description:this.state.description,members:this.state.members});case 2:t=e.sent,this.setState({contractAddress:t});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=m()({},this.props.methodStatus.Submit);e.completed=e.completed&&!!this.state.contractAddress;var t=pr.a.dirname(this.props.match.url),r=this.props.createForm?N()(t,this.state.contractAddress||""):t;return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:this.props.createForm?"Create Access Group":"Manage Access Group",redirectPath:r,cancelPath:t,status:e,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}}]),t}(s.a.Component);Us.propTypes={accessGroup:Zt.a.object,contractAddress:Zt.a.string,createForm:Zt.a.bool.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var zs=Us,_s=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.props).createForm){e.next=4;break}return e.next=4,r.GetAccessGroup({contractAddress:r.contractAddress});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Vs=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.SaveAccessGroup(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ws=ha(zs),Js=Object(i.c)(function(e,t){return{accessGroup:e.accessGroups.accessGroups[t.match.params.contractAddress]}},function(e){return Lt(e,[ga,xa])})(function(e){var t=e.match.params.contractAddress;return s.a.createElement(Ws,Dt()({},e,{contractAddress:t,createForm:!t,Load:_s,methods:{Submit:Vs}}))}),Ks=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a={};return Object.values(e.accessGroup.members).map(function(e){a[tr.next()]={name:e.name,address:e.address,manager:e.manager}}),r.state={members:a,originalMembers:e.accessGroup.members},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r.AddMember=r.AddMember.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){var t=this;return function(r){var a="checkbox"===r.target.type?r.target.checked:r.target.value;t.setState({members:m()({},t.state.members,v()({},e,m()({},t.state.members[e],v()({},r.target.name,a))))})}}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},Object.values(this.state.members).map(function(e){t[e.name]={name:e.name,address:Object(F.d)(e.address),manager:e.manager}}),e.next=4,this.props.methods.Submit({address:this.props.contractAddress,members:t,originalMembers:this.state.originalMembers});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"AddMember",value:function(){this.setState({members:m()({},this.state.members,v()({},tr.next(),{name:"",address:"",manager:!1}))})}},{key:"RemoveMember",value:function(e){var t=this;return function(){var r=t.state.members;delete r[e],t.setState({members:r})}}},{key:"Members",value:function(){var e=this;return Object.keys(this.state.members).map(function(t){var r=e.state.members[t],a=s.a.createElement(Nt.a,{className:"delete-action",onClick:e.RemoveMember(t)},"Remove Member"),n=!e.props.accessGroup.isOwner&&r.manager;return s.a.createElement("div",{key:"member-"+t,className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{disabled:n,name:"name",value:r.name,onChange:e.HandleInputChange(t)}),s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{disabled:n,name:"address",value:r.address,onChange:e.HandleInputChange(t)}),s.a.createElement("label",{htmlFor:"manager"},"Manager"),s.a.createElement("input",{disabled:!e.props.accessGroup.isOwner,name:"manager",type:"checkbox",value:r.manager,checked:r.manager,onChange:e.HandleInputChange(t)}),s.a.createElement("label",{htmlFor:"removeMember"}),a)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:"Manage Access Group Members",redirectPath:pr.a.dirname(this.props.match.url),cancelPath:pr.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"addMember"}),s.a.createElement(Nt.a,{type:"button",onClick:this.AddMember},"Add Member")),this.Members())))}}]),t}(s.a.Component);Ks.propTypes={accessGroup:Zt.a.object.isRequired,contractAddress:Zt.a.string.isRequired,createForm:Zt.a.bool.isRequired,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var Ys=Ks,Zs=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.props).createForm){e.next=4;break}return e.next=4,r.GetAccessGroup({contractAddress:r.contractAddress});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Qs=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.UpdateAccessGroupMembers(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Xs=ha(Ys),$s=Object(i.c)(function(e,t){return{accessGroup:e.accessGroups.accessGroups[t.match.params.contractAddress]}},function(e){return Lt(e,[ga,Ca])})(function(e){var t=e.match.params.contractAddress;return s.a.createElement(Xs,Dt()({},e,{contractAddress:t,createForm:!t,Load:Zs,methods:{Submit:Qs}}))}),eo=(r(395),r(114)),to=r.n(eo),ro=r(117),ao=r.n(ro),no=r(155),so=r.n(no),oo={accessGroup:"accessGroup",contentSpace:"contentSpace",contentType:"contentType",customObject:"customObject",library:"library",object:"object",unknown:"unknown"},io=function(e){var t=e.libraryId,r=e.objectId,a=e.isAccessGroup,n=e.isCustomContentObjectContract,s=e.contractAddressParam,o=t===tt.contentSpaceLibraryId,i=r&&tt.utils.EqualHash(t,r);return a?{type:oo.accessGroup,description:"Base Access Group Contract",abi:so.a.abi,contractAddress:s}:o&&i?{type:oo.contentSpace,description:"Base Content Space Contract",abi:to.a.abi,contractAddress:tt.utils.HashToAddress(t)}:i?{type:oo.library,description:"Base Content Library Contract",abi:T.a.abi,contractAddress:tt.utils.HashToAddress(t)}:o&&!n?{type:oo.contentType,description:"Base Content Type Contract",abi:ao.a.abi,contractAddress:tt.utils.HashToAddress(r)}:r?n?{type:oo.customObject,description:"Custom Content Object Contract",abi:void 0,contractAddress:void 0}:{type:oo.object,description:"Base Content Object Contract",abi:R.a.abi,contractAddress:tt.utils.HashToAddress(r)}:{type:oo.unknown,description:void 0,abi:void 0,contractAddress:s}},co=function(e){var t=e.params;return function(){var e=j()(I.a.mark(function e(r){var a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.Contracts({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:a=e.sent,n=a.contracts,s=a.count,r({type:h.contracts.list,contracts:n,count:s});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},lo=function(e){var t=e.params;return function(){var e=j()(I.a.mark(function e(r){var a,n,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t.cancelable,j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.DeployedContracts({params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 2:a=e.sent,n=a.contracts,s=a.count,r({type:h.contracts.deployed.list,contracts:n,count:s});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},uo=function(e){var t=e.name;return function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.RemoveContract({name:t});case 2:r(Mt({message:"Successfully removed contract",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},po=function(e){var t=e.address;return function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.RemoveDeployedContract({address:t});case 2:r(Mt({message:"Successfully removed contract",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},mo=function(e){var t=e.type,r=e.libraryId,a=e.objectId;return function(){var e=j()(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===oo.library?3:e.t0===oo.object?6:e.t0===oo.customObject?6:e.t0===oo.contentType?6:e.t0===oo.accessGroup?9:e.t0===oo.unknown?12:15;break;case 3:return e.next=5,n(hr({libraryId:r}));case 5:return e.abrupt("break",15);case 6:return e.next=8,n(Ir({libraryId:r,objectId:a}));case 8:return e.abrupt("break",15);case 9:return e.next=11,n(ya({params:{paginate:!1}}));case 11:return e.abrupt("break",15);case 12:return e.next=14,n(lo({params:{paginate:!1}}));case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ho=function(e){return function(){var t=j()(I.a.mark(function t(r){var a,n,s,o,i,c,l;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={},n=!0,s=!1,o=void 0,t.prev=4,i=e[Symbol.iterator]();case 6:if(n=(c=i.next()).done){t.next=14;break}return l=c.value,t.next=10,new Response(l).text();case 10:a[l.name]=t.sent;case 11:n=!0,t.next=6;break;case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(4),s=!0,o=t.t0;case 20:t.prev=20,t.prev=21,n||null==i.return||i.return();case 23:if(t.prev=23,!s){t.next=26;break}throw o;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.next=30,new Promise(function(e,t){BrowserSolc.loadVersion("soljson-v0.4.24+commit.e67f0147.js",function(n){var s=n.compile({sources:a},1);if((s.errors||[]).some(function(e){return!e.includes("Warning:")}))r({type:h.contracts.error.compile,errors:s.errors}),t("Compilation errors");else{r(Mt({message:"Compilation successful",redirect:!0}));var o={};Object.keys(s.contracts).map(function(e){var t=s.contracts[e];o[e]={bytecode:t.bytecode,interface:JSON.parse(t.interface),gasEstimates:t.gasEstimates}}),r({type:h.contracts.compile,contractData:o}),e()}})});case 30:case"end":return t.stop()}},t,null,[[4,16,20,28],[21,,23,27]])}));return function(e){return t.apply(this,arguments)}}()},fo=function(e){var t=e.name,r=e.oldContractName,a=e.description,n=e.abi,s=e.bytecode;return function(){var e=j()(I.a.mark(function e(o){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof n&&(n=Qt(n)),e.next=3,tt.AddContract({name:t.trim(),description:a,abi:n,bytecode:s});case 3:if(!r||r===t){e.next=6;break}return e.next=6,tt.RemoveContract({name:r});case 6:o(Mt({message:"Successfully saved contract",redirect:!0}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},bo=function(e){var t=e.name,r=e.address,a=e.description,n=e.abi;return function(){var e=j()(I.a.mark(function e(s){var o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(F.d)(r),n=Qt(n),e.next=4,tt.CurrentAccountAddress();case 4:return o=e.sent,e.prev=5,e.next=8,tt.GetBalance({address:r});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),Error("Unable to connect to contract at "+r);case 13:return e.next=15,tt.AddDeployedContract({name:t,description:a,address:r,abi:n,owner:o});case 15:s(Mt({message:"Successfully added watched contract",redirect:!0}));case 16:case"end":return e.stop()}},e,null,[[5,10]])}));return function(t){return e.apply(this,arguments)}}()},vo=function(e){var t=e.contractName,r=e.contractDescription,a=e.abi,n=e.bytecode,s=e.inputs,o=e.funds;return function(){var e=j()(I.a.mark(function e(i){var c,l,u;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.CurrentAccountAddress();case 3:if(c=e.sent,l=[],!(s.length>0)){e.next=9;break}return e.next=8,tt.FormatContractArguments({abi:a,methodName:"constructor",args:s});case 8:l=e.sent;case 9:return e.next=11,tt.DeployContract({abi:a,bytecode:n,constructorArgs:l});case 11:if(u=e.sent,!o){e.next=15;break}return e.next=15,tt.SendFunds({recipient:u.contractAddress,ether:o});case 15:return e.next=17,tt.AddDeployedContract({name:t,description:r,address:u.contractAddress,abi:a,bytecode:n,inputs:s,owner:c});case 17:return i(Mt({message:"Successfully deployed custom contract",redirect:!0})),e.abrupt("return",Object(F.d)(u.contractAddress));case 21:e.prev=21,e.t0=e.catch(0),console.error("Failed to deploy contract"),console.error(e.t0),i(Ht({message:"Failed to deploy contract: ".concat(e.t0.message||e.t0)}));case 26:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()},yo=function(e){var t=e.libraryId,r=e.objectId,a=e.contractName,n=e.contractDescription,s=e.address,o=e.abi,i=e.factoryAbi,c=e.bytecode,l=e.inputs,u=e.funds;return function(){var e=j()(I.a.mark(function e(p){var d,m,h,f;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t===tt.contentSpaceLibraryId,m=[],!(l.length>0)){e.next=6;break}return e.next=5,tt.FormatContractArguments({abi:o,methodName:"constructor",args:l});case 5:m=e.sent;case 6:if(s){e.next=11;break}return e.next=9,tt.DeployContract({abi:o,bytecode:c,constructorArgs:m});case 9:h=e.sent,s=h.contractAddress;case 11:if(d){e.next=16;break}return e.next=14,tt.SetCustomContentContract({libraryId:t,objectId:r,name:a,description:n,customContractAddress:s,abi:o,factoryAbi:i,overrides:{gasLimit:6e7,gasPrice:1e6}});case 14:e.next=23;break;case 16:return e.next=18,tt.EditContentObject({libraryId:t,objectId:r});case 18:return f=e.sent,e.next=21,tt.ReplaceMetadata({libraryId:t,objectId:r,writeToken:f.write_token,metadataSubtree:"custom_contract",metadata:{name:a,description:n,address:Object(F.d)(s),abi:o,factoryAbi:Qt(i)}});case 21:return e.next=23,tt.FinalizeContentObject({libraryId:t,objectId:r,writeToken:f.write_token});case 23:if(!u){e.next=26;break}return e.next=26,tt.SendFunds({recipient:s,ether:u});case 26:return p(Mt({message:"Successfully deployed custom contract",redirect:!0})),e.abrupt("return",Object(F.d)(s));case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},go=function(e){var t=e.contractAddress,r=e.abi,a=e.fromBlock,n=void 0===a?0:a,s=e.toBlock,o=e.clear,i=void 0!==o&&o;return function(){var e=j()(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i&&a({type:h.logs.clear}),e.t0=a,e.t1=h.contracts.deployed.events,e.t2=t,e.next=6,tt.ContractEvents({contractAddress:t,abi:r,fromBlock:n,toBlock:s});case 6:e.t3=e.sent,e.t4={type:e.t1,contractAddress:e.t2,blocks:e.t3},(0,e.t0)(e.t4);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},xo=function(e){var t=e.contractAddress;return function(){var e=j()(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r({type:h.contracts.deployed.clearEvents,contractAddress:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ko=function(e){var t=e.toBlock,r=e.fromBlock,a=e.count,n=void 0===a?10:a,s=e.clear,o=void 0!==s&&s;return function(){var e=j()(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o&&a({type:h.logs.clear}),e.t0=a,e.t1=h.logs.list,e.next=5,tt.GetBlockchainEvents({toBlock:t,fromBlock:r,count:n});case 5:e.t2=e.sent,e.t3={type:e.t1,blocks:e.t2},(0,e.t0)(e.t3);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},wo=function(){return function(){var e=j()(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:h.logs.clear});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Co=function(){var e=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.GetBlockNumber();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Io=function(e){var t=e.contractAddress,r=e.abi,a=e.methodName,n=e.methodArgs,s=e.value,o=void 0===s?0:s;return function(){var e=j()(I.a.mark(function e(s){var i,c,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object.values(r).find(function(e){return"function"===e.type&&e.name===a}),!(n.length>0)){e.next=5;break}return e.next=4,tt.FormatContractArguments({abi:r,methodName:a,args:n});case 4:n=e.sent;case 5:if(!i.constant){e.next=11;break}return e.next=8,tt.CallContractMethod({contractAddress:t,abi:r,methodName:a,methodArgs:n,value:o});case 8:c=e.sent,e.next=24;break;case 11:return e.next=13,tt.CallContractMethodAndWait({contractAddress:t,abi:r,methodName:a,methodArgs:n,value:o});case 13:return l=e.sent,e.next=16,tt.ContractEvents({contractAddress:t,abi:r,fromBlock:l.blockNumber,toBlock:l.blockNumber});case 16:if(0!==(c=e.sent).length){e.next=21;break}return e.next=20,tt.GetBlockchainEvents({fromBlock:l.blockNumber,toBlock:l.blockNumber});case 20:c=e.sent;case 21:if(0!==c.length){e.next=23;break}throw Error("Transaction failed");case 23:c=c[0];case 24:s({type:h.contracts.deployed.call,contractAddress:t,methodName:a,methodResults:c}),s(Mt({message:'Successfully called method "'.concat(a,'"'),redirect:!i.constant}));case 26:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Eo=function(e){var t=e.contractAddress;return function(){var e=j()(I.a.mark(function e(r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.GetBalance({address:t});case 2:return a=e.sent,r({type:h.contracts.deployed.balance,contractAddress:t,balance:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},jo=function(e){var t=e.recipient,r=e.ether;return function(){var e=j()(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.SendFunds({recipient:t,ether:r});case 2:a(Mt({message:"Successfully sent "+r+" to "+t,redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},So=function(e){var t=e.contractAddress,r=e.abi,a=e.ether;return function(){var e=j()(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.WithdrawContractFunds({contractAddress:t,abi:r,ether:a});case 2:n(Mt({message:"Successfully withdrew "+a+" from contract",redirect:!0}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ao=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={view:r.props.match.url.endsWith("/saved")?"saved":"deployed"},r.Contracts=r.Contracts.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"Contracts",value:function(e){var t=this;return e?Object.keys(e).map(function(r){var a="deployed"===t.state.view?N()("/contracts","deployed",r):N()("/contracts",r),n=e[r],s=Object.values(n.abi).filter(function(e){return"event"===e.type}).length;s=1===s?s+" event":s+" events";var o=Object.values(n.abi).filter(function(e){return"function"===e.type}).length;return o=1===o?o+" method":o+" methods",{id:r,title:n.name,description:n.description,status:"".concat(s,", ").concat(o),link:a}}):[]}},{key:"ContractsListing",value:function(){var e=this;return"saved"===this.state.view?s.a.createElement(pa,{key:"contracts-listing",pageId:"Contracts",paginate:!0,count:this.props.count.contracts,loadingStatus:this.props.methodStatus.ListContracts,LoadContent:function(t){var r=t.params;return e.props.methods.ListContracts({params:r})},RenderContent:function(){return e.Contracts(e.props.contracts)},noIcon:!0}):s.a.createElement(pa,{key:"deployed-contracts-listing",pageId:"Contracts",paginate:!0,count:this.props.count.deployedContracts,loadingStatus:this.props.methodStatus.ListDeployedContracts,LoadContent:function(t){var r=t.params;return e.props.methods.ListDeployedContracts({params:r})},RenderContent:function(){return e.Contracts(e.props.deployedContracts)},noIcon:!0})}},{key:"render",value:function(){var e=this,t=s.a.createElement(Nt.n,{options:[["Deployed","deployed"],["Saved","saved"]],selected:this.state.view,onChange:function(t){return e.setState({view:t})}});return s.a.createElement("div",{className:"page-container contents-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:"/contracts/compile"},"New Contract"),s.a.createElement(Nt.a,{type:"link",to:"/contracts/deploy"},"Deploy Contract"),s.a.createElement(Nt.a,{type:"link",to:"/contracts/watch"},"Watch Contract")),s.a.createElement(Wr,{header:"Contracts"}),t,this.ContractsListing())}}]),t}(s.a.Component);Ao.propTypes={contracts:Zt.a.object.isRequired,deployedContracts:Zt.a.object.isRequired,methods:Zt.a.shape({ListContracts:Zt.a.func.isRequired})};var No=Ao,Oo=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListContracts(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),To=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.ListDeployedContracts(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Lo=ha(No),Ro=Object(i.c)(function(e){return{contracts:e.contracts.contracts,deployedContracts:e.contracts.deployedContracts,count:e.contracts.count}},function(e){return Lt(e,[co,lo])})(function(e){return s.a.createElement(Lo,Dt()({},e,{methods:{ListContracts:Oo,ListDeployedContracts:To}}))}),Fo=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={visibleMethods:{}},r.PageContent=r.PageContent.bind(Vr()(r)),r.DeleteContract=r.DeleteContract.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"ToggleElement",value:function(e){this.setState({visibleMethods:m()({},this.state.visibleMethods,v()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function(e,t){var r=this,a=this.state.visibleMethods[t],n=(a?"Hide ":"Show ")+e;return s.a.createElement(Nt.a,{className:a?"":"secondary",onClick:function(){return r.ToggleElement(t)}},n)}},{key:"DeleteContract",value:(r=j()(I.a.mark(function e(){var t=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.e)({message:"Are you sure you want to remove this contract?",onConfirm:function(){var e=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.methods.RemoveContract({name:t.props.contractName});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"ContractInfo",value:function(e){var t=this;return e.map(function(e){if(!e.name&&"constructor"!==e.type)return null;var r=t.state.visibleMethods[e.name]?s.a.createElement("pre",null,JSON.stringify(e,null,2)):null;return s.a.createElement("div",{className:"indented",key:"contract-method-"+e.name},s.a.createElement(Aa,{label:e.name,wideLabel:!0},t.ToggleButton(e.type.capitalize()+" Info",e.name)),r)})}},{key:"PageContent",value:function(){if(this.props.methodStatus.RemoveContract.completed)return s.a.createElement(Wt.a,{push:!0,to:pr.a.dirname(this.props.match.url)});var e=s.a.createElement(Oa,{className:"object-description",text:this.props.contract.description}),t=this.state.visibleMethods.__abi?s.a.createElement("pre",null,JSON.stringify(this.props.contract.abi,null,2)):null,r=this.state.visibleMethods.__bytecode?s.a.createElement("pre",null,this.props.contract.bytecode):null,a=this.props.contract.abi||[],n=Object.values(a),o=n.filter(function(e){return"constructor"===e.type}),i=n.filter(function(e){return"event"===e.type}),c=n.filter(function(e){return"function"===e.type}),l=c.filter(function(e){return e.constant}),u=c.filter(function(e){return!e.constant});return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:"/contracts/saved",className:"secondary"},"Back"),s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"edit")},"Edit Contract"),s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"deploy")},"Deploy Contract"),s.a.createElement(Nt.a,{className:"delete-action",onClick:this.DeleteContract},"Delete Contract")),s.a.createElement(Wr,{header:this.props.contractName}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Contract Info"),s.a.createElement(Aa,{label:"Description"},e),s.a.createElement(Aa,{label:"ABI"},this.ToggleButton("Full ABI","__abi")),t,s.a.createElement(Aa,{label:"Bytecode"},this.ToggleButton("Bytecode","__bytecode")),r,s.a.createElement("h3",null,"Contract Constructor"),this.ContractInfo(o),s.a.createElement("h3",null,"Constant Methods"),this.ContractInfo(l),s.a.createElement("h3",null,"Dynamic Methods"),this.ContractInfo(u),s.a.createElement("h3",null,"Contract Events"),this.ContractInfo(i))))}},{key:"render",value:function(){return s.a.createElement(Nt.k,{fullPage:!0,loading:this.props.methodStatus.RemoveContract.loading,render:this.PageContent})}}]),t}(s.a.Component);Fo.propTypes={contract:Zt.a.object.isRequired,contractName:Zt.a.string.isRequired,methods:Zt.a.shape({RemoveContract:Zt.a.func.isRequired})};var Go=Fo,Ho=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.ListContracts({params:{paginate:!1}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Mo=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.RemoveContract(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Po=ha(Go),Bo=Object(i.c)(function(e,t){return{contract:e.contracts.contracts[t.match.params.contractName]}},function(e){return Lt(e,[co,uo])})(function(e){var t=e.match.params.contractName;return s.a.createElement(Po,Dt()({},e,{contractName:t,Load:Ho,methods:{RemoveContract:Mo}}))}),qo=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={compileFromSource:!0,files:[],name:"",description:"",abi:"",bytecode:""},r.HandleFileSelect=r.HandleFileSelect.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleFileSelect",value:function(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.compileFromSource){e.next=5;break}return e.next=3,this.props.methods.CompileContracts(this.state.files);case 3:e.next=7;break;case 5:return e.next=7,this.props.methods.Submit({name:this.state.name,description:this.state.description,abi:this.state.abi,bytecode:this.state.bytecode});case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"Errors",value:function(){return this.props.errors?s.a.createElement("pre",null,"Compilation errors: \n\n"+this.props.errors):null}},{key:"AbiForm",value:function(){var e=this;return this.state.compileFromSource?null:s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),s.a.createElement($t,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange,UpdateValue:function(t){return e.setState({abi:t})}}),s.a.createElement("label",{className:"align-top",htmlFor:"bytecode"},"Bytecode"),s.a.createElement("textarea",{name:"bytecode",required:!0,value:this.state.bytecode,onChange:this.HandleInputChange}))}},{key:"FileSelection",value:function(){return this.state.compileFromSource?s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"contractFiles",className:"align-top"},"Contract Files"),s.a.createElement(Nt.d,{name:"contractFiles",onChange:this.HandleFileSelect,required:!0,multiple:!0,accept:".sol"})):null}},{key:"render",value:function(){var e=this.state.compileFromSource?this.props.methodStatus.CompileContracts:this.props.methodStatus.Submit,t=pr.a.dirname(this.props.match.url),r=this.state.compileFromSource?N()(t,"save"):N()(t,"saved");return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:"Compile contracts",redirectPath:r,cancelPath:t,status:e,OnSubmit:this.HandleSubmit},s.a.createElement("div",null,s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"source"},"Source"),s.a.createElement(Nt.m,{name:"compileFromSource",options:[["Solidity",!0],["ABI and Bytecode",!1]],inline:!0,selected:this.state.compileFromSource,onChange:this.HandleInputChange})),this.FileSelection(),this.AbiForm(),this.Errors())))}}]),t}(s.a.Component);qo.propTypes={errors:Zt.a.array,methods:Zt.a.shape({CompileContracts:Zt.a.func.isRequired,Submit:Zt.a.func.isRequired})};var Do=qo,Uo=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.CompileContracts(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),zo=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.SaveContract(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_o=ha(Do),Vo=Object(i.c)(function(e){return{contractData:e.contracts.contractData,errors:e.contracts.errors}},function(e){return Lt(e,[fo,ho])})(function(e){return s.a.createElement(_o,Dt()({},e,{methods:{Submit:zo,CompileContracts:Uo}}))}),Wo=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=e.contract||r.props.contractData&&Object.keys(r.props.contractData)[0]||{};return r.state={contract:a,contractName:r.props.contractName,name:a.name||"",description:a.description||"",abi:a.abi||"",bytecode:a.bytecode||""},r.SwitchContract=r.SwitchContract.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"componentDidMount",value:function(){if(this.props.createForm&&this.props.contractData){var e=Object.keys(this.props.contractData)[0];this.SwitchContract(e)}}},{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"SwitchContract",value:function(e){if(this.props.contractData){var t=e.split(":").slice(-1)[0],r=this.props.contractData[e];this.setState({name:t,selectedContract:e,abi:r.interface,bytecode:r.bytecode,contract:r})}}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({name:this.state.name,oldContractName:this.state.contractName||this.state.name,description:this.state.description,abi:this.state.contract.interface||this.state.contract.abi,bytecode:this.state.contract.bytecode});case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"AvailableContracts",value:function(){var e=this,t=Object.keys(this.props.contractData).map(function(e){return s.a.createElement("option",{key:e,value:e},e)});return s.a.createElement("select",{key:"contract-options",name:"selectedContract",onChange:function(t){return e.SwitchContract(t.target.value)}},t)}},{key:"ContractSelection",value:function(){return this.props.createForm?[s.a.createElement("label",{key:"selected-contract-label",htmlFor:"selectedContract"},"Contract"),this.AvailableContracts()]:null}},{key:"render",value:function(){var e=pr.a.dirname(this.props.match.url);return this.props.createForm&&!this.props.contractData?(this.props.SetErrorMessage({message:"No contract data",redirect:!0}),s.a.createElement(Wt.a,{to:e})):s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:e,className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:this.props.contract?"Edit Contract":"Save contract",redirectPath:e,cancelPath:e,status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),this.ContractSelection(),s.a.createElement("label",{htmlFor:"description",className:"align-top"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}}]),t}(s.a.Component);Wo.propTypes={contract:Zt.a.object,contracts:Zt.a.object.isRequired,contractData:Zt.a.object,createForm:Zt.a.bool.isRequired,contractName:Zt.a.string,methods:Zt.a.shape({Submit:Zt.a.func.isRequired})};var Jo=Wo,Ko=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.ListContracts({params:{paginate:!1}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Yo=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.SaveContract(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Zo=ha(Jo),Qo=Object(i.c)(function(e,t){return{contract:t.match.params.contractName?e.contracts.contracts[t.match.params.contractName]:void 0,contracts:e.contracts.contracts,contractData:e.contracts.contractData}},function(e){return Lt(e,[co,fo,Ht])})(function(e){var t=!e.location.pathname.endsWith("edit"),r=e.match.params.contractName;return s.a.createElement(Zo,Dt()({},e,{createForm:t,contractName:r,Load:Ko,methods:{Submit:Yo}}))}),Xo=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={name:"",description:"",abi:"",address:""},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.methods.Submit({name:this.state.name,description:this.state.description,address:this.state.address,abi:this.state.abi});case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=N()(pr.a.dirname(this.props.match.url),"deployed",this.state.address);return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:"Watch Deployed Contract",redirectPath:t,cancelPath:pr.a.dirname(this.props.match.url),status:this.props.methodStatus.Submit,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{name:"address",value:this.state.address,required:!0,placeholder:"0x0000000000000000000000000000000000000000",onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),s.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),s.a.createElement($t,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange,UpdateValue:function(t){return e.setState({abi:t})}}))))}}]),t}(s.a.Component),$o=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.WatchContract(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ei=ha(Xo),ti=Object(i.c)(function(){return{}},function(e){return Lt(e,[bo])})(function(e){var t=!e.location.pathname.endsWith("edit"),r=e.match.params.contractName;return s.a.createElement(ei,Dt()({},e,{createForm:t,contractName:r,methods:{Submit:$o}}))}),ri=function(e){function t(e){var r;ot()(this,t);var a=(r=ut()(this,dt()(t).call(this,e))).props.match.params.contractName,n=tt.contentSpaceLibraryId===e.libraryId,s=!!a,o=pr.a.dirname(r.props.match.url);return s&&(o=pr.a.dirname(o)),r.state={name:"",description:"",funds:0,redirectPath:o,isContentObjectContract:!!r.props.objectId,isContentTypeContract:n,selectedContract:a,fixedContract:s,contractSource:"saved",contracts:{},currentContractFunds:0},r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleContractChange=r.HandleContractChange.bind(Vr()(r)),r.HandleContractSourceChange=r.HandleContractSourceChange.bind(Vr()(r)),r.HandleConstructorInputChange=r.HandleConstructorInputChange.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"Contracts",value:function(){return"saved"===this.state.contractSource?this.props.contracts:this.props.deployedContracts}},{key:"componentDidMount",value:function(){var e=this,t=this.state.selectedContract,r="saved";t||(Object.keys(this.props.contracts).length>0?t=Object.keys(this.props.contracts)[0]:Object.keys(this.props.deployedContracts).length>0&&(t=Object.keys(this.props.deployedContracts)[0],r="deployed")),this.setState({selectedContract:t,contractSource:r},function(){return e.HandleContractChange()})}},{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleContractSourceChange",value:function(e){var t=this;this.setState({contractSource:e.target.value,selectedContract:void 0},function(){return t.HandleContractChange()})}},{key:"HandleContractChange",value:function(e){var t=this.Contracts(),r=e&&e.target.value||this.state.selectedContract||Object.keys(t)[0],a=t[r];if(r&&a){var n=a.abi.find(function(e){return"constructor"===e.type}),s={};n&&n.inputs&&n.inputs.map(function(e){s[e.name]=""}),this.setState({selectedContract:r,constructorInputs:s,constructor:n,factoryAbi:"",funds:0}),"deployed"===this.state.contractSource&&this.props.GetContractBalance({contractAddress:a.address})}else this.setState({selectedContract:r})}},{key:"HandleConstructorInputChange",value:function(e){this.setState({constructorInputs:m()({},this.state.constructorInputs,v()({},e.target.name,e.target.value))})}},{key:"ConstructorInput",value:function(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map(function(t){return e.state.constructorInputs[t.name]}):[]}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.Contracts()[this.state.selectedContract],!this.state.isContentObjectContract){e.next=7;break}return e.next=4,this.props.methods.SetCustomContentContract({libraryId:this.props.libraryId,objectId:this.props.objectId,contractName:this.state.selectedContract,contractDescription:t.description,address:t.address,abi:t.abi,factoryAbi:this.state.factoryAbi,bytecode:t.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds});case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,this.props.methods.DeployContract({contractName:this.state.name,contractDescription:this.state.description,abi:t.abi,bytecode:t.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds});case 9:r=e.sent;case 10:this.setState({contractAddress:r});case 11:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"ConstructorForm",value:function(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map(function(t){return[s.a.createElement("label",{key:"contract-constructor-param-label-"+t.name,htmlFor:t.name},t.name),s.a.createElement("input",{key:"contract-constructor-param-"+t.name,placeholder:t.type,name:t.name,required:!0,value:e.state.constructorInputs[t.name],onChange:e.HandleConstructorInputChange})]}):null}},{key:"ContractSelection",value:function(){var e=this;if(this.state.fixedContract)return[s.a.createElement("label",{key:"contract-selection-label"},"Contract"),s.a.createElement("div",{key:"contract-selection",className:"form-text"},this.state.selectedContract)];var t=Object.keys(this.Contracts()).map(function(t){return s.a.createElement("option",{key:t,value:t},e.Contracts()[t].name)});return[s.a.createElement("label",{key:"contract-selection-label",htmlFor:"selectedContract"},"Contract"),s.a.createElement("select",{key:"contract-selection",name:"selectedContract",onChange:this.HandleContractChange,value:this.state.selectedContract,disabled:this.state.fixedContract},t)]}},{key:"ContractSourceSelection",value:function(){return this.state.fixedContract||!this.state.isContentObjectContract?null:[s.a.createElement("label",{key:"contract-source-label",htmlFor:"contractSource"},"Contract Source"),s.a.createElement(Nt.m,{key:"contract-source",name:"contractSource",options:[["Saved","saved"],["Deployed","deployed"]],inline:!0,selected:this.state.contractSource,onChange:this.HandleContractSourceChange})]}},{key:"ContractInfoFields",value:function(){return this.state.isContentObjectContract?null:[s.a.createElement("label",{key:"contract-name-label",htmlFor:"name"},"Name"),s.a.createElement("input",{key:"contract-name",name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),s.a.createElement("label",{key:"contract-description-label",className:"align-top",htmlFor:"description"},"Description"),s.a.createElement("textarea",{key:"contract-description",name:"description",value:this.state.description,onChange:this.HandleInputChange})]}},{key:"ContractFunds",value:function(e){var t=[],r="Funds";return"deployed"===this.state.contractSource&&(r="Additional Funds",t=[s.a.createElement("label",{key:"contract-balance-label"},"Current Balance"),s.a.createElement("div",{key:"contract-balance",className:"form-text"},e)]),[].concat(Kr()(t),[s.a.createElement("label",{key:"contract-funds-label",htmlFor:"funds"},r),s.a.createElement("input",{key:"contract-funds",name:"funds",value:this.state.funds,type:"number",step:"0.00000001",onChange:this.HandleInputChange})])}},{key:"FactoryAbi",value:function(){var e=this;if(this.state.isContentTypeContract)return[s.a.createElement("label",{key:"contract-factory-abi-info-label"},"Factory ABI"),s.a.createElement("div",{key:"contract-factory-abi-info",className:"form-text"},"If this contract is a factory, specify the ABI of the contract that will be applied to the content objects of this type"),s.a.createElement("label",{key:"contract-factory-abi-label",className:"align-top",htmlFor:"factoryAbi"}),s.a.createElement($t,{key:"contract-factory-abi",name:"factoryAbi",value:this.state.factoryAbi,onChange:this.HandleInputChange,UpdateValue:function(t){return e.setState({factoryAbi:t})}})]}},{key:"ContractForm",value:function(){if(0===Object.keys(this.Contracts()).length)return s.a.createElement("div",null,s.a.createElement("div",{className:"form-content"},this.ContractSourceSelection()),s.a.createElement("label",null),s.a.createElement("div",{className:"form-text"},"No ".concat(this.state.contractSource," contracts available")));var e,t=this.Contracts()[this.state.selectedContract]||{};return t.description&&(e=[s.a.createElement("label",{key:"contract-description-label",htmlFor:"selectedContractDescription"}),s.a.createElement("div",{key:"contract-description",className:"form-text"},t.description)]),s.a.createElement("div",null,s.a.createElement("div",{className:"form-content"},this.ContractSourceSelection(),this.ContractSelection(),this.FactoryAbi(),this.ContractInfoFields(),e,this.ConstructorForm(),this.ContractFunds(t.balance)))}},{key:"render",value:function(){var e=this.state.isContentObjectContract?"Set Custom Contract":"Deploy Custom Contract",t=this.state.isContentObjectContract?m()({},this.props.methodStatus.SetCustomContentContract):m()({},this.props.methodStatus.DeployContract);t.completed=t.completed&&!!this.state.contractAddress;var r=pr.a.dirname(this.props.match.url),a=this.state.isContentObjectContract?r:N()("/contracts","deployed",this.state.contractAddress||"");return s.a.createElement("div",null,s.a.createElement("div",{className:"actions-container manage-actions"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Nt.h,{legend:e,redirectPath:a,cancelPath:r,status:t,OnSubmit:this.HandleSubmit},this.ContractForm()))}}]),t}(s.a.Component);ri.propTypes={libraryId:Zt.a.string,objectId:Zt.a.string,contractName:Zt.a.string,contracts:Zt.a.object.isRequired,deployedContracts:Zt.a.object.isRequired,GetContractBalance:Zt.a.func.isRequired,methods:Zt.a.shape({DeployContract:Zt.a.func.isRequired,SetCustomContentContract:Zt.a.func.isRequired})};var ai=ri,ni=function(){var e=j()(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,e.next=3,r.ListContracts({params:{paginate:!1}});case 3:return e.next=5,r.ListDeployedContracts({params:{paginate:!1}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),si=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.SetCustomContentContract(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),oi=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.DeployContract(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ii=ha(ai),ci=Object(i.c)(function(e){return{contracts:e.contracts.contracts,deployedContracts:e.contracts.deployedContracts}},function(e){return Lt(e,[co,lo,vo,yo,Eo])})(function(e){var t=e.libraryId||e.match.params.libraryId,r=e.match.params.objectId,a=e.match.params.contractName;return s.a.createElement(ii,Dt()({},e,{libraryId:t,objectId:r,contractName:a,Load:ni,methods:{DeployContract:oi,SetCustomContentContract:si}}))}),li=r(109),ui=r.n(li),pi=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"Key",value:function(e){return"log-".concat(e.transactionHash,"-").concat(e.logIndex)}},{key:"Inputs",value:function(e){var t=Object.entries(e.values).filter(function(e){var t=Zr()(e,1)[0];return"length"!==t&&parseInt(t).toString()!==t}).map(function(e){var t=Zr()(e,2),r=t[0],a=t[1];return"object"===ui()(a)&&a._hex?[r,"".concat(parseInt(a._hex,16)," (").concat(a._hex,")")]:66===a.length?[r,Object(F.e)(a),a]:[r,a]});if(0===t.length)return null;var r=t.map(function(e){var t=Zr()(e,2),r=t[0],a=t[1];return s.a.createElement("div",{className:"labelled-field",key:"input-"+r},s.a.createElement("label",null,r),s.a.createElement("div",{className:"value",title:a.toString()},a))});return s.a.createElement("div",{className:"transaction-input"},s.a.createElement("div",{className:"section-label"},"Method Inputs"),r)}},{key:"Id",value:function(e,t){var r;if(e.startsWith("BaseContentSpace"))r=tt.utils.AddressToSpaceId(t);else if(e.startsWith("BaseLibrary"))r=tt.utils.AddressToLibraryId(t);else{if(!e.startsWith("BaseContent"))return;r=tt.utils.AddressToObjectId(t)}return s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"ID"),s.a.createElement("div",{className:"value"},r))}},{key:"Value",value:function(e){return"0"===(e=e?tt.utils.WeiToEther(parseInt(e._hex,16)):"0").toString()?null:s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"Value"),s.a.createElement("div",{className:"value"},s.a.createElement(Nt.c,{balance:e.toString()})))}},{key:"ParsedLog",value:function(e){var t=e.contract?"".concat(e.contract," :: ").concat(e.name):e.name;return s.a.createElement("div",{className:"log",key:this.Key(e)},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"title bold"},t),s.a.createElement("div",{className:"info"},e.logIndex)),s.a.createElement("div",{className:"inputs indented"},s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"Transaction Hash"),s.a.createElement("div",{className:"value"},tt.utils.AddressToHash(e.transactionHash))),this.Id(t,e.address),s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"Contract Address"),s.a.createElement("div",{className:"value"},e.address)),s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"From"),s.a.createElement("div",{className:"value"},e.from)),this.Value(e.value),this.Inputs(e)))}},{key:"RawLog",value:function(e){return s.a.createElement("div",{className:"log",key:this.Key(e)},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"title"}),s.a.createElement("div",{className:"info"},e.logIndex)),s.a.createElement("div",{className:"indented"},s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"Transaction Hash"),s.a.createElement("div",{className:"value"},e.hash)),s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,"From"),s.a.createElement("div",{className:"value"},Object(F.d)(e.from))),s.a.createElement("div",{className:"labelled-field"},s.a.createElement("label",null,!e.to&&e.contractAddress?"Contract Address":"To"),s.a.createElement("div",{className:"value"},Object(F.d)(e.to)||"".concat(Object(F.d)(e.contractAddress)))),this.Value(e.value)))}},{key:"RenderEvent",value:function(e){var t=this;Array.isArray(e)||(e=[e]);var r=e&&e[0]?e[0].blockNumber:"unknown";return s.a.createElement("div",{className:"event",key:"event-"+r},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"title"},"Block "+r),s.a.createElement("div",{className:"info"},r)),s.a.createElement("div",{className:"logs"},e.map(function(e){return e.name?t.ParsedLog(e):t.RawLog(e)})))}},{key:"render",value:function(){var e=this,t=this.props.events;if(this.props.filter){var r=this.props.filter.toLowerCase();t=t.filter(function(e){return e.find(function(e){return(e.contract||"").toLowerCase().includes(r)||(e.name||"").toLowerCase().includes(r)||(e.address||"").toLowerCase().includes(r)||(e.to||"").toLowerCase().includes(r)||(e.from||"").toLowerCase().includes(r)||(e.contractAddress||"").toLowerCase().includes(r)})})}return 0===t.length?s.a.createElement("h4",null,"No events found"):s.a.createElement("div",{className:"events-container"},t.map(function(t){return e.RenderEvent(t)}),s.a.createElement("div",{ref:function(t){t&&e.props.scrollToBottom&&t.scrollIntoView()}}))}}]),t}(s.a.PureComponent);pi.propTypes={events:Zt.a.arrayOf(Zt.a.arrayOf(Zt.a.object)).isRequired,filter:Zt.a.string,scrollToBottom:Zt.a.bool};var di=pi,mi=function(e){function t(e){var r;ot()(this,t),r=ut()(this,dt()(t).call(this,e));var a=Array.isArray(e.contract.abi)?e.contract.abi.filter(function(e){return"function"===e.type}):[];return r.state={contractMethods:a},r.SetMethodInterface=r.SetMethodInterface.bind(Vr()(r)),r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r.HandleMethodChange=r.HandleMethodChange.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleComplete=r.HandleComplete.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"SetMethodInterface",value:function(e){var t=this.state.contractMethods.find(function(t){return t.name===e});if(t){var r={__funds:0};t.inputs=t.inputs.map(function(e,t){return e.name||(e.name="Argument "+t),r[e.name]="",e}),this.setState({methodInterface:t,inputs:r})}}},{key:"HandleMethodChange",value:function(e){this.setState({method:e.target.value,methodResults:void 0,transactionResults:void 0}),this.SetMethodInterface(e.target.value)}},{key:"HandleInputChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState({inputs:m()({},this.state.inputs,v()({},e.target.name,t))})}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){var t,r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.method){e.next=2;break}return e.abrupt("return");case 2:return t=m()({},this.state.inputs),r=t.__funds||0,delete t.__funds,a=Object.values(t),e.next=8,this.props.methods.CallContractMethod({contractAddress:this.props.contract.address,abi:this.props.contract.abi,methodName:this.state.method,methodArgs:a,value:r});case 8:return e.next=10,this.props.methods.GetContractBalance({contractAddress:this.props.contract.address});case 10:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"HandleComplete",value:function(){var e=this.props.deployedContract;if(e&&e.methodResults&&void 0!==e.methodResults[this.state.method])if(this.state.methodInterface.constant){var t=this.state.methodInterface.outputs,r=e.methodResults[this.state.method];Array.isArray(r)||(r=[r]);var a=r.map(function(e,r){return e=e._hex?"".concat(parseInt(e._hex,16)," (").concat(e._hex,")"):"bytes32"===t[r].type?Object(F.b)(e):e.toString(),[t[r].name||"Output ".concat(r),e]});this.setState({methodResults:a})}else{var n=e.methodResults[this.state.method];Array.isArray(n)||(n=[n]),this.setState({transactionResults:n})}}},{key:"ContractMethodSelection",value:function(){var e=this.state.contractMethods.filter(function(e){return e.constant}).sort(function(e,t){return e.name>t.name}),t=this.state.contractMethods.filter(function(e){return!e.constant}).sort(function(e,t){return e.name>t.name}),r=e.map(function(e){return s.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)}),a=t.map(function(e){return s.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)});r.unshift(s.a.createElement("option",{disabled:!0,key:"method-option-constant-label"},"CONSTANTS")),a.unshift(s.a.createElement("option",{disabled:!0,key:"method-option-transaction-label"},"TRANSACTIONS"));var n=[s.a.createElement("option",{key:"method-option-select-prompt",value:""},"[Select a Method]")].concat(r.concat(a));return s.a.createElement("select",{name:"method",value:this.state.method,onChange:this.HandleMethodChange},n)}},{key:"ContractMethodForm",value:function(){var e,t,r,a=this;return this.state.methodInterface&&(e=this.state.methodInterface.inputs.map(function(e){var t=e.type,r="bool"===t?"checkbox":"text";return[s.a.createElement("label",{key:"contract-method-input-label-"+e.name,htmlFor:e.name},e.name),s.a.createElement("input",{key:"contract-method-input-"+e.name,name:e.name,value:a.state.inputs[e.name],type:r,placeholder:t,maxLength:256,onChange:a.HandleInputChange})]}),r=[s.a.createElement("label",{key:"contract-method-type-label"},"Type"),s.a.createElement("div",{key:"contract-method-type",className:"form-text"},this.state.methodInterface.constant?"Constant":"Transaction")],this.state.methodInterface.payable&&(t=[s.a.createElement("label",{key:"contract-method-funds-label",htmlFor:"__funds"},"Funds"),s.a.createElement("input",{key:"contract-method-funds",type:"number",step:1e-10,name:"__funds",value:this.state.inputs.__funds,onChange:this.HandleInputChange})])),s.a.createElement("div",{className:"form-content"},s.a.createElement("label",null,"Method"),s.a.createElement("div",{className:"form-text"},this.ContractMethodSelection()),r,t,e)}},{key:"MethodResults",value:function(){if(this.state.methodResults){var e=this.state.methodResults.map(function(e){return s.a.createElement(Aa,{key:"result-"+e[0],label:e[0],value:e[1]})});return s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Result: "),e)}if(this.state.transactionResults)return s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Result: "),s.a.createElement(di,{events:[this.state.transactionResults]}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"contract-method-form"},s.a.createElement(Nt.h,{legend:"Call Contract Method",status:this.props.methodStatus.CallContractMethod,OnSubmit:this.HandleSubmit,OnComplete:this.HandleComplete},this.ContractMethodForm()),this.MethodResults())}}]),t}(s.a.Component);mi.propTypes={contract:Zt.a.object.isRequired,deployedContract:Zt.a.object.isRequired,methods:Zt.a.shape({CallContractMethod:Zt.a.func.isRequired,GetContractBalance:Zt.a.func.isRequired})};var hi=mi,fi=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={visibleMethods:{},method:""},r.PageContent=r.PageContent.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r}return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"DeleteButton",value:function(){var e=this;return this.props.contract.type!==oo.unknown?null:s.a.createElement(Nt.a,{className:"delete-action",onClick:j()(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Nt.e)({message:"Are you sure you want to stop watching this contract?",onConfirm:function(){var t=j()(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.methods.RemoveDeployedContract({address:e.props.contract.address});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()});case 2:case"end":return t.stop()}},t)}))},"Remove Contract")}},{key:"ToggleElement",value:function(e){this.setState({visibleMethods:m()({},this.state.visibleMethods,v()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function(e,t){var r=this,a=this.state.visibleMethods[t],n=(a?"Hide ":"Show ")+e;return s.a.createElement(Nt.a,{key:"toggle-"+e,className:a?"":"secondary",onClick:function(){return r.ToggleElement(t)}},n)}},{key:"AbiInfo",value:function(){if(!this.props.contract.abi)return null;var e=this.state.visibleMethods.__abi?s.a.createElement("pre",{key:"abi-content"},JSON.stringify(this.props.contract.abi,null,2)):null;return[s.a.createElement(Aa,{key:"abi-label",label:"ABI"},this.ToggleButton("ABI","__abi")),e]}},{key:"PageContent",value:function(){var e=pr.a.dirname(this.props.match.url);[oo.contentSpace,oo.library,oo.unknown].includes(this.props.contract.type)?e=pr.a.dirname(e):this.props.contract.type!==oo.accessGroup||this.props.accessGroup||(e=pr.a.dirname(e));var t="φ".concat(Math.round(1e3*(this.props.deployedContract.balance||0))/1e3);return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:e,className:"secondary"},"Back"),s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"funds")},"Transfer Funds"),s.a.createElement(Nt.a,{type:"link",to:N()(this.props.match.url,"logs")},"Contract Logs"),this.DeleteButton()),s.a.createElement(Wr,{header:this.props.contract.name,subHeader:this.props.contract.description}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement("h3",null,"Contract Info"),s.a.createElement(Aa,{label:"Name"},this.props.contract.name),s.a.createElement(Aa,{label:"Description"},this.props.contract.description),s.a.createElement(Aa,{label:"Contract Address",copyValue:this.props.contract.address},this.props.contract.address),s.a.createElement(Aa,{label:"Balance"},t),this.AbiInfo(),s.a.createElement("h3",null,"Contract Methods"),s.a.createElement(hi,this.props))))}},{key:"render",value:function(){return this.props.methodStatus.RemoveDeployedContract.completed?s.a.createElement(Wt.a,{push:!0,to:pr.a.dirname(pr.a.dirname(this.props.match.url))}):s.a.createElement(Nt.k,{fullPage:!0,loading:this.props.methodStatus.RemoveDeployedContract.loading,render:this.PageContent})}}]),t}(s.a.Component);fi.propTypes={contract:Zt.a.object.isRequired,deployedContract:Zt.a.object.isRequired,libraryId:Zt.a.string,library:Zt.a.object,objectId:Zt.a.string,object:Zt.a.object,accessGroup:Zt.a.object,methods:Zt.a.shape({RemoveDeployedContract:Zt.a.func})};var bi=fi,vi=function(e,t,r){var a=function(t){function r(e){var t;ot()(this,r),t=ut()(this,dt()(r).call(this,e));var a=e.libraryId||e.match.params.libraryId,n=e.match.params.objectId,s=e.match.params.contractName,o=e.location.pathname.startsWith("/access-groups"),i=e.location.pathname.includes("custom-contract"),c=e.match.params.contractAddress,l=io({libraryId:a,objectId:n,isAccessGroup:o,isCustomContentObjectContract:i,contractAddressParam:c}),u=l.type,p=l.description,d=l.abi,m=l.contractAddress;return t.state={libraryId:a,objectId:n,contractName:s,contract:{type:u,name:s||p,description:p,address:m,abi:d},loaded:!1},t}var a,n;return ht()(r,t),ct()(r,[{key:"componentDidMount",value:(n=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.RetrieveContractInfo({type:this.state.contract.type,libraryId:this.state.libraryId,objectId:this.state.objectId});case 3:if(!this.state.contract.address||!this.state.contract.abi){e.next=7;break}return e.next=6,this.props.GetContractBalance({contractAddress:this.state.contract.address});case 6:this.setState({loaded:!0});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to load contract info:"),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,9]])})),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:(a=j()(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.loaded){e.next=8;break}return(t=this.state.contract).type===oo.customObject?t=m()({},t,this.props.object.meta.custom_contract||this.props.object.typeInfo.meta.custom_contract):t.type===oo.unknown&&(t=m()({},t,this.props.deployedContracts[t.address])),t.description=this.state.contract.description,e.next=7,this.props.GetContractBalance({contractAddress:t.address});case 7:this.setState({contract:t,loaded:!0});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to load contract info:"),console.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,10]])})),function(){return a.apply(this,arguments)})},{key:"render",value:function(){return s.a.createElement(Nt.k,{fullPage:!0,loading:!this.state.loaded},s.a.createElement(e,Dt()({},this.props,{libraryId:this.state.libraryId,objectId:this.state.objectId,contract:this.state.contract,deployedContract:this.props.deployedContracts[this.state.contract.address]})))}}]),r}(s.a.Component);return Object(i.c)(function(e,r){return m()({},t(e,r),{library:e.content.libraries[r.libraryId||r.match.params.libraryId],object:e.content.objects[r.match.params.objectId],accessGroup:e.accessGroups.accessGroups[r.match.params.contractAddress],deployedContracts:e.contracts.deployedContracts})},function(e){return m()({},Lt(e,[mo,Eo]),r(e))})(a)},yi=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.RemoveDeployedContract(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gi=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.CallContractMethod(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),xi=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.GetContractBalance(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ki=ha(bi),wi=vi(function(e){return s.a.createElement(ki,Dt()({},e,{methods:{CallContractMethod:gi,GetContractBalance:xi,RemoveDeployedContract:yi}}))},function(){return{}},function(e){return Lt(e,[po,Io,Eo])}),Ci=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={amount:0,direction:"deposit"},r.HandleSubmit=r.HandleSubmit.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r}var r;return ht()(t,e),ct()(t,[{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("deposit"!==this.state.direction){e.next=5;break}return e.next=3,this.props.methods.SendFunds({recipient:this.props.contract.address,ether:this.state.amount});case 3:e.next=7;break;case 5:return e.next=7,this.props.methods.WithdrawContractFunds({contractAddress:this.props.contract.address,abi:this.props.contract.abi,ether:this.state.amount});case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e="deposit"===this.state.direction?this.props.methodStatus.SendFunds:this.props.methodStatus.WithdrawContractFunds;return s.a.createElement("div",{className:"page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",className:"secondary",to:pr.a.dirname(this.props.match.url)},"Back")),s.a.createElement(Wr,{header:this.props.contract.name,subHeader:this.props.contract.description}),s.a.createElement(Nt.h,{legend:"Transfer Contract Funds",redirectPath:pr.a.dirname(this.props.match.url),cancelPath:pr.a.dirname(this.props.match.url),status:e,OnSubmit:this.HandleSubmit},s.a.createElement("div",{className:"form-content"},s.a.createElement("label",null,"Current Balance"),s.a.createElement("span",null,this.props.deployedContract.balance),s.a.createElement("label",{htmlFor:"direction"},"Direction"),s.a.createElement(Nt.m,{name:"direction",inline:!0,options:[["Deposit","deposit"],["Withdraw","withdraw"]],selected:this.state.direction,onChange:this.HandleInputChange}),s.a.createElement("label",{htmlFor:"amount"},"Amount"),s.a.createElement("input",{name:"amount",type:"number",step:1e-10,value:this.state.amount,onChange:this.HandleInputChange}))))}}]),t}(s.a.Component);Ci.propTypes={contract:Zt.a.object.isRequired,deployedContracts:Zt.a.object.isRequired,methods:Zt.a.shape({SendFunds:Zt.a.func.isRequired,WithdrawContractFunds:Zt.a.func.isRequired})};var Ii=Ci,Ei=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.SendFunds(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ji=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.WithdrawContractFunds(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Si=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.GetContractBalance(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ai=ha(Ii),Ni=vi(function(e){return s.a.createElement(Ai,Dt()({},e,{methods:{SendFunds:Ei,WithdrawContractFunds:ji,GetContractBalance:Si}}))},function(){return{}},function(e){return Lt(e,[jo,So,Eo])}),Oi=r(179),Ti=r.n(Oi),Li=r(180),Ri=r.n(Li),Fi=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={filterInput:"",filter:"",filtering:!1,fromBlock:0,toBlock:0,scrollToBottom:!1,watchEvents:!1,watcher:void 0},r.Reset=r.Reset.bind(Vr()(r)),r.HandleInputChange=r.HandleInputChange.bind(Vr()(r)),r.HandleFilterChange=r.HandleFilterChange.bind(Vr()(r)),r.LoadMoreEvents=r.LoadMoreEvents.bind(Vr()(r)),r.ToggleWatch=r.ToggleWatch.bind(Vr()(r)),r}var r,a;return ht()(t,e),ct()(t,[{key:"componentDidMount",value:function(){this.Request()}},{key:"componentWillUnmount",value:function(){this.CancelWatch(),this.props.ClearMethod({contractAddress:this.props.contractAddress})}},{key:"Loading",value:function(){return this.props.loading&&!this.state.watchEvents||this.state.filtering}},{key:"HandleInputChange",value:function(e){this.setState(v()({},e.target.name,parseInt(e.target.value)))}},{key:"HandleFilterChange",value:function(e){var t=this,r=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({filterInput:r,filtering:!0,filterTimeout:setTimeout(function(){t.CancelWatch(),t.setState({filter:r,filtering:!1})},500),scrollToBottom:!1})}},{key:"Watch",value:function(){var e=this;this.setState({watchEvents:!0,watcher:setTimeout(j()(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({scrollToBottom:!1},j()(I.a.mark(function t(){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Request({fromBlock:e.state.toBlock,updateFrom:!1,cancelWatch:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))),e.Watch();case 2:case"end":return t.stop()}},t)})),3e3)})}},{key:"CancelWatch",value:function(){clearTimeout(this.state.watcher),this.setState({watchEvents:!1})}},{key:"ToggleWatch",value:function(){this.state.watchEvents?this.CancelWatch():this.Watch()}},{key:"Reset",value:function(){var e=this;this.setState({filter:"",filterInput:""},function(){return e.Request({clear:!0})})}},{key:"Request",value:(a=j()(I.a.mark(function e(){var t,r,a,n,s,o,i,c,l,u,p,d,m=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},r=t.fromBlock,a=t.toBlock,n=t.updateFrom,s=void 0===n||n,o=t.updateTo,i=void 0===o||o,c=t.cancelWatch,l=void 0===c||c,u=t.clear,p=void 0!==u&&u,l&&this.CancelWatch(),e.next=4,this.props.GetBlockNumber();case 4:d=e.sent,(!a||a>d)&&(a=d),(void 0===r||r<0)&&(r=this.props.contractAddress?0:Math.max(1,a-10)),a<r&&(r=a),this.props.RequestMethod({contractAddress:this.props.contractAddress,abi:this.props.abi,fromBlock:r,toBlock:a,clear:p}),this.setState({fromBlock:s?r:this.state.fromBlock,toBlock:i?a:this.state.toBlock});case 10:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"LoadMoreEvents",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.Request({fromBlock:this.state.fromBlock-10,toBlock:this.state.toBlock}),this.setState({scrollToBottom:!0});case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"LoadMoreEventsButton",value:function(){return this.state.fromBlock<=1?null:s.a.createElement(Nt.k,{loading:this.Loading(),noIndicator:!0},s.a.createElement(Nt.a,{onClick:this.LoadMoreEvents},"Load More Events"))}},{key:"FilterControls",value:function(){var e=this,t=this.state.watchEvents?Ri.a:Ti.a,r=this.state.watchEvents?"Stop Watching Events":"Watch Events",a=this.state.watchEvents?"watch-icon watching":"watch-icon",n=function(){return e.Request({toBlock:e.state.toBlock,fromBlock:e.state.fromBlock,clear:!0})};return s.a.createElement("div",{className:"event-controls"},s.a.createElement("div",{className:"control-group filter-group"},s.a.createElement("input",{name:"filterInput",className:"event-filter",value:this.state.filterInput,onChange:this.HandleFilterChange,placeholder:"Filter"})),s.a.createElement("div",{className:"control-group"},s.a.createElement("label",{htmlFor:"fromBlock"},"From"),s.a.createElement("input",{type:"number",name:"fromBlock",value:this.state.fromBlock,onChange:this.HandleInputChange,onKeyPress:Object(Nt.o)(n)}),s.a.createElement("label",{htmlFor:"toBlock"},"To"),s.a.createElement("input",{type:"number",name:"toBlock",value:this.state.toBlock,onChange:this.HandleInputChange,onKeyPress:Object(Nt.o)(n)})),s.a.createElement("div",{className:"control-group action-group"},s.a.createElement(Nt.k,{loading:this.Loading(),loadingIcon:"rotate",loadingClassname:"filter-loading"},s.a.createElement(Nt.a,{onClick:n},"Update"),s.a.createElement(Nt.a,{className:"secondary",onClick:this.Reset},"Reset"))),s.a.createElement(Nt.i,{icon:t,label:r,title:r,className:a,onClick:this.ToggleWatch}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"events"},this.FilterControls(),s.a.createElement(Nt.k,{loading:this.Loading(),noIndicator:!0},s.a.createElement(di,{events:this.props.events,filter:this.state.filter,scrollToBottom:this.state.scrollToBottom})),s.a.createElement("div",{className:"load-more"},this.LoadMoreEventsButton()))}}]),t}(s.a.Component);Fi.propTypes={events:Zt.a.arrayOf(Zt.a.arrayOf(Zt.a.object)).isRequired,RequestMethod:Zt.a.func.isRequired,ClearMethod:Zt.a.func.isRequired,GetBlockNumber:Zt.a.func.isRequired,loading:Zt.a.bool.isRequired,contractAddress:Zt.a.string,abi:Zt.a.array};var Gi=Fi,Hi=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"page-container contracts-page-container"},s.a.createElement("div",{className:"actions-container"},s.a.createElement(Nt.a,{type:"link",to:pr.a.dirname(this.props.match.url),className:"secondary"},"Back")),s.a.createElement(Wr,{header:this.props.contract.name,subHeader:this.props.contract.description}),s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:"label-box"},s.a.createElement("div",{className:"contract-events"},s.a.createElement(Gi,{events:this.props.deployedContract.events||[],GetBlockNumber:this.props.GetBlockNumber,RequestMethod:this.props.methods.GetContractEvents,ClearMethod:this.props.ClearContractEvents,loading:this.props.methodStatus.GetContractEvents.loading,contractAddress:this.props.contract.address,abi:this.props.contract.abi})))))}}]),t}(s.a.Component);Hi.propTypes={contract:Zt.a.object.isRequired,deployedContract:Zt.a.object.isRequired,GetBlockNumber:Zt.a.func.isRequired,ClearContractEvents:Zt.a.func.isRequired,methods:Zt.a.shape({GetContractEvents:Zt.a.func.isRequired})};var Mi=Hi,Pi=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.GetContractEvents(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Bi=ha(Mi),qi=vi(function(e){return s.a.createElement(Bi,Dt()({},e,{GetBlockNumber:Co,methods:{GetContractEvents:Pi}}))},function(){return{}},function(e){return Lt(e,[go,xo])}),Di=function(e){function t(){return ot()(this,t),ut()(this,dt()(t).apply(this,arguments))}return ht()(t,e),ct()(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"page-container"},s.a.createElement("div",{className:"page-header-container"},s.a.createElement("h3",{className:"page-header"},"Blockchain Logs")),s.a.createElement(Gi,{events:this.props.logs,GetBlockNumber:this.props.GetBlockNumber,RequestMethod:this.props.methods.GetBlockchainEvents,ClearMethod:this.props.ClearBlockchainEvents,loading:this.props.methodStatus.GetBlockchainEvents.loading}))}}]),t}(s.a.Component);Di.propTypes={logs:Zt.a.array.isRequired,GetBlockNumber:Zt.a.func.isRequired,ClearBlockchainEvents:Zt.a.func.isRequired,methods:Zt.a.shape({GetBlockchainEvents:Zt.a.func.isRequired})};var Ui,zi=Di,_i=function(){var e=j()(I.a.mark(function e(t){var r,a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,a=t.params,e.next=3,r.GetBlockchainEvents(a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Vi=ha(zi),Wi=Object(i.c)(function(e){return{logs:e.logs}},function(e){return Lt(e,[ko,wo])})(function(e){return s.a.createElement(Vi,Dt()({},e,{GetBlockNumber:Co,methods:{GetBlockchainEvents:_i}}))}),Ji=Object(_t.a)(function(e){return{location:e.router.location}})(Ut.a),Ki=function(e){function t(e){var r;return ot()(this,t),(r=ut()(this,dt()(t).call(this,e))).state={redirectPath:"",pathSynchronized:!1},tt.isFrameClient&&r.props.GetFramePath(),r}var r;return ht()(t,e),ct()(t,[{key:"componentDidUpdate",value:(r=j()(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.pathSynchronized){e.next=12;break}if(!tt.isFrameClient){e.next=9;break}if(void 0!==this.props.frameRouting.path){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,tt.Initialize();case 6:this.props.frameRouting.path!==this.props.router.location.pathname?this.setState({redirectPath:this.props.frameRouting.path}):(this.setState({contentSpaceLibraryId:tt.contentSpaceLibraryId,redirectPath:"",pathSynchronized:!0}),this.props.StartRouteSynchronization()),e.next=12;break;case 9:return e.next=11,tt.Initialize();case 11:this.setState({contentSpaceLibraryId:tt.contentSpaceLibraryId,pathSynchronized:!0});case 12:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){return!this.state.pathSynchronized&&this.state.redirectPath&&this.state.redirectPath!==this.props.router.location.pathname?s.a.createElement(Wt.a,{to:this.state.redirectPath}):this.state.pathSynchronized?s.a.createElement("div",{className:"main-content-container"},s.a.createElement(Ji,null,s.a.createElement(zt.a,{exact:!0,path:"/",component:va}),"/* Access Groups */",s.a.createElement(zt.a,{exact:!0,path:"/access-groups",component:Fs}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/create",component:Js}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/:contractAddress",component:Ds}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/:contractAddress/edit",component:Js}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/:contractAddress/members",component:$s}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/:contractAddress/contract",component:wi}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/:contractAddress/contract/logs",component:qi}),s.a.createElement(zt.a,{exact:!0,path:"/access-groups/:contractAddress/contract/funds",component:Ni}),"/* Content */ /* For most content routes, add content-types route corresponding to /content/:contentSpaceLibrary */",s.a.createElement(zt.a,{exact:!0,path:"/content-types",component:ls}),s.a.createElement(zt.a,{exact:!0,path:"/content",component:va}),s.a.createElement(zt.a,{exact:!0,path:"/content/create",component:za}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId",component:Ma}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/edit",component:za}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/edit",render:function(e){return s.a.createElement(za,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/groups",component:an}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/groups",render:function(e){return s.a.createElement(an,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/types",component:Qa}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/create",component:Jn}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/create",render:function(e){return s.a.createElement(fs,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId",component:qn}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId",render:function(e){return s.a.createElement(qn,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/edit",component:Jn}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/edit",render:function(e){return s.a.createElement(fs,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/review",component:ns}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/upload",component:Xn}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/upload",render:function(e){return s.a.createElement(Xn,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/apps",component:ks}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/apps",render:function(e){return s.a.createElement(ks,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/apps/:role/add",component:Ss}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/apps/:role/add",render:function(e){return s.a.createElement(Ss,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/deploy",component:ci}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/deploy",render:function(e){return s.a.createElement(ci,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),"/* Base content contract */",s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/contract",component:wi}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/contract",render:function(e){return s.a.createElement(wi,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/contract/logs",component:qi}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/contract/logs",render:function(e){return s.a.createElement(qi,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/contract/funds",component:Ni}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/contract/funds",render:function(e){return s.a.createElement(Ni,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),"/* Custom content contract */",s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract",component:wi}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/custom-contract",render:function(e){return s.a.createElement(wi,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/logs",component:qi}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/custom-contract/logs",render:function(e){return s.a.createElement(qi,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),s.a.createElement(zt.a,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/funds",component:Ni}),s.a.createElement(zt.a,{exact:!0,path:"/content-types/:objectId/custom-contract/funds",render:function(e){return s.a.createElement(Ni,Dt()({libraryId:tt.contentSpaceLibraryId},e))}}),"/* Contracts */",s.a.createElement(zt.a,{exact:!0,path:"/contracts",component:Ro}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/saved",component:Ro}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/deployed",component:Ro}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/compile",component:Vo}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/save",component:Qo}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/watch",component:ti}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/deploy",component:ci}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/deployed/:contractAddress",component:wi}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/deployed/:contractAddress/logs",component:qi}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/deployed/:contractAddress/funds",component:Ni}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/:contractName",component:Bo}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/:contractName/edit",component:Qo}),s.a.createElement(zt.a,{exact:!0,path:"/contracts/:contractName/deploy",component:ci}),"/* Logs */",s.a.createElement(zt.a,{exact:!0,path:"/logs",component:Wi}))):null}}]),t}(s.a.Component),Yi=Vt(Object(_t.a)(function(e){return{router:e.router,frameRouting:e.frameRouting}},function(e){return Lt(e,[Jt,Kt])})(Ki)),Zi=Object(c.a)(),Qi=Object(l.e)((Ui=Zi,Object(l.c)({router:Object(p.b)(Ui),frameRouting:rt,accessGroups:w,accounts:f,content:y,contracts:x,notifications:k,logs:nt})),Object(l.d)(Object(l.a)(u.a)));Object(o.render)(s.a.createElement(i.a,{store:Qi},s.a.createElement("div",{className:"app-container"},s.a.createElement(p.a,{history:Zi},s.a.createElement(vt,null,s.a.createElement("div",{className:"view-container"},s.a.createElement(Tt,null),s.a.createElement(Bt,null),s.a.createElement(Yi,null)))))),document.getElementById("app"))},82:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>'},83:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>'}});