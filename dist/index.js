!function(e){function webpackJsonpCallback(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(i&&i(t);p.length;)p.shift()();return r.push.apply(r,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=__webpack_require__(__webpack_require__.s=n[0]))}return e}var t={},a={0:0},r=[];function __webpack_require__(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(a,r,function(t){return e[t]}.bind(null,r));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="";var n=window.webpackJsonp=window.webpackJsonp||[],o=n.push.bind(n);n.push=webpackJsonpCallback,n=n.slice();for(var s=0;s<n.length;s++)webpackJsonpCallback(n[s]);var i=o;r.push([173,1]),checkDeferredModules()}({105:function(e,t){String.prototype.capitalize=function(){return this.replace(/_/g," ").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},String.prototype.toHash=function(){return this.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}},17:function(e,t,a){"use strict";(function(e){a.d(t,"g",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"a",(function(){return b})),a.d(t,"e",(function(){return h})),a.d(t,"b",(function(){return f}));a(1);var r=a(0),n=a.n(r),o=a(57),s=a.n(o),i=a(58),c=a.n(i),l=a(3),u=function SafeTraverse(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];1===a.length&&Array.isArray(a[0])&&(a=a[0]);for(var n=e,o=0;o<a.length;o++)if(void 0===(n=n[a[o]]))return;return n},p=function FormatAddress(e){return s.a.FormatAddress(e)},d=function EqualAddress(e,t){return p(e)===p(t)},m=function Percentage(e,t){return t>0?"".concat((100*e/t).toFixed(1),"%"):"100.0%"},b=function AccessChargeDisplay(e){if(e&&parseInt(e)>0)return n.a.createElement(l.c,{balance:e})},h=function ParseBytes32(e){try{return f(e)}catch(t){return e.startsWith("0x0000")?new c.a(e).toString():e}},f=function Bytes32ToUtf8(t){for(var a=e.from(t.replace("0x",""),"hex"),r="",n=0;n<a.length;){var o=a[n++];if(o>>7!=0){var s=null,i=null;if(192==(224&o))s=1,i=127;else if(224==(240&o))s=2,i=2047;else{if(240!=(248&o)){if(128==(192&o))throw new Error("invalid utf8 byte sequence; unexpected continuation byte");throw new Error("invalid utf8 byte sequence; invalid prefix")}s=3,i=65535}if(n+s>a.length)throw new Error("invalid utf8 byte sequence; too short");for(var c=o&(1<<8-s-1)-1,l=0;l<s;l++){var u=a[n];if(128!=(192&u)){c=null;break}c=c<<6|63&u,n++}if(null===c)throw new Error("invalid utf8 byte sequence; invalid continuation byte");if(c<=i)throw new Error("invalid utf8 byte sequence; overlong");if(c>1114111)throw new Error("invalid utf8 byte sequence; out-of-range");if(c>=55296&&c<=57343)throw new Error("invalid utf8 byte sequence; utf-16 surrogate");c<=65535?r+=String.fromCharCode(c):(c-=65536,r+=String.fromCharCode(55296+(c>>10&1023),56320+(1023&c)))}else r+=String.fromCharCode(o)}return r}}).call(this,a(42).Buffer)},173:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"root",(function(){return Ts})),a.d(r,"contractStore",(function(){return Gs})),a.d(r,"eventsStore",(function(){return Hs})),a.d(r,"groupStore",(function(){return Ds})),a.d(r,"libraryStore",(function(){return zs})),a.d(r,"notificationStore",(function(){return Rs})),a.d(r,"objectStore",(function(){return $s})),a.d(r,"routeStore",(function(){return Bs})),a.d(r,"typeStore",(function(){return Us}));a(98);var n,o,s=a(0),i=a.n(s),c=a(29),l=a(20),u=a(13),p=a.n(u),d=(a(105),a(106),a(7)),m=a.n(d),b=a(6),h=a.n(b),f=a(10),y=a.n(f),g=a(11),v=a.n(g),w=a(12),C=a.n(w),x=a(19),k=function(e){function ScrollToTop(){return m()(this,ScrollToTop),y()(this,v()(ScrollToTop).apply(this,arguments))}return C()(ScrollToTop,e),h()(ScrollToTop,[{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function render(){return this.props.children}}]),ScrollToTop}(i.a.Component),j=Object(x.h)(k),S=a(34),I=a.n(S),E=a(49),O=a.n(E),A=a(74),F=a.n(A),N=a(75),L=a.n(N),_=a(76),P=a.n(_),M=a(3),T=a(8),G=Object(T.b)("routeStore")(n=Object(T.c)(n=function(e){function NavigationBar(){return m()(this,NavigationBar),y()(this,v()(NavigationBar).apply(this,arguments))}return C()(NavigationBar,e),h()(NavigationBar,[{key:"NavLink",value:function NavLink(e){var t=e.linkInfo,a=(this.props.routeStore.path||"").split("/")[1],r=t.rootPath&&!a||a===t.link;return i.a.createElement("div",{key:"navbar-link-"+t.link,className:"navbar-link-container"},i.a.createElement(l.b,{to:"/"+t.link,className:"navbar-link "+(r?"active":"")},i.a.createElement("span",{className:"navbar-link-span"},i.a.createElement(M.n,{className:"navbar-link-icon",icon:t.icon}),i.a.createElement("div",{className:"navbar-link-text"},t.text))))}},{key:"render",value:function render(){var e=this;return i.a.createElement("div",{className:"navbar-container"},i.a.createElement("nav",{className:"navbar-links-container",role:"navigation"},NavigationBar.Links().map((function(t){return e.NavLink({linkInfo:t})}))))}}],[{key:"Links",value:function Links(){return[{link:"content",text:"Content",rootPath:!0,icon:I.a},{link:"access-groups",text:"Access Groups",icon:O.a},{link:"content-types",text:"Content Types",icon:F.a},{link:"contracts",text:"Contracts",icon:L.a},{link:"events",text:"Events",icon:P.a}]}}]),NavigationBar}(i.a.Component))||n)||n,H=a(44),D=a.n(H),z=a(4),R=Object(T.b)("notificationStore")(o=Object(T.c)(o=function(e){function Notifications(e){var t;return m()(this,Notifications),(t=y()(this,v()(Notifications).call(this,e))).state={notificationVersion:0},t}return C()(Notifications,e),h()(Notifications,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.setState({DisposeReaction:Object(z.n)((function(){return{notification:e.props.notificationStore.notification,error:e.props.notificationStore.error}}),(function(){return e.setState({notificationVersion:e.state.notificationVersion+1})}))})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.DisposeReaction&&this.state.DisposeReaction()}},{key:"render",value:function render(){var e="notification-".concat(this.state.notificationVersion);return this.props.notificationStore.error?i.a.createElement("div",{className:"notification-container",key:e},i.a.createElement("div",{className:"notification-message-container error-message-container"},i.a.createElement("span",null,this.props.notificationStore.error),i.a.createElement(M.m,{icon:D.a,label:"close",onClick:this.props.notificationStore.ClearMessage,className:"clear-notification"}))):this.props.notificationStore.notification?i.a.createElement("div",{className:"notification-container",key:e},i.a.createElement("div",{className:"notification-message-container"},i.a.createElement("span",null,this.props.notificationStore.notification),i.a.createElement(M.m,{icon:D.a,label:"close",onClick:this.props.notificationStore.ClearMessage,className:"clear-notification"}))):i.a.createElement("div",{className:"notification-container"})}}]),Notifications}(i.a.Component))||o)||o,$=a(1),B=a.n($),U=a(21),V=a.n(U),q=a(16),W=a.n(q),K=a(54),J=a(17);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=new K.FrameClient({target:window.parent,timeout:30}),Y={},Q={currentAccountAddress:void 0,utils:Z.utils,cachedImages:{},concurrencyLimit:10,Initialize:function Initialize(){var e=this;return function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return window.client=Z,t.next=3,B.a.awrap(Z.ContentSpaceId());case 3:e.contentSpaceId=t.sent,e.contentSpaceLibraryId=e.contentSpaceId.replace("ispc","ilib"),e.contentSpaceObjectId=e.contentSpaceId.replace("ispc","iq__");case 6:case"end":return t.stop()}}))}()},ResetRegion:function ResetRegion(){return function _callee2(){return B.a.async((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.ResetRegion());case 2:case"end":return e.stop()}}))}()},SetFramePath:function SetFramePath(e){var t=e.path;return function _callee3(){return B.a.async((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.SendMessage({options:{operation:"SetFramePath",path:t}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}()},ExecuteFrameRequest:function ExecuteFrameRequest(e){var t=e.request,a=e.Respond;return function _callee4(){return B.a.async((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,B.a.awrap(Z.PassRequest({request:t,Respond:a}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}))}()},CurrentAccountAddress:function CurrentAccountAddress(){return B.a.async((function CurrentAccountAddress$(e){for(;;)switch(e.prev=e.next){case 0:if(Q.currentAccountAddress){e.next=6;break}return e.t0=J.d,e.next=4,B.a.awrap(Z.CurrentAccountAddress());case 4:e.t1=e.sent,Q.currentAccountAddress=(0,e.t0)(e.t1);case 6:return e.abrupt("return",Q.currentAccountAddress);case 7:case"end":return e.stop()}}))},CreateAccessGroup:function CreateAccessGroup(e){var t,a,r,n;return B.a.async((function CreateAccessGroup$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,a=e.description,r=e.metadata,n=void 0===r?{}:r,o.next=3,B.a.awrap(Z.CreateAccessGroup({name:t,description:a,metadata:n}));case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}))},DeleteAccessGroup:function DeleteAccessGroup(e){var t;return B.a.async((function DeleteAccessGroup$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,B.a.awrap(Z.DeleteAccessGroup({contractAddress:t}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},LeaveAccessGroup:function LeaveAccessGroup(e){var t=e.contractAddress;return function _callee5(){var e;return B.a.async((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Q.CurrentAccountAddress());case 2:return e=a.sent,a.next=5,B.a.awrap(Q.RemoveAccessGroupManager({contractAddress:t,memberAddress:e}));case 5:return a.next=7,B.a.awrap(Q.RemoveAccessGroupMember({contractAddress:t,memberAddress:e}));case 7:case"end":return a.stop()}}))}()},AddAccessGroupMember:function AddAccessGroupMember(e){var t=e.contractAddress,a=e.memberAddress;return function _callee6(){return B.a.async((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.AddAccessGroupMember({contractAddress:t,memberAddress:Object(J.d)(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}()},RemoveAccessGroupMember:function RemoveAccessGroupMember(e){var t=e.contractAddress,a=e.memberAddress;return function _callee7(){return B.a.async((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.RemoveAccessGroupMember({contractAddress:t,memberAddress:Object(J.d)(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}()},AddAccessGroupManager:function AddAccessGroupManager(e){var t=e.contractAddress,a=e.memberAddress;return function _callee8(){return B.a.async((function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.AddAccessGroupManager({contractAddress:t,memberAddress:Object(J.d)(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}()},RemoveAccessGroupManager:function RemoveAccessGroupManager(e){var t=e.contractAddress,a=e.memberAddress;return function _callee9(){return B.a.async((function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.RemoveAccessGroupManager({contractAddress:t,memberAddress:Object(J.d)(a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}()},FilterContentLibraries:function FilterContentLibraries(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.filter((function(e){var n=e.meta;try{var o=(n.public[t]||"").toLowerCase().includes(a);return r?!o:o}catch(e){return!1}}))},ListContentLibraries:function ListContentLibraries(e){var t,a,r,n,o,s,i;return B.a.async((function ListContentLibraries$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.params,c.next=3,B.a.awrap(Z.ContentLibraries());case 3:return a=c.sent,c.next=6,B.a.awrap(a.limitedMap(Q.concurrencyLimit,(function _callee10(e){var t,a,r;return B.a.async((function _callee10$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=Q.utils.HashToAddress(e),a=Q.utils.AddressToObjectId(t),n.next=5,B.a.awrap(Z.ContentObjectMetadata({libraryId:e,objectId:a,metadataSubtree:"public"}));case 5:if(n.t0=n.sent,n.t0){n.next=8;break}n.t0={};case 8:return r=n.t0,n.abrupt("return",{libraryId:e,meta:{public:r}});case 12:return n.prev=12,n.t1=n.catch(0),n.abrupt("return",{libraryId:e,meta:{public:{}}});case 15:case"end":return n.stop()}}),null,null,[[0,12]])})));case 6:r=(r=c.sent).filter((function(e){return void 0!==e})),c.t0=t.selectFilter,c.next="content"===c.t0?11:"users"===c.t0?13:"elv-media-platform"===c.t0?15:17;break;case 11:return r=r.filter((function(e){var t=e.meta;return!["elv-user-library","elv-media-platform"].includes((t.class||"").toLowerCase())})),c.abrupt("break",17);case 13:return r=Q.FilterContentLibraries(r,"class","elv-user-library"),c.abrupt("break",17);case 15:return r=Q.FilterContentLibraries(r,"class","elv-media-platform"),c.abrupt("break",17);case 17:return t.filter&&(r=Q.FilterContentLibraries(r,"name",t.filter.toLowerCase())),r=r.sort((function(e,t){e.meta=e.meta||{public:{}},t.meta=t.meta||{public:{}};var a=e.meta.public.name||"zz",r=t.meta.public.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1})),n=r.length,o=(t.page||1)-1,s=t.perPage||10,r=r.slice(o*s,(o+1)*s),i={},c.next=26,B.a.awrap(r.limitedMap(Q.concurrencyLimit,(function _callee11(e){var t,a,r,n;return B.a.async((function _callee11$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.meta,o.prev=1,r=t.replace("ilib","iq__"),o.next=5,B.a.awrap(Q.GetContentObjectImageUrl({libraryId:t,objectId:r,metadata:a}));case 5:n=o.sent,i[t]={libraryId:t,name:a.public&&a.public.name||t,description:a.public&&a.public.description||a.description,imageUrl:n,isContentSpaceLibrary:t===Q.contentSpaceLibraryId},o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),console.error("Failed to get content library ".concat(a.name||t,": ")),console.error(o.t0);case 13:case"end":return o.stop()}}),null,null,[[1,9]])})));case 26:return c.abrupt("return",{libraries:i,count:n});case 27:case"end":return c.stop()}}))},GetContentLibrary:function GetContentLibrary(e){var t,a,r,n,o,s,i,c,l,u,p,d,m;return B.a.async((function GetContentLibrary$(b){for(;;)switch(b.prev=b.next){case 0:return t=e.libraryId,b.next=3,B.a.awrap(Z.ContentLibrary({libraryId:t}));case 3:return a=b.sent,b.next=6,B.a.awrap(Q.GetContentLibraryOwner({libraryId:t}));case 6:return r=b.sent,b.next=9,B.a.awrap(Q.CurrentAccountAddress());case 9:return n=b.sent,b.next=12,B.a.awrap(Z.userProfileClient.PublicUserMetadata({address:r,metadataSubtree:"name"}));case 12:return o=b.sent,s=t.replace("ilib","iq__"),i={},c={},b.prev=16,b.next=19,B.a.awrap(Q.GetContentObject({libraryId:t,objectId:s}));case 19:return u=b.sent,b.next=22,B.a.awrap(Q.GetContentObjectMetadata({libraryId:t,objectId:s}));case 22:return i=b.sent,b.next=25,B.a.awrap(Q.GetContentObjectImageUrl({libraryId:t,objectId:s,versionHash:u.hash,metadata:i}));case 25:l=b.sent,c=_objectSpread({},i.public||{}),delete i.public,b.next=33;break;case 30:b.prev=30,b.t0=b.catch(16),console.error(b.t0);case 33:return b.next=35,B.a.awrap(Z.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:"addressKMS"}));case 35:return p=b.sent,d="ikms".concat(Z.utils.AddressToHash(p)),b.next=39,B.a.awrap(Q.ListLibraryContentTypes({libraryId:t}));case 39:return m=b.sent,b.abrupt("return",_objectSpread({},a,{libraryId:t,types:m,name:c.name||i.name||t,description:c.description||i.description,contractAddress:Object(J.d)(Z.utils.HashToAddress(t)),libraryObjectId:t.replace("ilib","iq__"),privateMeta:i,publicMeta:c,imageUrl:l,kmsId:d,owner:r,ownerName:o,isOwner:Object(J.c)(r,n),isContentSpaceLibrary:t===Q.contentSpaceLibraryId}));case 41:case"end":return b.stop()}}),null,null,[[16,30]])},ListLibraryContentTypes:function ListLibraryContentTypes(e){var t,a;return B.a.async((function ListLibraryContentTypes$(r){for(;;)switch(r.prev=r.next){case 0:if((t=e.libraryId)!==Q.contentSpaceLibraryId){r.next=3;break}return r.abrupt("return",{});case 3:return r.next=5,B.a.awrap(Z.LibraryContentTypes({libraryId:t}));case 5:return a=r.sent,r.next=8,B.a.awrap(Object.values(a).limitedMap(Q.concurrencyLimit,(function _callee12(e){return B.a.async((function _callee12$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_objectSpread,t.t1={},t.t2=a[e.id],t.t3={},t.next=6,B.a.awrap(Q.AppUrls({object:e}));case 6:t.t4=t.sent,a[e.id]=(0,t.t0)(t.t1,t.t2,t.t3,t.t4);case 8:case"end":return t.stop()}}))})));case 8:return r.abrupt("return",a);case 9:case"end":return r.stop()}}))},AddLibraryContentType:function AddLibraryContentType(e){var t,a,r;return B.a.async((function AddLibraryContentType$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.typeId,r=e.customContractAddress,n.next=3,B.a.awrap(Z.AddLibraryContentType({libraryId:t,typeId:a,customContractAddress:r}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))},RemoveLibraryContentType:function RemoveLibraryContentType(e){var t,a;return B.a.async((function RemoveLibraryContentType$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.typeId,r.next=3,B.a.awrap(Z.RemoveLibraryContentType({libraryId:t,typeId:a}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},GetContentLibraryOwner:function GetContentLibraryOwner(e){var t;return B.a.async((function GetContentLibraryOwner$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.t0=J.d,a.next=4,B.a.awrap(Z.ContentLibraryOwner({libraryId:t}));case 4:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 6:case"end":return a.stop()}}))},CreateContentLibrary:function CreateContentLibrary(e){var t,a,r,n,o,s,i;return B.a.async((function CreateContentLibrary$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.name,a=e.description,r=e.publicMetadata,n=void 0===r?{}:r,o=e.privateMetadata,s=void 0===o?{}:o,i=e.kmsId,c.next=3,B.a.awrap(Z.CreateContentLibrary({name:t,description:a,metadata:_objectSpread({},s,{public:n}),kmsId:i}));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}))},DeleteContentLibrary:function DeleteContentLibrary(e){var t;return B.a.async((function DeleteContentLibrary$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,a.next=3,B.a.awrap(Z.DeleteContentLibrary({libraryId:t}));case 3:case"end":return a.stop()}}))},SetContentLibraryImage:function SetContentLibraryImage(e){var t,a,r,n;return B.a.async((function SetContentLibraryImage$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.writeToken,r=e.image,n=e.imageName,o.next=3,B.a.awrap(Z.SetContentLibraryImage({libraryId:t,writeToken:a,image:r,imageName:n}));case 3:case"end":return o.stop()}}))},ListContentLibraryGroups:function ListContentLibraryGroups(e){var t,a,r,n;return B.a.async((function ListContentLibraryGroups$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.type,r=e.params,n=void 0===r?{}:r,o.next=3,B.a.awrap(Q.ListAccessGroups({params:_objectSpread({libraryId:t,type:a},n)}));case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}))},AddContentLibraryGroup:function AddContentLibraryGroup(e){var t,a,r,n;return B.a.async((function AddContentLibraryGroup$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.address,r=e.groupType,o.next=3,B.a.awrap(Z.CallContractMethodAndWait({contractAddress:Z.utils.HashToAddress(t),methodName:"add"+r.capitalize()+"Group",methodArgs:[Object(J.d)(a)]}));case 3:if((n=o.sent).logs&&0!==n.logs.length){o.next=6;break}throw Error("Failed to add "+r+"group "+a);case 6:case"end":return o.stop()}}))},RemoveContentLibraryGroup:function RemoveContentLibraryGroup(e){var t,a,r,n;return B.a.async((function RemoveContentLibraryGroup$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.address,r=e.groupType,o.next=3,B.a.awrap(Z.CallContractMethodAndWait({contractAddress:Z.utils.HashToAddress(t),methodName:"remove"+r.capitalize()+"Group",methodArgs:[Object(J.d)(a)]}));case 3:if((n=o.sent).logs&&0!==n.logs.length){o.next=6;break}throw Error("Failed to add "+r+"group "+a);case 6:case"end":return o.stop()}}))},ContentObjectLibraryId:function ContentObjectLibraryId(e){var t,a;return B.a.async((function ContentObjectLibraryId$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.objectId,a=e.versionHash,r.next=3,B.a.awrap(Z.ContentObjectLibraryId({objectId:t,versionHash:a}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},IsNormalObject:function IsNormalObject(e){var t;return B.a.async((function IsNormalObject$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,B.a.awrap(Z.AccessType({id:t}));case 3:return a.t0=a.sent,a.abrupt("return","object"===a.t0);case 5:case"end":return a.stop()}}))},ListContentObjects:function ListContentObjects(e){var t,a,r,n,o,s,i,c,l,u,p,d,m,b,h,f,y,g,v,w;return B.a.async((function ListContentObjects$(C){for(;;)switch(C.prev=C.next){case 0:return t=e.libraryId,a=e.params,r={select:["name","image","description","public/name","public/description","public/image"],sort:"/public/name",limit:a.perPage},a.page&&(r.start=(a.page-1)*a.perPage),a.filter&&(r.filter={key:"/public/name",type:"cnt",filter:a.filter}),a.cacheId&&(r.cacheId=a.cacheId),C.next=7,B.a.awrap(Z.ContentObjects({libraryId:t,filterOptions:r}));case 7:n=C.sent,o=n.contents,s=n.paging,o=o||[],i=s.items,c=s.cache_id,l={},u=!0,p=!1,d=void 0,C.prev=17,m=o[Symbol.iterator]();case 19:if(u=(b=m.next()).done){C.next=41;break}return h=b.value,C.prev=21,f=h.versions[0],C.next=25,B.a.awrap(Q.GetContentObjectImageUrl({libraryId:t,objectId:h.id,versionHash:f.hash,metadata:h.versions[0].meta}));case 25:return y=C.sent,C.next=28,B.a.awrap(Q.GetAccessInfo({objectId:h.id}));case 28:g=C.sent,v=f.meta||{},w=v.public||{},l[h.id]=_objectSpread({},f,{id:h.id,objectId:h.id,hash:h.hash,type:h.type,name:(w.name||v.name||"").toString(),description:w.description||v.description,accessInfo:g,imageUrl:y,contractAddress:Z.utils.HashToAddress(h.id)}),C.next=38;break;case 34:C.prev=34,C.t0=C.catch(21),console.error("Failed to list content object "+h.id),console.error(C.t0);case 38:u=!0,C.next=19;break;case 41:C.next=47;break;case 43:C.prev=43,C.t1=C.catch(17),p=!0,d=C.t1;case 47:C.prev=47,C.prev=48,u||null==m.return||m.return();case 50:if(C.prev=50,!p){C.next=53;break}throw d;case 53:return C.finish(50);case 54:return C.finish(47);case 55:return C.abrupt("return",{objects:l,cacheId:c,count:i});case 56:case"end":return C.stop()}}),null,null,[[17,43,47,55],[21,34],[48,,50,54]])},GetContentObject:function GetContentObject(e){var t,a,r,n,o,s,i,c,l,u,p,d,m,b,h,f,y,g,v,w,C,x,k,j,S,I;return B.a.async((function GetContentObject$(E){for(;;)switch(E.prev=E.next){case 0:return t=e.libraryId,a=e.objectId,r=Z.utils.EqualHash(t,a),n=t===Q.contentSpaceLibraryId&&!r,o=!r&&!n,E.next=6,B.a.awrap(Z.LatestVersionHash({objectId:a}));case 6:if(s=E.sent,Y[s]){E.next=26;break}return E.next=10,B.a.awrap(Z.ContentObject({libraryId:t,objectId:a}));case 10:return i=E.sent,E.next=13,B.a.awrap(Z.ContentObjectMetadata({libraryId:t,objectId:a}));case 13:if(E.t0=E.sent,E.t0){E.next=16;break}E.t0={};case 16:if((c=E.t0).public||(c.public={}),!i.type){E.next=25;break}return E.next=21,B.a.awrap(Q.GetContentType({versionHash:i.type}));case 21:return l=E.sent,E.next=24,B.a.awrap(Z.LatestVersionHash({objectId:l.id}));case 24:l.latestTypeHash=E.sent;case 25:Y[s]={object:i,metadata:c,typeInfo:l};case 26:return u=Y[s],p=u.object,d=u.metadata,m=u.typeInfo,E.next=29,B.a.awrap(Q.GetContentObjectImageUrl({libraryId:t,objectId:a,versionHash:p.hash,metadata:d}));case 29:return b=E.sent,E.next=32,B.a.awrap(Q.AppUrls({object:{id:p.id,hash:p.hash,meta:d}}));case 32:return h=E.sent,E.next=35,B.a.awrap(Q.FileUrl({libraryId:t,objectId:a,filePath:"/"}));case 35:return f=E.sent,"string"!=typeof(y=d.public.name||d.name||p.id)&&(y=p.id),E.next=40,B.a.awrap(Promise.all(Object.keys(d).filter((function(e){return e.startsWith("lro_draft_")})).map((function _callee13(e){var r,n;return B.a.async((function _callee13$(o){for(;;)switch(o.prev=o.next){case 0:return r=e.replace(/^lro_draft_/,""),o.next=3,B.a.awrap(Z.LROStatus({libraryId:t,objectId:a,offeringKey:r}));case 3:return n=o.sent,o.abrupt("return",{offeringKey:r,status:n});case 5:case"end":return o.stop()}}))}))));case 40:if(g=E.sent,!o){E.next=48;break}return E.next=44,B.a.awrap(Q.GetContentObjectStatus({objectId:a}));case 44:return v=E.sent,E.next=47,B.a.awrap(Q.GetAccessInfo({objectId:a}));case 47:w=E.sent;case 48:return E.next=50,B.a.awrap(Z.Visibility({id:a}));case 50:return C=E.sent,E.next=53,B.a.awrap(Q.GetContentObjectOwner({objectId:a}));case 53:return x=E.sent,E.next=56,B.a.awrap(Z.userProfileClient.PublicUserMetadata({address:x,metadataSubtree:"name"}));case 56:return k=E.sent,E.next=59,B.a.awrap(Q.GetCustomContentContractAddress({libraryId:t,objectId:a,metadata:d}));case 59:return j=E.sent,E.t1=J.c,E.t2=x,E.next=64,B.a.awrap(Q.CurrentAccountAddress());case 64:if(E.t3=E.sent,S=(0,E.t1)(E.t2,E.t3),(I=S)||!o){E.next=73;break}return E.next=70,B.a.awrap(Z.CallContractMethod({contractAddress:Z.utils.HashToAddress(a),methodName:"canEdit"}));case 70:I=E.sent,E.next=77;break;case 73:if(I||!n){E.next=77;break}return E.next=76,B.a.awrap(Z.CallContractMethod({contractAddress:Z.utils.HashToAddress(a),methodName:"canCommit"}));case 76:I=E.sent;case 77:return E.abrupt("return",_objectSpread({},p,{},h,{writeToken:"",meta:d,name:y,description:d.public.description||d.description,baseFileUrl:f,typeInfo:m,imageUrl:b,lroStatus:g,contractAddress:Object(J.d)(Z.utils.HashToAddress(a)),customContractAddress:j,visibility:C,owner:x,ownerName:k,isOwner:S,canEdit:I,accessInfo:w,status:v,isContentLibraryObject:r,isContentType:n,isNormalObject:o}));case 78:case"end":return E.stop()}}))},GetContentObjectMetadata:function GetContentObjectMetadata(e){var t,a,r,n,o,s;return B.a.async((function GetContentObjectMetadata$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.writeToken,o=e.metadataSubtree,s=void 0===o?"/":o,i.next=3,B.a.awrap(Z.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,writeToken:n,metadataSubtree:s}));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}))},GetContentObjectVersions:function GetContentObjectVersions(e){var t,a;return B.a.async((function GetContentObjectVersions$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,B.a.awrap(Z.ContentObjectVersions({libraryId:t,objectId:a}));case 3:return r.t0=function(e){return e.hash},r.abrupt("return",r.sent.versions.map(r.t0));case 5:case"end":return r.stop()}}))},GetContentObjectVersion:function GetContentObjectVersion(e){var t,a,r,n;return B.a.async((function GetContentObjectVersion$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.versionHash,o.next=3,B.a.awrap(Z.ContentObject({versionHash:t}));case 3:return a=o.sent,o.next=6,B.a.awrap(Q.GetContentObjectMetadata({versionHash:t}));case 6:return r=o.sent,o.next=9,B.a.awrap(Q.ListParts({versionHash:t}));case 9:return n=o.sent,o.abrupt("return",_objectSpread({},a,{meta:r,verification:{},parts:n}));case 11:case"end":return o.stop()}}))},GetContentObjectImageUrl:function GetContentObjectImageUrl(e){var t,a,r,n,o,s;return B.a.async((function GetContentObjectImageUrl$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.metadata,i.next=3,B.a.awrap(Z.ContentObjectImageUrl({libraryId:t,objectId:a,versionHash:r}));case 3:if(!(o=i.sent)){i.next=6;break}return i.abrupt("return",o);case 6:if(Q.cachedImages[a]){i.next=18;break}if(!n){i.next=11;break}s=n.public&&n.public.image||n.image,i.next=14;break;case 11:return i.next=13,B.a.awrap(Z.ContentObjectMetadata({libraryId:t,objectId:a,versionHash:r,metadataSubtree:"public/image"}));case 13:s=i.sent;case 14:if(!s){i.next=18;break}return i.next=17,B.a.awrap(Z.PublicRep({libraryId:t,objectId:a,versionHash:r,rep:"image"}));case 17:Q.cachedImages[a]=i.sent;case 18:return i.abrupt("return",Q.cachedImages[a]);case 19:case"end":return i.stop()}}))},GetContentObjectGroupPermissions:function GetContentObjectGroupPermissions(e){var t,a,r;return B.a.async((function GetContentObjectGroupPermissions$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,n.next=3,B.a.awrap(Z.ContentObjectGroupPermissions({objectId:t}));case 3:return a=n.sent,r={},n.next=7,B.a.awrap(Promise.all(Object.keys(a).map((function _callee14(e){return B.a.async((function _callee14$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_objectSpread,t.t1={},t.next=4,B.a.awrap(Q.GetAccessGroup({contractAddress:e,publicOnly:!0}));case 4:t.t2=t.sent,t.t3={address:e,permissions:a[e]},r[e]=(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}))}))));case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}}))},GetCustomContentContractAddress:function GetCustomContentContractAddress(e){var t,a,r,n;return B.a.async((function GetCustomContentContractAddress$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.metadata,n=void 0===r?{}:r,t!==Q.contentSpaceLibraryId&&!Z.utils.EqualHash(t,a)){o.next=3;break}return o.abrupt("return",n.custom_contract&&n.custom_contract.address);case 3:return o.t0=J.d,o.next=6,B.a.awrap(Z.CustomContractAddress({libraryId:t,objectId:a}));case 6:return o.t1=o.sent,o.abrupt("return",(0,o.t0)(o.t1));case 8:case"end":return o.stop()}}))},GetContentObjectOwner:function GetContentObjectOwner(e){var t;return B.a.async((function GetContentObjectOwner$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.t0=J.d,a.next=4,B.a.awrap(Z.ContentObjectOwner({objectId:t}));case 4:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 6:case"end":return a.stop()}}))},GetAccessInfo:function GetAccessInfo(e){var t;return B.a.async((function GetAccessInfo$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,B.a.awrap(Z.AccessInfo({objectId:t}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},CreateContentObject:function CreateContentObject(e){var t,a,r,n;return B.a.async((function CreateContentObject$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.type,r=e.metadata,n={type:a,meta:void 0===r?{}:r},o.abrupt("return",Z.CreateContentObject({libraryId:t,options:n}));case 3:case"end":return o.stop()}}))},DeleteContentObject:function DeleteContentObject(e){var t,a;return B.a.async((function DeleteContentObject$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,B.a.awrap(Z.DeleteContentObject({libraryId:t,objectId:a}));case 3:case"end":return r.stop()}}))},DeleteContentVersion:function DeleteContentVersion(e){var t,a,r;return B.a.async((function DeleteContentVersion$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n.next=3,B.a.awrap(Z.DeleteContentVersion({libraryId:t,objectId:a,versionHash:r}));case 3:case"end":return n.stop()}}))},EditContentObject:function EditContentObject(e){var t,a,r,n;return B.a.async((function EditContentObject$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.options,n=void 0===r?{}:r,o.next=3,B.a.awrap(Z.EditContentObject({libraryId:t,objectId:a,options:n}));case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}))},MergeMetadata:function MergeMetadata(e){var t,a,r,n,o,s;return B.a.async((function MergeMetadata$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,s=e.metadata,i.next=3,B.a.awrap(Z.MergeMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o,metadata:s}));case 3:case"end":return i.stop()}}))},ReplaceMetadata:function ReplaceMetadata(e){var t,a,r,n,o,s;return B.a.async((function ReplaceMetadata$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,s=e.metadata,i.next=3,B.a.awrap(Z.ReplaceMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o,metadata:s}));case 3:case"end":return i.stop()}}))},DeleteMetadata:function DeleteMetadata(e){var t,a,r,n,o;return B.a.async((function DeleteMetadata$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.metadataSubtree,o=void 0===n?"/":n,s.next=3,B.a.awrap(Z.DeleteMetadata({libraryId:t,objectId:a,writeToken:r,metadataSubtree:o}));case 3:case"end":return s.stop()}}))},FinalizeContentObject:function FinalizeContentObject(e){var t,a,r,n,o;return B.a.async((function FinalizeContentObject$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.awaitCommitConfirmation,o=void 0===n||n,delete Q.cachedImages[a],s.next=4,B.a.awrap(Z.FinalizeContentObject({libraryId:t,objectId:a,writeToken:r,awaitCommitConfirmation:o}));case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}}))},EditAndFinalizeContentObject:function EditAndFinalizeContentObject(e){var t,a,r,n,o,s;return B.a.async((function EditAndFinalizeContentObject$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.todo,n=e.awaitCommitConfirmation,o=void 0===n||n,i.next=3,B.a.awrap(Q.EditContentObject({libraryId:t,objectId:a}));case 3:return s=i.sent,i.next=6,B.a.awrap(r(s.write_token));case 6:return i.next=8,B.a.awrap(Q.FinalizeContentObject({libraryId:t,objectId:a,writeToken:s.write_token,awaitCommitConfirmation:o}));case 8:case"end":return i.stop()}}))},FinalizeABRMezzanine:function FinalizeABRMezzanine(e){var t,a;return B.a.async((function FinalizeABRMezzanine$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,B.a.awrap(Z.FinalizeABRMezzanine({libraryId:t,objectId:a}));case 3:case"end":return r.stop()}}))},AddContentObjectGroupPermission:function AddContentObjectGroupPermission(e){var t,a,r;return B.a.async((function AddContentObjectGroupPermission$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,a=e.groupAddress,r=e.permission,n.next=3,B.a.awrap(Z.AddContentObjectGroupPermission({objectId:t,groupAddress:a,permission:r}));case 3:case"end":return n.stop()}}))},RemoveContentObjectGroupPermission:function RemoveContentObjectGroupPermission(e){var t,a,r;return B.a.async((function RemoveContentObjectGroupPermission$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,a=e.groupAddress,r=e.permission,n.next=3,B.a.awrap(Z.RemoveContentObjectGroupPermission({objectId:t,groupAddress:a,permission:r}));case 3:case"end":return n.stop()}}))},SetContentObjectImage:function SetContentObjectImage(e){var t,a,r,n,o;return B.a.async((function SetContentObjectImage$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.image,o=e.imageName,s.next=3,B.a.awrap(Z.SetContentObjectImage({libraryId:t,objectId:a,writeToken:r,image:n,imageName:o}));case 3:case"end":return s.stop()}}))},SetVisibility:function SetVisibility(e){var t,a;return B.a.async((function SetVisibility$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,a=e.visibility,r.next=3,B.a.awrap(Z.SetVisibility({id:t,visibility:a}));case 3:case"end":return r.stop()}}))},CreateContentType:function CreateContentType(e){var t,a,r,n,o;return B.a.async((function CreateContentType$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.name,a=e.description,r=e.metadata,n=void 0===r?{}:r,o=e.bitcode,s.next=3,B.a.awrap(Z.CreateContentType({name:t,metadata:_objectSpread({},n,{description:a,public:_objectSpread({},n.public||{},{name:t,description:a})}),bitcode:o}));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}}))},AppUrls:function AppUrls(e){var t,a,r,n,o,s;return B.a.async((function AppUrls$(i){for(;;)switch(i.prev=i.next){case 0:if((t=e.object)&&t.meta){i.next=3;break}return i.abrupt("return",{});case 3:a={},r=0,n=["display","manage","review"];case 6:if(!(r<n.length)){i.next=20;break}if(o=n[r],"default"!==(s=(t.meta.public||{})["eluv.".concat(o,"App")]||t.meta["eluv.".concat(o,"App")])){i.next=13;break}a["".concat(o,"AppUrl")]=EluvioConfiguration["".concat(o,"AppUrl")],i.next=17;break;case 13:if(!s){i.next=17;break}return i.next=16,B.a.awrap(Q.FileUrl({libraryId:Q.contentSpaceLibraryId,objectId:t.id,filePath:s}));case 16:a["".concat(o,"AppUrl")]=i.sent;case 17:r++,i.next=6;break;case 20:return i.abrupt("return",a);case 21:case"end":return i.stop()}}))},ListContentTypes:function ListContentTypes(e){var t,a,r,n,o,s,i;return B.a.async((function ListContentTypes$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.params,c.t0=Object,c.next=4,B.a.awrap(Z.ContentTypes());case 4:return c.t1=c.sent,a=c.t0.values.call(c.t0,c.t1),r=function GetName(e){return(e.meta.public?e.meta.public.name:e.meta.name)||""},t.filter&&(a=a.filter((function(e){try{return r(e).toLowerCase().includes(t.filter.toLowerCase())}catch(e){return!1}}))),n=a.length,a=a.sort((function(e,t){var a=r(e)||"zz",n=r(t)||"zz";return a.toLowerCase()>n.toLowerCase()?1:-1})),o=t.page-1||0,s=t.perPage||10,a=a.slice(o*s,(o+1)*s),i={},c.next=16,B.a.awrap(a.limitedMap(5,(function _callee15(e){var a,n;return B.a.async((function _callee15$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,B.a.awrap(Q.AppUrls({object:e}));case 3:if(a=o.sent,i[e.id]=_objectSpread({},e,{},a,{name:r(e),description:e.meta.public&&e.meta.public.description||e.meta.description}),t.skipOwner){o.next=16;break}return o.next=8,B.a.awrap(Z.CallContractMethod({contractAddress:Z.utils.HashToAddress(e.id),methodName:"owner"}));case 8:return n=o.sent,i[e.id].owner=n,o.t0=J.c,o.t1=n,o.next=14,B.a.awrap(Q.CurrentAccountAddress());case 14:o.t2=o.sent,i[e.id].isOwner=(0,o.t0)(o.t1,o.t2);case 16:o.next=22;break;case 18:o.prev=18,o.t3=o.catch(0),console.error("Failed to list content type "+e.id),console.error(o.t3);case 22:case"end":return o.stop()}}),null,null,[[0,18]])})));case 16:return c.abrupt("return",{types:i,count:n});case 17:case"end":return c.stop()}}))},GetContentType:function GetContentType(e){var t,a,r;return B.a.async((function GetContentType$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.versionHash,n.next=3,B.a.awrap(Z.ContentType({versionHash:t}));case 3:return a=n.sent,n.next=6,B.a.awrap(Q.AppUrls({object:a}));case 6:return r=n.sent,n.abrupt("return",_objectSpread({},a,{},r));case 8:case"end":return n.stop()}}))},GetContentLibraryPermissions:function GetContentLibraryPermissions(e){var t,a,r,n;return B.a.async((function GetContentLibraryPermissions$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,o.next=3,B.a.awrap(Z.CurrentAccountAddress());case 3:return a=o.sent,o.next=6,B.a.awrap(Q.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:"canContribute",methodArgs:[a]}));case 6:return r=o.sent,o.next=9,B.a.awrap(Q.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:"canReview",methodArgs:[a]}));case 9:return n=o.sent,o.abrupt("return",{canContribute:r,canReview:n});case 11:case"end":return o.stop()}}))},GetContentObjectPermissions:function GetContentObjectPermissions(e){var t;return B.a.async((function GetContentObjectPermissions$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.libraryId,e.objectId,a.next=3,B.a.awrap(Q.GetContentLibraryPermissions({libraryId:t}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},GetContentObjectStatus:function GetContentObjectStatus(e){var t,a,r;return B.a.async((function GetContentObjectStatus$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,n.next=3,B.a.awrap(Q.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:"statusCode",methodArgs:[]}));case 3:return a=n.sent,n.next=6,B.a.awrap(Q.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:"statusDescription",methodArgs:[]}));case 6:return r=n.sent,n.abrupt("return",{code:parseInt(a._hex,16),description:Object(J.b)(r)});case 8:case"end":return n.stop()}}))},PublishContentObject:function PublishContentObject(e){var t;return B.a.async((function PublishContentObject$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,B.a.awrap(Z.CallContractMethodAndWait({contractAddress:Z.utils.HashToAddress(t),methodName:"publish",methodArgs:[]}));case 3:case"end":return a.stop()}}))},ReviewContentObject:function ReviewContentObject(e){var t,a,r,n;return B.a.async((function ReviewContentObject$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.approve,n=e.note,o.next=3,B.a.awrap(Z.CallContractMethodAndWait({contractAddress:Z.utils.HashToAddress(t),methodName:"approveContent",methodArgs:[Z.utils.HashToAddress(a),r,n]}));case 3:case"end":return o.stop()}}))},SetAccessCharge:function SetAccessCharge(e){var t,a,r;return B.a.async((function SetAccessCharge$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.objectId,a=e.accessCharge,n.next=3,B.a.awrap(Q.CallContractMethod({contractAddress:Q.utils.HashToAddress(t),methodName:"accessCharge"}));case 3:if(r=n.sent,r=parseInt(r._hex,16),!Q.utils.EtherToWei(a).isEqualTo(r)){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,B.a.awrap(Z.SetAccessCharge({objectId:t,accessCharge:a}));case 10:case"end":return n.stop()}}))},UploadFiles:function UploadFiles(e){var t,a,r,n,o,s;return B.a.async((function UploadFiles$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.fileInfo,o=e.encrypt,s=e.callback,i.next=3,B.a.awrap(Z.UploadFiles({libraryId:t,objectId:a,writeToken:r,fileInfo:n,encryption:o?"cgck":"none",callback:s}));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}))},CreateDirectory:function CreateDirectory(e){var t,a,r,n;return B.a.async((function CreateDirectory$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.directory,o.next=3,B.a.awrap(Z.CreateFileDirectories({libraryId:t,objectId:a,writeToken:r,filePaths:[n]}));case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}))},DeleteFiles:function DeleteFiles(e){var t,a,r,n;return B.a.async((function DeleteFiles$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.filePaths,o.next=3,B.a.awrap(Z.DeleteFiles({libraryId:t,objectId:a,writeToken:r,filePaths:n}));case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}))},DownloadFile:function DownloadFile(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.writeToken,o=e.filePath,s=e.format,i=void 0===s?"arrayBuffer":s,c=e.callback;return Z.DownloadFile({libraryId:t,objectId:a,versionHash:r,writeToken:n,filePath:o,format:i,callback:c})},FileUrl:function FileUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.writeToken,o=e.filePath;return Z.FileUrl({libraryId:t,objectId:a,versionHash:r,writeToken:n,filePath:o})},ListParts:function ListParts(e){var t,a,r;return B.a.async((function ListParts$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n.prev=1,n.next=4,B.a.awrap(Z.ContentParts({libraryId:t,objectId:a,versionHash:r}));case 4:return n.abrupt("return",n.sent);case 7:return n.prev=7,n.t0=n.catch(1),console.error("Failed to get content parts for ",t,a,r),console.error(n.t0),n.abrupt("return",[]);case 12:case"end":return n.stop()}}),null,null,[[1,7]])},DownloadPart:function DownloadPart(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,o=e.format,s=void 0===o?"blob":o,i=e.chunked,c=void 0!==i&&i,l=e.chunkSize,u=void 0===l?1e7:l,p=e.callback;return Z.DownloadPart({libraryId:t,objectId:a,versionHash:r,partHash:n,format:s,chunked:c,chunkSize:u,callback:p})},UploadPart:function UploadPart(e){var t,a,r,n,o,s,i,c,l,u,p,d,m,b,h,f,y,g;return B.a.async((function UploadPart$(v){for(;;)switch(v.prev=v.next){case 0:return t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.file,o=e.chunkSize,s=void 0===o?1e6:o,i=e.encrypt,c=void 0!==i&&i,l=e.callback,u=c?"cgck":"none",v.next=4,B.a.awrap(Z.CreatePart({libraryId:t,objectId:a,writeToken:r,encryption:u}));case 4:p=v.sent,l&&l({uploaded:0,total:n.size}),m=0,b=Math.ceil(n.size/s),h=0;case 9:if(!(h<b)){v.next=28;break}return f=h*s,y=Math.min(f+s,n.size),v.next=14,B.a.awrap(n.slice(f,y).arrayBuffer());case 14:if(g=v.sent,!c){v.next=19;break}return v.next=18,B.a.awrap(Z.Encrypt({libraryId:t,objectId:a,writeToken:r,chunk:g}));case 18:g=v.sent;case 19:if(!d){v.next=23;break}return v.next=22,B.a.awrap(d);case 22:l&&l({uploaded:m,total:n.size});case 23:d=Z.UploadPartChunk({libraryId:t,objectId:a,writeToken:r,partWriteToken:p,chunk:g,encryption:"none"}),m=y;case 25:h++,v.next=9;break;case 28:return v.next=30,B.a.awrap(d);case 30:return l&&l({uploaded:m,total:n.size}),v.next=33,B.a.awrap(Z.FinalizePart({libraryId:t,objectId:a,writeToken:r,partWriteToken:p,encryption:u}));case 33:return v.abrupt("return",v.sent);case 34:case"end":return v.stop()}}))},FabricUrl:function FabricUrl(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash;return Z.FabricUrl({libraryId:t,objectId:a,versionHash:r,partHash:n})},ContractAbi:function ContractAbi(e){var t=e.contractAddress,a=e.id;return function _callee16(){return B.a.async((function _callee16$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.ContractAbi({contractAddress:t,id:a}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}()},FormatContractArguments:function FormatContractArguments(e){var t=e.abi,a=e.methodName,r=e.args;return Z.FormatContractArguments({abi:t,methodName:a,args:r})},DeployContract:function DeployContract(e){var t=e.abi,a=e.bytecode,r=e.constructorArgs;return Z.DeployContract({abi:t,bytecode:a,constructorArgs:r})},CallContractMethod:function CallContractMethod(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value;return Z.CallContractMethod({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:o})},CallContractMethodAndWait:function CallContractMethodAndWait(e){var t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value;return Z.CallContractMethodAndWait({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:o})},SetCustomContentContract:function SetCustomContentContract(e){var t=e.libraryId,a=e.objectId,r=e.name,n=e.description,o=e.customContractAddress,s=e.abi,i=e.factoryAbi,c=e.overrides,l=void 0===c?{}:c;return Z.SetCustomContentContract({libraryId:t,objectId:a,name:r,description:n,customContractAddress:o,abi:s,factoryAbi:i,overrides:l})},FormatEvents:function FormatEvents(e){var t,a;return B.a.async((function FormatEvents$(r){for(;;)switch(r.prev=r.next){case 0:return t={},a=[],e.forEach((function(e){e.forEach((function(e){var t=Q.utils.FormatAddress(e.from);if(a.includes(t)||a.push(t),e.to){var r=Q.utils.FormatAddress(e.to);a.includes(r)||a.push(r)}}))})),r.next=5,B.a.awrap(a.limitedMap(Q.concurrencyLimit,(function _callee17(e){return B.a.async((function _callee17$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Z.userProfileClient.PublicUserMetadata({address:e,metadataSubtree:"name"}));case 2:t[e]=a.sent;case 3:case"end":return a.stop()}}))})));case 5:return r.abrupt("return",e.map((function(e){return e.map((function(e){return _objectSpread({},e,{fromName:t[Q.utils.FormatAddress(e.from)],toName:e.to?t[Q.utils.FormatAddress(e.to)]:void 0})}))})));case 6:case"end":return r.stop()}}))},ContractName:function ContractName(e){return B.a.async((function ContractName$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Z.ContractName({contractAddress:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ContractEvent:function ContractEvent(e){var t,a;return B.a.async((function ContractEvent$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.abi,a=e.transactionHash,r.next=3,B.a.awrap(Z.ContractEvent({abi:t,transactionHash:a}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},ContractEvents:function ContractEvents(e){var t,a,r,n;return B.a.async((function ContractEvents$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.contractAddress,a=e.abi,r=e.fromBlock,n=e.toBlock,o.t0=B.a,o.t1=Q,o.next=5,B.a.awrap(Z.ContractEvents({contractAddress:t,abi:a,fromBlock:r,toBlock:n,includeTransaction:!0}));case 5:return o.t2=o.sent,o.t3=o.t1.FormatEvents.call(o.t1,o.t2),o.next=9,o.t0.awrap.call(o.t0,o.t3);case 9:return o.abrupt("return",o.sent);case 10:case"end":return o.stop()}}))},WithdrawContractFunds:function WithdrawContractFunds(e){var t=e.contractAddress,a=e.abi,r=e.ether;return Z.WithdrawContractFunds({contractAddress:t,abi:a,ether:r})},GetBlockchainEvents:function GetBlockchainEvents(e){var t,a,r,n;return B.a.async((function GetBlockchainEvents$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.toBlock,a=e.fromBlock,r=e.count,n=void 0===r?10:r,o.t0=B.a,o.t1=Q,o.next=5,B.a.awrap(Z.Events({toBlock:t,fromBlock:a,count:n,includeTransaction:!0}));case 5:return o.t2=o.sent,o.t3=o.t1.FormatEvents.call(o.t1,o.t2),o.next=9,o.t0.awrap.call(o.t0,o.t3);case 9:return o.abrupt("return",o.sent);case 10:case"end":return o.stop()}}))},GetBlockNumber:function GetBlockNumber(){return B.a.async((function GetBlockNumber$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.BlockNumber());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},VerifyContentObject:function VerifyContentObject(e){var t=e.libraryId,a=e.objectId,r=e.versionHash;return Z.VerifyContentObject({libraryId:t,objectId:a,versionHash:r})},Proofs:function Proofs(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash;return Z.Proofs({libraryId:t,objectId:a,versionHash:r,partHash:n})},GetBalance:function GetBalance(e){var t=e.address;return Z.GetBalance({address:t})},SendFunds:function SendFunds(e){var t=e.recipient,a=e.ether;return Z.SendFunds({recipient:t,ether:a})},FilterContracts:function FilterContracts(e){var t=e.contracts,a=e.params,r=Object.values(t);a.filter&&(r=r.filter((function(e){try{return e.name.toLowerCase().includes(a.filter.toLowerCase())||e.description.toLowerCase().includes(a.filter.toLowerCase())}catch(e){return!1}})));var n=(r=r.sort((function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1}))).length;if(a.paginate){var o=(a.page||1)-1,s=a.perPage||10;r=r.slice(o*s,(o+1)*s)}return t={},r.forEach((function(e){return t[e.address||e.name]=e})),{contracts:t,count:n}},Contracts:function Contracts(e){var t,a;return B.a.async((function Contracts$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.next=3,B.a.awrap(Z.userProfileClient.UserMetadata({metadataSubtree:"contracts"}));case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0={};case 6:return a=r.t0,r.abrupt("return",Q.FilterContracts({contracts:a,params:t}));case 8:case"end":return r.stop()}}))},DeployedContracts:function DeployedContracts(e){var t,a;return B.a.async((function DeployedContracts$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.next=3,B.a.awrap(Z.userProfileClient.UserMetadata({metadataSubtree:"deployedContracts"}));case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0={};case 6:return a=r.t0,r.abrupt("return",Q.FilterContracts({contracts:a,params:t}));case 8:case"end":return r.stop()}}))},AddContract:function AddContract(e){var t,a,r,n;return B.a.async((function AddContract$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.name,a=e.description,r=e.abi,n=e.bytecode,o.next=3,B.a.awrap(Z.userProfileClient.MergeUserMetadata({metadataSubtree:p()("contracts",t),metadata:{name:t,description:a,abi:r,bytecode:n}}));case 3:case"end":return o.stop()}}))},RemoveContract:function RemoveContract(e){var t;return B.a.async((function RemoveContract$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.name,a.next=3,B.a.awrap(Z.userProfileClient.DeleteUserMetadata({metadataSubtree:p()("contracts",t)}));case 3:case"end":return a.stop()}}))},AddDeployedContract:function AddDeployedContract(e){var t,a,r,n,o,s;return B.a.async((function AddDeployedContract$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.name,a=e.description,r=e.address,n=e.abi,o=e.bytecode,s=e.owner,r=Object(J.d)(r),i.next=4,B.a.awrap(Z.userProfileClient.MergeUserMetadata({metadataSubtree:p()("deployedContracts",r),metadata:{name:t,description:a,address:r,abi:n,bytecode:o,owner:s}}));case 4:case"end":return i.stop()}}))},RemoveDeployedContract:function RemoveDeployedContract(e){var t;return B.a.async((function RemoveDeployedContract$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,B.a.awrap(Z.userProfileClient.DeleteUserMetadata({metadataSubtree:p()("deployedContracts",t)}));case 3:case"end":return a.stop()}}))},LibraryGroupAddresses:function LibraryGroupAddresses(e){var t=e.libraryId,a=e.type;return function _callee19(){var e;return B.a.async((function _callee19$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B.a.awrap(Z.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:a+"GroupsLength"}));case 2:return e=r.sent,e=parseInt(e._hex,16),r.next=6,B.a.awrap(V()(Array(e).keys()).limitedMap(Q.concurrencyLimit,(function _callee18(e){return B.a.async((function _callee18$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.t0=Q.utils,r.next=4,B.a.awrap(Z.CallContractMethod({contractAddress:Z.utils.HashToAddress(t),methodName:a+"Groups",methodArgs:[e]}));case 4:return r.t1=r.sent,r.abrupt("return",r.t0.FormatAddress.call(r.t0,r.t1));case 8:r.prev=8,r.t2=r.catch(0),console.error(r.t2);case 11:case"end":return r.stop()}}),null,null,[[0,8]])})));case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}))}()},AccessGroupAddresses:function AccessGroupAddresses(){return function _callee20(){return B.a.async((function _callee20$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(Z.Collection({collectionType:"accessGroups"}));case 2:return e.t0=function(e){return Q.utils.FormatAddress(e)},e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}}))}()},ListAccessGroups:function ListAccessGroups(e){var t=e.params;return function _callee22(){var e,a,r,n,o,s;return B.a.async((function _callee22$(i){for(;;)switch(i.prev=i.next){case 0:if(!t.libraryId){i.next=6;break}return i.next=3,B.a.awrap(Q.LibraryGroupAddresses({libraryId:t.libraryId,type:t.type}));case 3:e=i.sent,i.next=9;break;case 6:return i.next=8,B.a.awrap(Q.AccessGroupAddresses());case 8:e=i.sent;case 9:return i.next=11,B.a.awrap(e.limitedMap(Q.concurrencyLimit,(function _callee21(e){return B.a.async((function _callee21$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Q.GetAccessGroup({contractAddress:e,publicOnly:!0}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})));case 11:return a=i.sent,t.filter&&(a=a.filter((function(e){try{return e.name.toLowerCase().includes(t.filter.toLowerCase())||e.address.toLowerCase().includes(t.filter.toLowerCase())}catch(e){return!1}}))),a=a.sort((function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1})),r=a.length,t.paginate&&(n=(t.page||1)-1,o=t.perPage||10,a=a.slice(n*o,(n+1)*o)),s={},a.forEach((function(e){return s[Q.utils.FormatAddress(e.address)]=e})),i.abrupt("return",{accessGroups:s,count:r});case 19:case"end":return i.stop()}}))}()},GetAccessGroup:function GetAccessGroup(e){var t=e.contractAddress,a=e.publicOnly,r=void 0!==a&&a;return function _callee23(){var e,a,n,o,s;return B.a.async((function _callee23$(i){for(;;)switch(i.prev=i.next){case 0:return t=Q.utils.FormatAddress(t),i.next=3,B.a.awrap(Q.CurrentAccountAddress());case 3:return e=i.sent,o={},s=!1,i.prev=6,i.t0=Q.utils,i.next=10,B.a.awrap(Z.CallContractMethod({contractAddress:t,methodName:"owner"}));case 10:return i.t1=i.sent,a=i.t0.FormatAddress.call(i.t0,i.t1),i.next=14,B.a.awrap(Z.userProfileClient.PublicUserMetadata({address:a,metadataSubtree:"name"}));case 14:return n=i.sent,i.next=17,B.a.awrap(Z.CallContractMethod({contractAddress:t,methodName:"hasManagerAccess",methodArgs:[Z.utils.FormatAddress(e)]}));case 17:if(s=i.sent,!r){i.next=28;break}return i.next=21,B.a.awrap(Z.ContentObjectMetadata({libraryId:Q.contentSpaceLibraryId,objectId:Z.utils.AddressToObjectId(t),metadataSubtree:"public"}));case 21:if(i.t2=i.sent,i.t2){i.next=24;break}i.t2={};case 24:i.t3=i.t2,o={public:i.t3},i.next=34;break;case 28:return i.next=30,B.a.awrap(Z.ContentObjectMetadata({libraryId:Q.contentSpaceLibraryId,objectId:Z.utils.AddressToObjectId(t)}));case 30:if(i.t4=i.sent,i.t4){i.next=33;break}i.t4={};case 33:o=i.t4;case 34:i.next=39;break;case 36:i.prev=36,i.t5=i.catch(6),console.error(i.t5);case 39:return i.abrupt("return",{address:t,name:o.public&&o.public.name||o.name||t,description:o.public&&o.public.description||o.description,oauthIssuer:o.oauthIssuer,oauthClaims:o.oauthClaims,metadata:o,owner:a,ownerName:n,isManager:s,isOwner:Z.utils.EqualAddress(a,e)});case 40:case"end":return i.stop()}}),null,null,[[6,36]])}()},ListAccessGroupMembers:function ListAccessGroupMembers(e){var t=e.contractAddress,a=e.showManagers,r=void 0!==a&&a,n=e.params;return function _callee25(){var e,a,o,s,i,c,l;return B.a.async((function _callee25$(u){for(;;)switch(u.prev=u.next){case 0:if(!r){u.next=6;break}return u.next=3,B.a.awrap(Z.AccessGroupManagers({contractAddress:t}));case 3:u.t0=u.sent,u.next=9;break;case 6:return u.next=8,B.a.awrap(Z.AccessGroupMembers({contractAddress:t}));case 8:u.t0=u.sent;case 9:return e=u.t0,u.next=12,B.a.awrap(e.limitedMap(Q.concurrencyLimit,(function _callee24(e){var t;return B.a.async((function _callee24$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Z.userProfileClient.PublicUserMetadata({address:e,metadataSubtree:"name"}));case 2:return t=a.sent,a.abrupt("return",{name:t||e,address:e});case 4:case"end":return a.stop()}}))})));case 12:return a=u.sent,u.next=15,B.a.awrap(Q.CurrentAccountAddress());case 15:return o=u.sent,s=(s=Object.values(a)).map((function(e){return _objectSpread({},e,{isCurrentAccount:Object(J.c)(e.address,o)})})),n.filter&&(s=s.filter((function(e){try{return e.name.toLowerCase().includes(n.filter.toLowerCase())||e.address.toLowerCase().includes(n.filter.toLowerCase())}catch(e){return!1}}))),s=s.sort((function(e,t){var a=e.name||"zz",r=t.name||"zz";return a.toLowerCase()>r.toLowerCase()?1:-1})),i=s.length,n.paginate&&(c=(n.page||1)-1,l=n.perPage||10,s=s.slice(c*l,(c+1)*l)),a={},s.forEach((function(e){return a[e.address]=e})),u.abrupt("return",{members:a,count:i});case 25:case"end":return u.stop()}}))}()}},X=Q,ee=a(5),te=a.n(ee),ae=a(2),re=a.n(ae),ne=function PageHeader(e){var t=e.header,a=e.subHeader;return a&&(a=i.a.createElement("h3",{className:"page-subheader"},a)),i.a.createElement("div",{className:"page-header-container"},i.a.createElement("h3",{className:"page-header with-subHeader"},t),a)};ne.propTypes={header:re.a.string.isRequired,subHeader:re.a.string};var oe,se,ie=a(18),ce=a.n(ie),le=a(83),ue=a.n(le),pe=a(84),de=a.n(pe),me=a(40),be=a.n(me),he=a(22),fe=a.n(he),ye=Object(T.c)(oe=function(e){function ListingItem(e){var t;return m()(this,ListingItem),(t=y()(this,v()(ListingItem).call(this,e))).state={},t}return C()(ListingItem,e),h()(ListingItem,[{key:"Redirect",value:function Redirect(e){this.setState({redirect:e})}},{key:"AsTableRow",value:function AsTableRow(){var e="listing-row",t=[i.a.createElement("div",{key:"listing-title-".concat(this.props.id),title:this.props.title},i.a.createElement("div",{className:"title cropped-text",tabIndex:-1},this.props.title)),i.a.createElement("div",{key:"listing-description-".concat(this.props.id),title:this.props.description},i.a.createElement("div",{className:"description cropped-text",tabIndex:-1},this.props.description))];if(this.props.noIcon)e+=" listing-row-no-icon";else{var a="string"==typeof this.props.icon&&this.props.icon.startsWith("<svg");t.unshift(i.a.createElement("div",{key:"listing-icon-".concat(this.props.id),hidden:this.props.noIcon,className:"icon-container ".concat(a?"svg-icon-container":"")},i.a.createElement(M.n,{icon:this.props.icon})))}return this.props.noStatus?e+=" listing-row-no-status":t.push(i.a.createElement("div",{key:"listing-status-".concat(this.props.id),className:"status",title:this.props.status,hidden:this.props.noStatus},this.props.status)),i.a.createElement(l.b,{title:this.props.title,to:this.props.link,"aria-label":this.props.title,className:e},t)}},{key:"AsGridElement",value:function AsGridElement(){var e="string"==typeof this.props.icon&&this.props.icon.startsWith("<svg");return i.a.createElement(l.b,{to:this.props.link,title:this.props.title,"aria-label":this.props.title,className:"grid-listing-element"},i.a.createElement("div",{className:"icon-container ".concat(e?"svg-icon-container":"")},i.a.createElement(M.n,{icon:this.props.icon})),i.a.createElement("div",{className:"listing-info"},i.a.createElement("div",{className:"title"},this.props.title),i.a.createElement("div",{className:"description",title:this.props.description},this.props.description),i.a.createElement("div",{className:"status"},this.props.status)))}},{key:"render",value:function render(){return this.state.redirect?i.a.createElement(x.b,{push:!0,to:this.state.redirect}):"list"===this.props.display?this.AsTableRow():this.AsGridElement()}}]),ListingItem}(i.a.Component))||oe;ye.propTypes={id:re.a.string.isRequired,title:re.a.string.isRequired,description:re.a.string,status:re.a.oneOfType([re.a.string,re.a.node]),icon:re.a.oneOfType([re.a.element,re.a.string]),link:re.a.string,noIcon:re.a.bool};var ge=Object(T.c)(se=function(e){function Listing(){return m()(this,Listing),y()(this,v()(Listing).apply(this,arguments))}return C()(Listing,e),h()(Listing,[{key:"render",value:function render(){var e=this;if(!this.props.count||0===this.props.count)return null;var t=this.props.RenderContent();return t&&0!==t.length?"list"===this.props.display?i.a.createElement("div",{className:"table-listing"},t.map((function(t){return i.a.createElement(ye,fe()({key:t.id,display:"list",noIcon:e.props.noIcon,noStatus:e.props.noStatus},t))}))):i.a.createElement("div",{className:"grid-listing"},t.map((function(t){return i.a.createElement(ye,fe()({key:t.id,display:"grid",noIcon:e.props.noIcon,noStatus:e.props.noStatus},t))}))):null}}]),Listing}(i.a.Component))||se;ge.propTypes={count:re.a.number,display:re.a.string.isRequired,RenderContent:re.a.func.isRequired,noIcon:re.a.bool,noStatus:re.a.bool};var ve,we,Ce,xe=ge,ke=a(62),je={},Se=Object(T.b)("libraryStore")(ve=Object(T.c)((Ce=we=function(e){function Listing(e){var t;m()(this,Listing),t=y()(this,v()(Listing).call(this,e));var a=je[e.pageId]||{display:"list",perPage:10};return je[e.pageId]=a,t.state={display:a.display,perPage:a.perPage,page:e.page||1,selectFilter:t.props.selectFilterOptions?a.filter||t.props.selectFilterOptions[0][1]:"",filter:e.filter||"",filterTimeout:void 0,status:{loading:!0,error:""}},t.Load=t.Load.bind(te()(t)),t.Filter=t.Filter.bind(te()(t)),t.ChangeSelectFilter=t.ChangeSelectFilter.bind(te()(t)),t}return C()(Listing,e),h()(Listing,[{key:"componentDidMount",value:function componentDidMount(){this.Load(Listing.ACTIONS.initial)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancelable&&this.cancelable.cancelAll()}},{key:"Load",value:function Load(e){return B.a.async((function Load$(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({status:{loading:!0,error:""}}),t.prev=1,this.cancelable&&this.cancelable.cancelAll(),this.cancelable=new ke.CancelableEvents,t.next=6,B.a.awrap(this.props.LoadContent({action:e,params:{paginate:!0,page:this.state.page,perPage:this.state.perPage,filter:this.state.filter,selectFilter:this.state.selectFilter,cancelable:this.cancelable}}));case 6:this.setState({status:{loading:!1,error:""}}),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(1),!Object(ke.isCancelledPromiseError)(t.t0)){t.next=13;break}return t.abrupt("return");case 13:this.setState({status:{loading:!1,error:t.t0.message}});case 14:case"end":return t.stop()}}),null,this,[[1,9]])}},{key:"SwitchView",value:function SwitchView(e){je[this.props.pageId].display=e,this.setState({display:e})}},{key:"ChangePage",value:function ChangePage(e){var t=this;this.setState({page:e},(function(){return t.Load(Listing.ACTIONS.page)}))}},{key:"ChangeSelectFilter",value:function ChangeSelectFilter(e){var t=this;je[this.props.pageId].filter=e.target.value,this.setState({page:1,selectFilter:e.target.value},(function(){return t.Load(Listing.ACTIONS.filter)}))}},{key:"Filter",value:function Filter(e){var t=this,a=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({page:1,filter:a,filterTimeout:setTimeout((function(){return t.Load(Listing.ACTIONS.filter)}),500)})}},{key:"SelectFilter",value:function SelectFilter(){if(this.props.selectFilterOptions){var e=this.props.selectFilterOptions.map((function(e){var t=ce()(e,2),a=t[0],r=t[1];return i.a.createElement("option",{key:"select-option-".concat(r),value:r},a)}));return i.a.createElement("select",{name:"selectFilter",value:this.state.selectFilter,title:this.props.selectFilterLabel,"aria-label":this.props.selectFilterLabel,onChange:this.ChangeSelectFilter},e)}}},{key:"PageButton",value:function PageButton(e,t,a,r){var n=this,o=t!==a;return i.a.createElement("li",{key:e},i.a.createElement("button",{title:"Page "+a,"aria-label":"Page "+a,onClick:function onClick(){return n.ChangePage(a)},onKeyPress:function onKeyPress(){return n.ChangePage(a)},disabled:r,className:"page-button ".concat(o?"text-button":""," ").concat(!o&&r?"selected":"")},t.toString()))}},{key:"PageSpread",value:function PageSpread(){var e=this;if(this.props.count){var t=Math.ceil(this.props.count/this.state.perPage),a=1,r=Math.min(10,t);this.state.page>=5&&(r=(a=this.state.page-4)+9)>t&&(r=t,a=Math.max(t-9,1));var n=r-a+1;return V()(Array(n).keys()).map((function(t){var r=a+t;return e.PageButton("Page "+r,r,r,r===e.state.page)}))}}},{key:"PreviousPageButtons",value:function PreviousPageButtons(){var e=this.state.page<=1;return[this.PageButton("First Page","First",1,e),this.PageButton("Previous Page","Prev",this.state.page-1,e)]}},{key:"NextPageButtons",value:function NextPageButtons(){var e=Math.ceil(this.props.count/this.state.perPage),t=this.state.page*this.state.perPage>=this.props.count;return[this.PageButton("Next Page","Next",this.state.page+1,t),this.PageButton("Last Page","Last",e,t)]}},{key:"PaginationControls",value:function PaginationControls(){if(this.props.paginate)return i.a.createElement("ul",{className:"page-controls"},this.PreviousPageButtons(),this.PageSpread(),this.NextPageButtons())}},{key:"PerPageControls",value:function PerPageControls(){var e=this;return i.a.createElement("select",{className:"per-page-controls",disabled:this.state.status.loading,value:this.state.perPage,onChange:function onChange(t){var a=parseInt(t.target.value);e.setState({page:1,perPage:a},(function(){return e.Load(Listing.ACTIONS.page)})),je[e.props.pageId].perPage=a}},i.a.createElement("option",{value:5},"5"),i.a.createElement("option",{value:10},"10"),i.a.createElement("option",{value:20},"20"),i.a.createElement("option",{value:50},"50"),i.a.createElement("option",{value:100},"100"))}},{key:"Actions",value:function Actions(){var e,t=this;return this.props.noIcon||(e="list"===this.state.display?i.a.createElement(M.m,{className:"listing-action",icon:ue.a,label:"Switch to grid view",onClick:function onClick(){return t.SwitchView("grid")}}):i.a.createElement(M.m,{className:"listing-action",icon:de.a,label:"Switch to list view",onClick:function onClick(){return t.SwitchView("list")}})),i.a.createElement("div",{className:"listing-actions"},i.a.createElement("div",{className:"controls"},this.PaginationControls(),this.PerPageControls()),i.a.createElement("div",{className:"controls right-controls"},i.a.createElement("input",{className:"filter",placeholder:"Filter",value:this.state.filter,onChange:this.Filter}),this.SelectFilter(),e,i.a.createElement(M.p,{loadingClassname:"loading-action",loading:this.state.status.loading,loadingIcon:"rotate"},i.a.createElement(M.m,{className:"listing-action",icon:be.a,label:"Refresh",onClick:function onClick(){return t.Load(Listing.ACTIONS.reload)}}))))}},{key:"Count",value:function Count(){if(0===this.props.count)return i.a.createElement("div",{className:"listing-count listing-empty"},"No results to display");if(!this.props.count)return null;var e=(this.state.page-1)*this.state.perPage+1,t=Math.min(e+this.state.perPage-1,this.props.count);return i.a.createElement("div",{className:"listing-count"},"Displaying results ".concat(e," - ").concat(t," of ").concat(this.props.count))}},{key:"render",value:function render(){var e=this;return this.state.status.error?i.a.createElement("div",{className:"error-page"},i.a.createElement("div",null,"There was a problem loading this page:"),i.a.createElement("div",{className:"error-message"},this.state.status.error),i.a.createElement(M.p,{loading:this.state.status.loading,loadingIcon:"rotate"},i.a.createElement(M.a,{onClick:function onClick(){return e.Load(Listing.ACTIONS.reload)}},"Try Again"))):i.a.createElement("div",{key:"listing-".concat(this.props.pageId),className:"listing ".concat(this.props.className||"")},this.Actions(),i.a.createElement(M.p,{loading:this.state.status.loading,loadingClassname:"loading",loadingIcon:"rotate"},this.Count(),i.a.createElement(xe,{count:this.props.count,display:this.state.display,noIcon:this.props.noIcon,noStatus:this.props.noStatus,RenderContent:this.props.RenderContent})))}}]),Listing}(i.a.Component),we.ACTIONS={initial:"INITIAL",page:"PAGE_CHANGE",filter:"FILTER",reload:"RELOAD"},ve=Ce))||ve)||ve;Se.propTypes={pageId:re.a.string.isRequired,className:re.a.string,noIcon:re.a.bool,noStatus:re.a.bool,paginate:re.a.bool,page:re.a.number,filter:re.a.string,count:re.a.number,selectFilterLabel:re.a.string,selectFilterOptions:re.a.arrayOf(re.a.arrayOf(re.a.string)),RenderContent:re.a.func.isRequired,LoadContent:re.a.func.isRequired};var Ie,Ee=Se,Oe=Object(T.b)("libraryStore")(Ie=Object(T.c)(Ie=function(e){function ContentLibraries(e){var t;return m()(this,ContentLibraries),(t=y()(this,v()(ContentLibraries).call(this,e))).state={},t.ContentLibraries=t.ContentLibraries.bind(te()(t)),t}return C()(ContentLibraries,e),h()(ContentLibraries,[{key:"ContentLibraries",value:function ContentLibraries(){var e=this;return this.props.libraryStore.libraries?Object.keys(this.props.libraryStore.libraries).sort().map((function(t){var a=e.props.libraryStore.libraries[t];return{id:t,sortKey:a.name||"zz",title:a.name||"Content Library "+t,description:a.description,icon:a.imageUrl||I.a,link:p()("/content",t)}})).sort((function(e,t){return e.sortKey.toLowerCase()>t.sortKey.toLowerCase()?1:-1})):[]}},{key:"render",value:function render(){return i.a.createElement("div",{className:"page-container contents-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:p()("/content","create")},"New Library")),i.a.createElement(ne,{header:"Content Libraries"}),i.a.createElement("div",{className:"page-content"},i.a.createElement(Ee,{pageId:"ContentLibraries",paginate:!0,count:this.props.libraryStore.count,selectFilterLabel:"Library Types",selectFilterOptions:[["Content","content"],["All","all"],["Eluvio Media Platform","elv-media-platform"]],LoadContent:this.props.libraryStore.ListContentLibraries,RenderContent:this.ContentLibraries})))}}]),ContentLibraries}(i.a.Component))||Ie)||Ie,Ae=a(15),Fe=a.n(Ae),Ne=a(55),Le=a.n(Ne),_e=function Copyable(e){var t=e.copy,a=e.children,r=e.className;return i.a.createElement("span",{className:"copyable ".concat(r||"")},a,i.a.createElement(M.h,{copy:t||a},i.a.createElement(M.n,{className:"copy-icon",icon:Le.a})))};_e.propTypes={copy:re.a.string.isRequired,children:re.a.oneOfType([re.a.node,re.a.string]).isRequired};var Pe=function LabelledField(e){var t=e.label,a=e.value,r=e.children,n=e.copyValue,o=e.editable,s=void 0!==o&&o,c=e.type,l=void 0===c?"input":c,u=e.onChange,p=e.alignTop,d=void 0!==p&&p,m=e.wideLabel,b=void 0!==m&&m,h=e.hidden,f=void 0!==h&&h,y=e.className,g=void 0===y?"":y;"string"==typeof t&&t.length>0&&(t+=":");var v=b?"wide":"",w=i.a.createElement("div",{"aria-label":t,title:a},r||a);return n?w=i.a.createElement(_e,{copy:n},w):s&&(w=i.a.createElement(M.j,{value:r||a,type:l,onChange:u,truncate:"textarea"===l,lines:3,className:"editable-field",editClassName:"editing-field"})),i.a.createElement("div",{className:"labelled-field "+g+(f?" hidden":"")+(d||"textarea"===l?"align-top":"")},i.a.createElement("label",{htmlFor:t,className:v},t),w)},Me=function(e){function ClippedText(e){var t;return m()(this,ClippedText),(t=y()(this,v()(ClippedText).call(this,e))).state={showMore:!1},t.ToggleVisibility=t.ToggleVisibility.bind(te()(t)),t}return C()(ClippedText,e),h()(ClippedText,[{key:"ToggleVisibility",value:function ToggleVisibility(){this.setState({showMore:!this.state.showMore})}},{key:"render",value:function render(){var e=this.state.showMore?"clipped-text show ":"clipped-text hide ",t=this.state.showMore?"cover show-less":"cover show-more",a=this.state.showMore?"Show less":"Show more";return i.a.createElement("div",{className:e+(this.props.className||""),title:a,"aria-label":a},i.a.createElement("pre",{className:"text"},this.props.text),i.a.createElement("div",{className:t,onClick:this.ToggleVisibility,onKeyPress:this.ToggleVisibility}))}}]),ClippedText}(i.a.Component);Me.propTypes={text:re.a.string};var Te,Ge=Me,He=(a(66),Object(T.c)(Te=function(e){function AsyncComponent(e){var t;return m()(this,AsyncComponent),(t=y()(this,v()(AsyncComponent).call(this,e))).state={loading:!0},t}return C()(AsyncComponent,e),h()(AsyncComponent,[{key:"componentDidMount",value:function componentDidMount(){return B.a.async((function componentDidMount$(e){for(;;)switch(e.prev=e.next){case 0:return this.mounted=!0,e.next=3,B.a.awrap(new Promise((function(e){return setTimeout(e,50)})));case 3:if(this.mounted){e.next=5;break}return e.abrupt("return");case 5:return this.setState({loading:!0}),e.prev=6,e.next=9,B.a.awrap(this.props.Load());case 9:this.mounted&&this.setState({loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),this.setState({error:e.t0});case 15:case"end":return e.stop()}}),null,this,[[6,12]])}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"render",value:function render(){if(this.state.error)throw this.state.error;return this.state.loading?i.a.createElement("div",{className:"-elv-async-component -elv-async-component-loading"},i.a.createElement(M.e,null)):this.props.render?this.props.render():this.props.children}}]),AsyncComponent}(i.a.Component))||Te);He.propTypes={Load:re.a.func.isRequired,render:re.a.func,children:re.a.node};var De,ze,Re,$e,Be,Ue,Ve=Object(M.k)(He),qe=function ToggleSection(e){var t=e.label,a=e.children,r=e.className,n=void 0===r?"":r,o=Object(s.useState)(!1),c=ce()(o,2),l=c[0],u=c[1];return i.a.createElement("div",{className:"formatted-data ".concat(n||"")},i.a.createElement(Pe,{label:t},i.a.createElement(M.a,{className:"action-compact action-wide "+(l?"":"secondary"),onClick:function onClick(){return u(!l)}},"".concat(l?"Hide":"Show"," ").concat(t))),l?a:null)},We=function JSONField(e){var t=e.json;if(!t||0===Object.keys(t).length)return i.a.createElement("pre",{className:"content-object-data"},JSON.stringify(t,null,2));var a=Object(s.useState)(!1),r=ce()(a,2),n=r[0],o=r[1],c=i.a.createElement(M.u,{selected:n,onChange:function onChange(e){return o(e)},options:[["Formatted",!1],["Raw",!0]],className:"secondary"}),l=n?i.a.createElement("pre",{className:"content-object-data"},JSON.stringify(t,null,2)):i.a.createElement(M.w,{json:t});return i.a.createElement(i.a.Fragment,null,c,l)},Ke=Object(T.b)("libraryStore")(De=Object(T.c)(De=function(e){function ContentLibrary(e){var t;return m()(this,ContentLibrary),(t=y()(this,v()(ContentLibrary).call(this,e))).state={view:"content",groupsView:"accessor",version:0,pageVersion:0},t.PageContent=t.PageContent.bind(te()(t)),t.ContentObjects=t.ContentObjects.bind(te()(t)),t.AccessGroups=t.AccessGroups.bind(te()(t)),t}return C()(ContentLibrary,e),h()(ContentLibrary,[{key:"LibraryContentTypes",value:function LibraryContentTypes(){var e=this.props.libraryStore.library.types;if(0===Object.keys(e).length)return null;var t=Object.values(e).map((function(e){return i.a.createElement(l.b,{key:"library-content-type-".concat(e.id),className:"inline-link",to:p()("/content-types",e.id)},e.meta.name||e.id)}));return i.a.createElement("div",null,i.a.createElement(Pe,{label:"Content Types",alignTop:!0},i.a.createElement("div",{className:"comma-separated-list"},t)),i.a.createElement("br",null))}},{key:"AccessGroups",value:function AccessGroups(){var e=this.props.libraryStore.library["".concat(this.state.groupsView,"Groups")];return e?Object.keys(e).map((function(t){var a=e[t];return{id:t,sortKey:(a.name||"zz").toLowerCase(),title:a.name||t,description:a.description,link:p()("/access-groups",t)}})).sort((function(e,t){return e.sortKey.toLowerCase()>t.sortKey.toLowerCase()?1:-1})):[]}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this,t=this.state.groupsView;return i.a.createElement("div",null,i.a.createElement(M.u,{options:[["Accessors","accessor"],["Contributors","contributor"],["Reviewers","reviewer"]],className:"secondary",selected:this.state.groupsView,onChange:function onChange(t){return e.setState({groupsView:t})}}),i.a.createElement(Ee,{key:"library-access-group-listing-".concat(this.state.groupsView),className:"compact",pageId:"LibraryAccessGroups",noIcon:!0,noStatus:!0,paginate:!0,count:this.props.libraryStore.library["".concat(t,"GroupsCount")]||0,LoadContent:function _callee(t){var a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,B.a.awrap(e.props.libraryStore.ListLibraryGroups({libraryId:e.props.libraryStore.libraryId,type:e.state.groupsView,params:a}));case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}}))},RenderContent:this.AccessGroups}))}},{key:"ContentObjects",value:function ContentObjects(){var e=this;return this.props.libraryStore.library.objects?Object.keys(this.props.libraryStore.library.objects).map((function(t){var a,r=e.props.libraryStore.library.objects[t];return r.accessInfo&&(a=Object(J.a)(r.accessInfo.accessCharge)),{id:t,sortKey:(r.name||"zz").toLowerCase(),title:r.name||t,description:r.description,status:a,icon:r.imageUrl||I.a,link:p()(e.props.match.url,t)}})).sort((function(e,t){return e.sortKey.toLowerCase()>t.sortKey.toLowerCase()?1:-1})):[]}},{key:"ObjectListing",value:function ObjectListing(){var e=this;return i.a.createElement(Ee,{key:"library-objects-view",pageId:"ContentObjects",paginate:!0,page:this.props.libraryStore.library.listingParams.page,filter:this.props.libraryStore.library.listingParams.filter,count:this.props.libraryStore.library.objectsCount,LoadContent:function _callee2(t){var a,r;return B.a.async((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.action,r=t.params,a!==Ee.ACTIONS.reload&&a!==Ee.ACTIONS.filter&&(r.cacheId=e.props.libraryStore.library.listingParams.cacheId),n.next=4,B.a.awrap(e.props.libraryStore.ListContentObjects({libraryId:e.props.libraryStore.libraryId,params:r}));case 4:e.setState({listingVersion:e.state.listingVersion+1});case 5:case"end":return n.stop()}}))},RenderContent:this.ContentObjects})}},{key:"LibraryImage",value:function LibraryImage(){return this.props.libraryStore.library.imageUrl?i.a.createElement("div",{className:"object-image"},i.a.createElement("img",{src:this.props.libraryStore.library.imageUrl})):null}},{key:"LibraryInfo",value:function LibraryInfo(){var e=this.props.libraryStore.library,t=i.a.createElement(Ge,{className:"object-description",text:e.description}),a=p()(this.props.match.url,e.libraryObjectId),r=this.props.libraryStore.library.objectsCount,n=r||0===r?i.a.createElement(Pe,{label:"Content Objects",value:r}):null,o=e.ownerName?i.a.createElement("span",null,e.ownerName,i.a.createElement("span",{className:"help-text"},"(",e.owner,")")):e.owner;return i.a.createElement("div",{className:"object-info label-box"},this.LibraryImage(),i.a.createElement(Pe,{label:"Name"},e.name),i.a.createElement(Pe,{label:"Description",alignTop:!0},t),i.a.createElement("br",null),i.a.createElement(Pe,{label:"Library ID"},this.props.libraryStore.libraryId),i.a.createElement(Pe,{label:"Library Object"},i.a.createElement(l.b,{className:"inline-link",to:a},e.libraryObjectId)),i.a.createElement(Pe,{label:"Contract Address"},i.a.createElement(l.b,{className:"inline-link",to:p()(a,"contract")},e.contractAddress)),i.a.createElement(Pe,{label:"KMS ID"},e.kmsId),i.a.createElement(Pe,{label:"Owner"},o),n,i.a.createElement("br",null),this.LibraryContentTypes(),i.a.createElement(qe,{label:"Public Metadata"},i.a.createElement("div",{className:"indented"},i.a.createElement(We,{json:e.publicMeta}))),i.a.createElement(qe,{label:"Private Metadata"},i.a.createElement("div",{className:"indented"},i.a.createElement(We,{json:e.privateMeta}))))}},{key:"Actions",value:function Actions(){var e,t=this,a=i.a.createElement(M.m,{className:"refresh-button",icon:be.a,label:"Refresh",onClick:function onClick(){t.props.libraryStore.ClearLibraryCache({libraryId:t.props.libraryStore.libraryId}),t.setState({pageVersion:t.state.pageVersion+1})}}),r=i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back");return this.props.libraryStore.library.canContribute&&(e=i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"create")},this.props.libraryStore.library.isContentSpaceLibrary?"New Content Type":"Contribute")),this.props.libraryStore.library.isOwner?i.a.createElement("div",{className:"actions-container"},r,i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"edit")},"Manage"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"types")},"Types"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"groups")},"Groups"),e,a):i.a.createElement("div",{className:"actions-container"},r,e,a)}},{key:"PageView",value:function PageView(){return"content"===this.state.view?this.ObjectListing():"info"===this.state.view?this.LibraryInfo():"groups"===this.state.view?this.AccessGroupsListing():void 0}},{key:"PageContent",value:function PageContent(){var e=this,t=i.a.createElement(M.u,{options:[["Content","content"],["Library Info","info"],["Access Groups","groups"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}});return i.a.createElement("div",{className:"page-container contents-page-container"},this.Actions(),i.a.createElement(ne,{header:this.props.libraryStore.library.name,subHeader:this.props.libraryStore.library.description}),t,i.a.createElement("div",{className:"page-content"},this.PageView()))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{key:"library-page-".concat(this.state.pageVersion),Load:function _callee3(){return B.a.async((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentLibrary}(i.a.Component))||De)||De,Je=Object(T.b)("libraryStore")(ze=Object(T.c)(ze=function(e){function ContentLibraryForm(e){var t;return m()(this,ContentLibraryForm),(t=y()(this,v()(ContentLibraryForm).call(this,e))).state={createForm:!e.libraryStore.libraryId,name:"",description:"",publicMetadata:"{}",privateMetadata:"{}",kmsId:"",imageSelection:""},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleImageChange=t.HandleImageChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentLibraryForm,e),h()(ContentLibraryForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleImageChange",value:function HandleImageChange(e){e.target.files&&this.setState({imageSelection:e.target.files[0]})}},{key:"HandleSubmit",value:function HandleSubmit(){var e,t;return B.a.async((function HandleSubmit$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.state.createForm?this.props.libraryStore.CreateContentLibrary:this.props.libraryStore.UpdateContentLibrary,a.next=3,B.a.awrap(e({libraryId:this.props.libraryStore.libraryId,name:this.state.name,description:this.state.description,publicMetadata:this.state.publicMetadata,privateMetadata:this.state.privateMetadata,image:this.state.imageSelection,kmsId:this.state.kmsId}));case 3:t=a.sent,this.setState({libraryId:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"Image",value:function Image(){return this.state.isContentSpaceLibrary?null:[i.a.createElement("label",{key:"image-selection-label",htmlFor:"imageSelection",className:"align-top"},"Image"),i.a.createElement(M.f,{key:"image-selection",name:"image",required:!1,multiple:!1,accept:"image/*",preview:!0,onChange:this.HandleImageChange})]}},{key:"PageContent",value:function PageContent(){var e=this.state.createForm?"Create content library":"Manage content library",t=Fe.a.dirname(this.props.match.url),a=this.state.createForm?p()(t,this.state.libraryId||""):t;return i.a.createElement("div",{className:"page-container"},i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement("div",{className:"page-content"},i.a.createElement(M.l,{legend:e,redirectPath:a,cancelPath:Fe.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange,disabled:this.state.isContentSpaceLibrary}),this.Image(),i.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),i.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"publicMetadata"},"Public Metadata"),i.a.createElement(M.o,{name:"publicMetadata",value:this.state.publicMetadata,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"privateMetadata"},"Private Metadata"),i.a.createElement(M.o,{name:"privateMetadata",value:this.state.privateMetadata,onChange:this.HandleInputChange}),i.a.createElement("label",{htmlFor:"kmsId"},"KMS ID",i.a.createElement("span",{className:"help-text",hidden:!this.state.createForm},"(optional)")),i.a.createElement("input",{name:"kmsId",value:this.state.kmsId,required:!1,onChange:this.HandleInputChange,disabled:!this.state.createForm})))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.createForm){t.next=4;break}return t.next=3,B.a.awrap(e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId}));case 3:e.setState({name:e.props.libraryStore.library.name||"",description:e.props.libraryStore.library.description||"",publicMetadata:JSON.stringify(e.props.libraryStore.library.publicMeta,null,2)||"",privateMetadata:JSON.stringify(e.props.libraryStore.library.privateMeta,null,2)||"",kmsId:e.props.libraryStore.library.kmsId||""});case 4:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentLibraryForm}(i.a.Component))||ze)||ze,Ze=Object(T.b)("libraryStore")(Re=Object(T.b)("groupStore")(Re=Object(T.c)(Re=function(e){function ContentLibraryGroupForm(e){var t;return m()(this,ContentLibraryGroupForm),(t=y()(this,v()(ContentLibraryGroupForm).call(this,e))).state={groupAddress:"",accessor:!1,reviewer:!1,contributor:!1},t.PageContent=t.PageContent.bind(te()(t)),t.HandleGroupChange=t.HandleGroupChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentLibraryGroupForm,e),h()(ContentLibraryGroupForm,[{key:"HandleGroupChange",value:function HandleGroupChange(e){var t=this.props.libraryStore.library.groupPermissions[e.target.value]||{};this.setState({groupAddress:e.target.value,accessor:!!t.accessor,contributor:!!t.contributor,reviewer:!!t.reviewer})}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.libraryStore.UpdateContentLibraryGroup({libraryId:this.props.libraryStore.libraryId,groupAddress:this.state.groupAddress,accessor:this.state.accessor,reviewer:this.state.reviewer,contributor:this.state.contributor}));case 2:case"end":return e.stop()}}),null,this)}},{key:"Groups",value:function Groups(){var e=this,t=Object.values(this.props.groupStore.accessGroups).map((function(e){return i.a.createElement("option",{key:"group-".concat(e.address),value:e.address},e.name)}));return t=[].concat(V()(t),[i.a.createElement("option",{key:"group-address-other",value:""},"<other>")]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"groupAddress"},"Access Group"),i.a.createElement("select",{name:"groupAddress",onChange:this.HandleGroupChange},t),i.a.createElement("label",{htmlFor:"groupAddress"},"Address"),i.a.createElement("input",{name:"groupAddress",value:this.state.groupAddress,disabled:Object.keys(this.props.groupStore.accessGroups).includes(this.state.groupAddress),onChange:function onChange(t){return e.setState({groupAddress:t.target.value})}}))}},{key:"PageContent",value:function PageContent(){var e=this,t=Fe.a.dirname(this.props.match.url);return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Manage access group permissions for '".concat(this.props.libraryStore.library.name||this.props.libraryStore.libraryId,"'"),redirectPath:t,cancelPath:t,OnSubmit:this.HandleSubmit,className:"small-form"},i.a.createElement("div",{className:"form-content"},this.Groups(),i.a.createElement("label",{htmlFor:"accessor"},"Accessor"),i.a.createElement("input",{type:"checkbox",checked:this.state.accessor,onChange:function onChange(){return e.setState({accessor:!e.state.accessor})}}),i.a.createElement("label",{htmlFor:"contributor"},"Contributor"),i.a.createElement("input",{type:"checkbox",checked:this.state.contributor,onChange:function onChange(){return e.setState({contributor:!e.state.contributor})}}),i.a.createElement("label",{htmlFor:"reviewer"},"Reviewer"),i.a.createElement("input",{type:"checkbox",checked:this.state.reviewer,onChange:function onChange(){return e.setState({reviewer:!e.state.reviewer})}}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){var t;return B.a.async((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(e.props.groupStore.ListAccessGroups({params:{}}));case 2:return a.next=4,B.a.awrap(e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId}));case 4:return a.next=6,B.a.awrap(e.props.libraryStore.ContentLibraryGroupPermissions({libraryId:e.props.libraryStore.libraryId}));case 6:(t=Object.keys(e.props.groupStore.accessGroups)[0])&&e.HandleGroupChange({target:{value:t}});case 8:case"end":return a.stop()}}))},render:this.PageContent})}}]),ContentLibraryGroupForm}(i.a.Component))||Re)||Re)||Re,Ye=a(37),Qe=a.n(Ye),Xe=Object(T.b)("libraryStore")($e=Object(T.b)("typeStore")($e=Object(T.c)($e=function(e){function ContentLibraryTypesForm(e){var t;return m()(this,ContentLibraryTypesForm),(t=y()(this,v()(ContentLibraryTypesForm).call(this,e))).state={selectedTypeIds:[],selectedTypeId:""},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleAddType=t.HandleAddType.bind(te()(t)),t.HandleRemoveType=t.HandleRemoveType.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentLibraryTypesForm,e),h()(ContentLibraryTypesForm,[{key:"componentDidMount",value:function componentDidMount(){this.SetSelectedType()}},{key:"SetSelectedType",value:function SetSelectedType(){var e=this.AvailableTypes()[0];this.setState({selectedTypeId:e&&e.id})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleAddType",value:function HandleAddType(){this.setState({selectedTypeIds:this.state.selectedTypeIds.concat([this.state.selectedTypeId])},this.SetSelectedType)}},{key:"HandleRemoveType",value:function HandleRemoveType(e){this.setState({selectedTypeIds:this.state.selectedTypeIds.filter((function(t){return t!==e}))},this.SetSelectedType)}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.libraryStore.UpdateContentLibraryTypes({libraryId:this.props.libraryStore.libraryId,typeIds:this.state.selectedTypeIds}));case 2:case"end":return e.stop()}}),null,this)}},{key:"AvailableTypes",value:function AvailableTypes(){var e=this;return Object.values(this.props.typeStore.allTypes).filter((function(t){return!e.state.selectedTypeIds.includes(t.id)})).sort((function(e,t){return e.meta.name<t.meta.name?-1:1}))}},{key:"TypeSelector",value:function TypeSelector(){var e=this.AvailableTypes().map((function(e){var t=e.meta.name||e.id;return i.a.createElement("option",{name:"selectedTypeId",key:e.id,value:e.id},t)})),t=0===e.length;return i.a.createElement("div",{className:"inline-inputs"},i.a.createElement("select",{name:"selectedTypeId",value:this.state.selectedTypeId,onChange:this.HandleInputChange,disabled:t},e),i.a.createElement(M.a,{className:"action-compact",onClick:this.HandleAddType,disabled:t},"Add"))}},{key:"SelectedTypes",value:function SelectedTypes(){var e=this;return 0===this.state.selectedTypeIds.length?null:this.state.selectedTypeIds.map((function(t){var a=Object.values(e.props.typeStore.allTypes).find((function(e){return e.id===t}));return i.a.createElement("div",{className:"list-item",key:"added-type-"+a.id},i.a.createElement("span",null,a.meta.name||a.id),i.a.createElement(M.m,{icon:Qe.a,onClick:function onClick(){return e.HandleRemoveType(a.id)}}))}))}},{key:"PageContent",value:function PageContent(){return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Manage Library Types",redirectPath:Fe.a.dirname(this.props.match.url),cancelPath:Fe.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit,className:"small-form"},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"typeId"},"Content Types"),this.TypeSelector(),i.a.createElement("label",null),i.a.createElement("div",{className:"list bordered-list"},this.SelectedTypes()))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.libraryStore.ContentLibrary({libraryId:e.props.libraryStore.libraryId}));case 2:return t.next=4,B.a.awrap(e.props.typeStore.ContentTypes());case 4:e.setState({selectedTypeId:Object.keys(e.props.typeStore.allTypes)[0],selectedTypeIds:Object.values(e.props.libraryStore.library.types).map((function(e){return e.id}))});case 5:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentLibraryTypesForm}(i.a.Component))||$e)||$e)||$e,et=Object(T.b)("typeStore")(Be=Object(T.c)(Be=function(e){function ContentTypes(e){var t;return m()(this,ContentTypes),(t=y()(this,v()(ContentTypes).call(this,e))).state={listingVersion:0},t.ContentTypes=t.ContentTypes.bind(te()(t)),t}return C()(ContentTypes,e),h()(ContentTypes,[{key:"ContentTypes",value:function ContentTypes(){var e=this;return this.props.typeStore.types?Object.keys(this.props.typeStore.types).sort().map((function(t){var a=e.props.typeStore.types[t];return{id:t,sortKey:a.name||"zz",title:a.name||"Content Type "+t,description:a.description,icon:I.a,link:p()("/content-types",t)}})).sort((function(e,t){return e.sortKey.toLowerCase()>t.sortKey.toLowerCase()?1:-1})):[]}},{key:"render",value:function render(){var e=this;return i.a.createElement("div",{className:"page-container contents-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:p()("/content-types","create")},"New Content Type")),i.a.createElement(ne,{header:"Content Types"}),i.a.createElement("div",{className:"page-content"},i.a.createElement(Ee,{pageId:"ContentTypes",paginate:!0,count:this.props.typeStore.count,LoadContent:function _callee(t){var a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,B.a.awrap(e.props.typeStore.ListContentTypes({params:a}));case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}}))},RenderContent:this.ContentTypes})))}}]),ContentTypes}(i.a.Component))||Be)||Be,tt=Object(T.b)("typeStore")(Ue=Object(T.c)(Ue=function(e){function ContentTypeForm(e){var t;return m()(this,ContentTypeForm),(t=y()(this,v()(ContentTypeForm).call(this,e))).state={createForm:!t.props.typeStore.typeId,name:"",description:"",metadata:"",redirectPath:Fe.a.dirname(t.props.match.url)},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleBitcodeChange=t.HandleBitcodeChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentTypeForm,e),h()(ContentTypeForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleBitcodeChange",value:function HandleBitcodeChange(e){this.setState({bitcode:e.target.files[0]})}},{key:"HandleSubmit",value:function HandleSubmit(){var e,t;return B.a.async((function HandleSubmit$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.state.createForm?this.props.typeStore.CreateContentType:this.props.typeStore.UpdateContentType,a.next=3,B.a.awrap(e({typeId:this.props.typeStore.typeId,name:this.state.name,description:this.state.description,metadata:this.state.metadata,bitcode:this.state.bitcode}));case 3:t=a.sent,this.setState({typeId:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"BitcodeSelection",value:function BitcodeSelection(){return[i.a.createElement("label",{key:"bitcode-selection-label",htmlFor:"bitcode"},"Bitcode"),i.a.createElement(M.f,{key:"bitcode-selection",name:"bitcode",required:!1,multiple:!1,accept:".bc",onChange:this.HandleBitcodeChange})]}},{key:"PageContent",value:function PageContent(){var e=this.state.createForm?"Create content type":"Manage content type",t=Fe.a.dirname(this.props.match.url),a=this.state.createForm?p()(t,this.state.typeId||""):t;return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:e,redirectPath:a,cancelPath:t,OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange}),this.BitcodeSelection(),i.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),i.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"metadata"},"Metadata"),i.a.createElement(M.o,{name:"metadata",value:this.state.metadata,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.createForm){t.next=4;break}return t.next=3,B.a.awrap(e.props.typeStore.ContentType({typeId:e.props.typeStore.typeId}));case 3:e.setState({name:e.props.typeStore.type.name,description:e.props.typeStore.type.description,metadata:JSON.stringify(e.props.typeStore.type.meta,null,2)});case 4:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentTypeForm}(i.a.Component))||Ue)||Ue,at=a(32),rt=a.n(at),nt=function _callee(e,t){var a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:(a=document.createElement("a")).href=e,a.download=t,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e);case 8:case"end":return r.stop()}}))},ot=function _callee3(e,t){var a,r,n=arguments;return B.a.async((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return a=n.length>2&&void 0!==n[2]&&n[2],r=n.length>3?n[3]:void 0,e="."===e?"":e,o.next=5,B.a.awrap(Promise.all(Array.from(t).map((function _callee2(t){var n,o;return B.a.async((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(!a){s.next=4;break}s.t0=void 0,s.next=7;break;case 4:return s.next=6,B.a.awrap(new Response(t).arrayBuffer());case 6:s.t0=s.sent;case 7:return n=s.t0,o=t.overrideName||t.webkitRelativePath||t.name,r&&(o=o.split("/")[1]),s.abrupt("return",{path:p()(e,o).replace(/^\/+/g,""),type:"file",mime_type:t.type,size:t.size,data:n});case 11:case"end":return s.stop()}}))}))));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}))},st=a(36),it=a.n(st),ct=function(e){function FileUploadWidget(e){var t;return m()(this,FileUploadWidget),(t=y()(this,v()(FileUploadWidget).call(this,e))).state={files:"",directories:!1,progress:{},encrypt:!1},t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(FileUploadWidget,e),h()(FileUploadWidget,[{key:"HandleSubmit",value:function HandleSubmit(){var e,t=this;return B.a.async((function HandleSubmit$(a){for(;;)switch(a.prev=a.next){case 0:return e=function callback(e){var a={};Object.keys(e).map((function(t){var r=t.split("/").slice(-1)[0],n=e[t],o=n.uploaded,s=n.total;a[r]=Object(J.f)(o,s)})),t.setState({progress:a})},a.next=3,B.a.awrap(this.props.Upload({path:this.props.path,fileList:this.state.files,isDirectory:this.state.directories,encrypt:this.state.encrypt,callback:e}));case 3:case"end":return a.stop()}}),null,this)}},{key:"EncryptionOptions",value:function EncryptionOptions(){var e=this;if(this.props.encryptable)return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"encrypt"},"Encrypt"),i.a.createElement("input",{name:"encrypt",type:"checkbox",checked:this.state.encrypt,onChange:function onChange(){return e.setState({encrypt:!e.state.encrypt})}}))}},{key:"render",value:function render(){var e=this;return i.a.createElement("div",{className:"upload-widget"},i.a.createElement(M.l,{legend:this.props.legend,OnSubmit:this.HandleSubmit,OnCancel:this.props.OnCancel,OnComplete:this.props.OnComplete},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"directories"},"Type"),i.a.createElement(M.t,{name:"directories",inline:!0,options:[["Files",!1],["Directory",!0]],selected:this.state.directories,onChange:function onChange(t){return e.setState({directories:t.target.value})}}),this.EncryptionOptions(),i.a.createElement("label",{htmlFor:"files"},this.state.directories?"Directory":"Files"),i.a.createElement(M.f,{name:"files",onChange:function onChange(t){return e.setState({files:t.target.files})},directories:this.state.directories,multiple:!0,progress:this.state.progress}))))}}]),FileUploadWidget}(i.a.Component);ct.propTypes={legend:re.a.string.isRequired,path:re.a.string,progress:re.a.object,encryptable:re.a.bool,Upload:re.a.func.isRequired,OnComplete:re.a.func.isRequired,OnCancel:re.a.func};var lt,ut=ct,pt=a(85),dt=a.n(pt),mt=a(86),bt=a.n(mt),ht=a(87),ft=a.n(ht),yt=a(88),gt=a.n(yt),vt=a(89),wt=a.n(vt),Ct=a(90),xt=a.n(Ct),kt=a(91),jt=a.n(kt),St=a(92),It=a.n(St),Et=function DownloadButton(e){var t=e.name,a=e.DownloadFile,r=Object(s.useState)(!1),n=ce()(r,2),o=n[0],c=n[1],l=Object(s.useState)(void 0),u=ce()(l,2),p=u[0],d=u[1];if(o)return p?i.a.createElement("span",{title:"Downloading ".concat(t),className:"download-progress"},(p.bytesFinished/p.bytesTotal*100).toFixed(1),"%"):i.a.createElement("div",{title:"Downloading ".concat(t),className:"download-indicator"},i.a.createElement(M.d,null));var m=function callback(e){return d(e)};return i.a.createElement(M.m,{title:"Download ".concat(t),icon:xt.a,label:"Download "+t,onClick:function _callee(){return B.a.async((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,B.a.awrap(a(m));case 3:c(!1);case 4:case"end":return e.stop()}}))},className:"download-button"})},Ot=function EncryptedImagePreview(e){var t=e.DownloadUrl,a=e.fileName,r=Object(s.useState)(!1),n=ce()(r,2),o=n[0],c=n[1],l=Object(s.useState)(void 0),u=ce()(l,2),p=u[0],d=u[1];return i.a.createElement(M.s,{onHover:function _callee2(){return B.a.async((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!o&&!p){e.next=2;break}return e.abrupt("return");case 2:return c(!0),e.t0=d,e.next=6,B.a.awrap(t());case 6:e.t1=e.sent,(0,e.t0)(e.t1),c(!1);case 9:case"end":return e.stop()}}))},imagePath:a,fullUrl:p||"",icon:wt.a,additionalContent:o?i.a.createElement(M.d,null):null})},At=Object(T.b)("objectStore")(lt=Object(T.c)(lt=function(e){function FileBrowser(e){var t;return m()(this,FileBrowser),(t=y()(this,v()(FileBrowser).call(this,e))).state={path:".",displayPath:"/",showUpload:!1,showDirectoryCreate:!1,newDirectoryPath:""},t.UploadFiles=t.UploadFiles.bind(te()(t)),t.DeleteItem=t.DeleteItem.bind(te()(t)),t}return C()(FileBrowser,e),h()(FileBrowser,[{key:"UploadFiles",value:function UploadFiles(e){var t,a,r,n;return B.a.async((function UploadFiles$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.path,a=e.fileList,r=e.encrypt,n=e.callback,o.next=3,B.a.awrap(this.props.objectStore.UploadFiles({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,path:t,fileList:a,encrypt:r,callback:n}));case 3:this.props.Reload&&this.props.Reload();case 4:case"end":return o.stop()}}),null,this)}},{key:"DeleteItem",value:function DeleteItem(e){var t,a=this,r=arguments;return B.a.async((function DeleteItem$(n){for(;;)switch(n.prev=n.next){case 0:return t=r.length>1&&void 0!==r[1]&&r[1],n.next=3,B.a.awrap(Object(M.g)({message:"Are you sure you want to delete this ".concat(t?"directory":"file","?"),onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:a.props.objectStore.DeleteFiles({libraryId:a.props.objectStore.libraryId,objectId:a.props.objectStore.objectId,filePaths:[p()(a.state.path,e).replace("./","")]}),a.props.Reload&&a.props.Reload();case 2:case"end":return t.stop()}}))}}));case 3:case"end":return n.stop()}}))}},{key:"CurrentDirectory",value:function CurrentDirectory(){var e=this.props.objectStore.object.meta.files||{};return"."===this.state.path?e:(this.state.path.replace("./","").split("/").forEach((function(t){return e=e[t]})),e)}},{key:"ChangeDirectory",value:function ChangeDirectory(e){e=Fe.a.normalize(e),this.setState({path:e,displayPath:"."===e?"/":"/"+e})}},{key:"FileUrl",value:function FileUrl(e,t){var a=it()(this.props.baseFileUrl);return a.path(p()(a.path(),e,t).replace("//","/")),a.toString()}},{key:"IsImage",value:function IsImage(e){var t=this.props.objectStore.object.meta["mime-types"]||{},a=e.split(".").pop();return(t[a]||"").startsWith("image")||["jpg","jpeg","png","gif","webp"].includes(a)}},{key:"FileIcon",value:function FileIcon(e,t,a){var r=this;return this.IsImage(e)?a?i.a.createElement(Ot,{fileName:e,DownloadUrl:function _callee3(){return B.a.async((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.props.DownloadUrl({filePath:p()(r.state.path,e)}));case 1:case"end":return t.stop()}}))}}):i.a.createElement(M.s,{baseFileUrl:this.props.baseFileUrl,imagePath:p()(this.state.path,e)}):i.a.createElement(M.n,{icon:a?gt.a:bt.a,className:a?"encrypted-file-icon":"file-icon",label:"File"})}},{key:"File",value:function File(e,t){var a=this,r=rt()(t.size||0),n=this.FileUrl(this.state.path,e),o=t.encryption&&"cgck"===t.encryption.scheme;return i.a.createElement("div",{className:"file-browser-row",key:"entry-".concat(this.state.path,"-").concat(e)},i.a.createElement("div",{className:"item-icon"},this.FileIcon(e,n,o)),i.a.createElement("div",{className:"item-name-cell",title:e},i.a.createElement("div",null,e)),i.a.createElement("div",{title:r,className:"info-cell"},r),i.a.createElement("div",{className:"actions-cell"},i.a.createElement(M.m,{hidden:!this.props.SetObjectImage||!this.IsImage(e)||o,title:"Set ".concat(e," as display image"),icon:ft.a,onClick:function _callee4(t){return B.a.async((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t.stopPropagation(),r.next=3,B.a.awrap(Object(M.g)({message:"Are you sure you want to set this object's display image to ".concat(e,"?"),onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(a.props.SetObjectImage({filePath:p()(a.state.path,e).replace("./","")}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}}));case 3:case"end":return r.stop()}}))},className:"delete-button"}),i.a.createElement(Et,{name:e,size:r,DownloadFile:function _callee5(t){return B.a.async((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B.a.awrap(a.props.DownloadFile({filePath:p()(a.state.path,e),callback:t}));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))}}),i.a.createElement(M.h,{copy:n},i.a.createElement(M.m,{hidden:o,title:"Copy link to ".concat(e),icon:It.a,label:"Copy direct link to "+e,className:"copy-button"})),i.a.createElement(M.m,{title:"Delete ".concat(e),icon:Qe.a,onClick:function onClick(t){t.stopPropagation(),a.DeleteItem(e)},className:"delete-button"})))}},{key:"Directory",value:function Directory(e){var t=this,a=function changeDirectory(){return t.ChangeDirectory(p()(t.state.path,e.name))},r=Object.keys(e.item).length-1;return i.a.createElement("div",{key:"entry-".concat(this.state.path,"-").concat(e.name),className:"file-browser-row directory"},i.a.createElement("div",{className:"item-icon"},i.a.createElement(M.n,{icon:dt.a,label:"Directory"})),i.a.createElement("div",{className:"directory-cell",tabIndex:"0",title:e.name,onClick:a,onKeyPress:a},i.a.createElement("div",null,e.name)),i.a.createElement("div",{className:"info-cell"},"".concat(r," ").concat(1===r?"Item":"Items")),i.a.createElement("div",{className:"actions-cell"},i.a.createElement(M.m,{title:"Delete ".concat(e.name),icon:Qe.a,onClick:function onClick(a){a.stopPropagation(),t.DeleteItem(e.name,!0)},className:"delete-button"})))}},{key:"Items",value:function Items(){var e=this,t=this.CurrentDirectory(),a=Object.keys(t).filter((function(e){return"."!==e})).map((function(e){return{name:e,item:t[e],info:t[e]["."]}}));return 0===a.length?i.a.createElement("div",{className:"file-browser-row file-browser-row-empty"},"No Files"):a.sort((function(e,t){return e.info.type!==t.info.type?"directory"===e.info.type?-1:1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1})).map((function(t){return"directory"===t.info.type?e.Directory(t):e.File(t.name,t.info)}))}},{key:"UploadModal",value:function UploadModal(){var e=this;if(!this.state.showUpload)return null;var t=function closeModal(){return e.setState({showUpload:!1})};return i.a.createElement(M.q,{closable:!1,OnClickOutside:t},i.a.createElement(ut,{path:this.state.path,encryptable:!0,legend:"Upload files to ".concat(this.state.displayPath),Upload:this.UploadFiles,OnComplete:function OnComplete(){t()},OnCancel:t}))}},{key:"DirectoryCreateModal",value:function DirectoryCreateModal(){var e=this;if(!this.state.showDirectoryCreate)return null;var t=function closeModal(){return e.setState({showDirectoryCreate:!1,newDirectoryPath:""})};return i.a.createElement(M.q,{closable:!0,OnClickOutside:t},i.a.createElement(M.l,{legend:"Create Directory",OnCancel:t,OnSubmit:function _callee6(){return B.a.async((function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.CreateDirectory({directory:p()(e.state.path,e.state.newDirectoryPath)}));case 2:case"end":return t.stop()}}))},OnComplete:t},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"newDirectoryPath"},"Directory"),i.a.createElement("input",{name:"newDirectoryPath",required:!0,placeholder:"Directory...",onChange:function onChange(t){return e.setState({newDirectoryPath:t.target.value})}}))))}},{key:"render",value:function render(){var e,t=this;return this.state.path&&this.state.path!==Fe.a.dirname(this.state.path)&&(e=i.a.createElement(M.m,{icon:jt.a,label:"Back",onClick:function onClick(){return t.ChangeDirectory(Fe.a.dirname(t.state.path))}})),i.a.createElement("div",{className:"file-browser"},this.UploadModal(),this.DirectoryCreateModal(),i.a.createElement("div",{className:"file-browser-table"},i.a.createElement("div",{className:"file-browser-row file-browser-header"},i.a.createElement("div",{className:"type-header"},e),i.a.createElement("div",{className:"directory-header",title:"Current Directory: "+this.state.displayPath,tabIndex:"0"},i.a.createElement("div",{className:"display-path"},this.state.displayPath)),i.a.createElement("div",{className:"actions-header"},i.a.createElement(M.a,{onClick:function onClick(){return t.setState({showDirectoryCreate:!0})}},"Create Directory"),i.a.createElement(M.a,{onClick:function onClick(){return t.setState({showUpload:!0})}},"Upload Files"))),this.Items()))}}]),FileBrowser}(i.a.Component))||lt)||lt;At.propTypes={baseFileUrl:re.a.string.isRequired,DownloadFile:re.a.func.isRequired,DownloadUrl:re.a.func.isRequired,CreateDirectory:re.a.func.isRequired,SetObjectImage:re.a.func,Reload:re.a.func};var Ft,Nt=At;function AppFrame_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}if(!("toJSON"in Error.prototype)){var Lt=["columnNumber","fileName","lineNumber"];Object.defineProperty(Error.prototype,"toJSON",{value:function value(){var e=this,t={};return Object.getOwnPropertyNames(this).forEach((function(a){Lt.includes(a)||(t[a]=e[a])}),this),t},configurable:!0,writable:!0})}var _t=function(e){function IFrameBase(){return m()(this,IFrameBase),y()(this,v()(IFrameBase).apply(this,arguments))}return C()(IFrameBase,e),h()(IFrameBase,[{key:"SandboxPermissions",value:function SandboxPermissions(){return["allow-scripts","allow-forms","allow-modals","allow-pointer-lock","allow-orientation-lock","allow-popups","allow-presentation","allow-same-origin"].join(" ")}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return this.props.appUrl!==e.appUrl}},{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("message",this.props.listener)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.props.listener)}},{key:"render",value:function render(){return i.a.createElement("iframe",{ref:this.props.appRef,src:this.props.appUrl,allow:"encrypted-media *",allowFullScreen:!0,sandbox:this.SandboxPermissions(),className:"app-frame "+(this.props.className||"")})}}]),IFrameBase}(i.a.Component);_t.propTypes={appUrl:re.a.string.isRequired,appRef:re.a.object.isRequired,listener:re.a.func.isRequired,className:re.a.string};var Pt=i.a.forwardRef((function(e,t){return i.a.createElement(_t,fe()({appRef:t},e))})),Mt=Object(T.b)("notificationStore")(Ft=Object(T.c)(Ft=function(e){function AppFrame(e){var t;return m()(this,AppFrame),(t=y()(this,v()(AppFrame).call(this,e))).state={appRef:i.a.createRef()},t.ApiRequestListener=t.ApiRequestListener.bind(te()(t)),t}return C()(AppFrame,e),h()(AppFrame,[{key:"componentWillUnmount",value:function componentWillUnmount(){return B.a.async((function componentWillUnmount$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(X.ResetRegion());case 2:case"end":return e.stop()}}))}},{key:"AppUrl",value:function AppUrl(){var e=this,t=this.props.appUrl;if(this.props.queryParams){var a=it()(t);Object.keys(this.props.queryParams).forEach((function(t){a.addSearch(t,e.props.queryParams[t])})),t=a.toString()}return t}},{key:"Respond",value:function Respond(e,t,a){(function IsCloneable(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return IsCloneable(e[t])}));case"Map":return V()(e.keys()).every(IsCloneable)&&V()(e.values()).every(IsCloneable);case"Set":return V()(e.keys()).every(IsCloneable);default:return!1}})(a=function AppFrame_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?AppFrame_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AppFrame_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{requestId:e,type:"ElvFrameResponse"}))||(a=JSON.parse(JSON.stringify(a)));try{t.postMessage(a,"*")}catch(e){console.error(a),console.error(e)}}},{key:"ApiRequestListener",value:function ApiRequestListener(e){var t,a,r,n,o,s=this;return B.a.async((function ApiRequestListener$(i){for(;;)switch(i.prev=i.next){case 0:if(e&&e.data&&"ElvFrameRequest"===e.data.type){i.next=2;break}return i.abrupt("return");case 2:if(e.data.operation){i.next=7;break}return i.next=5,B.a.awrap(X.ExecuteFrameRequest({request:e.data,Respond:function Respond(t){return s.Respond(t.requestId,e.source,t)}}));case 5:i.next=38;break;case 7:i.t0=e.data.operation,i.next="OpenLink"===i.t0?10:"Complete"===i.t0?20:"Cancel"===i.t0?25:"Reload"===i.t0?29:"SetFrameDimensions"===i.t0?33:38;break;case 10:if(t=e.data,a=t.libraryId,r=t.objectId,n=t.versionHash,!r&&n&&(r=X.utils.DecodeVersionHash(n).objectId),a){i.next=16;break}return i.next=15,B.a.awrap(X.ContentObjectLibraryId({objectId:r}));case 15:a=i.sent;case 16:return(o=it()(window.location.toString())).hash("#/content/".concat(a,"/").concat(r)),window.open(o.toString(),"_blank"),i.abrupt("break",38);case 20:if(!this.props.onComplete){i.next=23;break}return i.next=23,B.a.awrap(this.props.onComplete());case 23:return e.data.message&&this.props.notificationStore.SetNotificationMessage({message:e.data.message}),i.abrupt("break",38);case 25:if(!this.props.onCancel){i.next=28;break}return i.next=28,B.a.awrap(this.props.onCancel());case 28:return i.abrupt("break",38);case 29:if(!this.props.Reload){i.next=32;break}return i.next=32,B.a.awrap(this.props.Reload());case 32:return i.abrupt("break",38);case 33:if(!this.props.fixedDimensions){i.next=35;break}return i.abrupt("return");case 35:return e.data.width&&(this.state.appRef.current.style.width=Math.min(parseInt(e.data.width),3e3)+"px"),e.data.height&&(this.state.appRef.current.style.height=Math.min(parseInt(e.data.height),5e3)+"px"),i.abrupt("break",38);case 38:case"end":return i.stop()}}),null,this)}},{key:"render",value:function render(){return i.a.createElement(Pt,{ref:this.state.appRef,appUrl:this.AppUrl(),listener:this.ApiRequestListener,className:this.props.className})}}]),AppFrame}(i.a.Component))||Ft)||Ft;Mt.propTypes={appUrl:re.a.string.isRequired,queryParams:re.a.object,onComplete:re.a.func,onCancel:re.a.func,Reload:re.a.func,className:re.a.string,fixedDimensions:re.a.bool};var Tt,Gt,Ht=Mt,Dt=Object(T.b)("objectStore")(Tt=Object(T.c)(Tt=function(e){function ContentObjectGroups(e){var t;return m()(this,ContentObjectGroups),(t=y()(this,v()(ContentObjectGroups).call(this,e))).state={view:"access",groups:[]},t.AccessGroupsListing=t.AccessGroupsListing.bind(te()(t)),t.FilterGroups=t.FilterGroups.bind(te()(t)),t}return C()(ContentObjectGroups,e),h()(ContentObjectGroups,[{key:"FilterGroups",value:function FilterGroups(e){var t=this,a=e.params.page,r=e.params.perPage,n=Object.values(this.props.objectStore.object.groupPermissions).filter((function(e){return e.permissions.includes(t.state.view)})).sort((function(e,t){return(e.name||"zz").toLowerCase()>(t.name||"zz").toLowerCase()?1:-1})).slice((a-1)*r,a*r);e.params.filter&&(n=n.filter((function(t){return t.name.toLowerCase().includes(e.params.filter.toLowerCase())}))),this.setState({groups:n})}},{key:"AccessGroups",value:function AccessGroups(){return this.state.groups.map((function(e){return{id:e.address,sortKey:(e.name||"zz").toLowerCase(),title:e.name||e.address,description:e.description,link:p()("/access-groups",e.address)}})).sort((function(e,t){return e.sortKey.toLowerCase()>t.sortKey.toLowerCase()?1:-1}))}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this,t=Object.values(this.props.objectStore.object.groupPermissions).filter((function(t){return t.permissions.includes(e.state.view)})).length;return i.a.createElement("div",null,i.a.createElement(M.u,{options:[["See","see"],["Access","access"],["Manage","manage"]],className:"secondary",selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}}),i.a.createElement(Ee,{key:"object-access-group-listing-".concat(this.state.view),className:"compact",pageId:"ObjectAccessGroups",noIcon:!0,noStatus:!0,paginate:!0,count:t,LoadContent:this.FilterGroups,RenderContent:function RenderContent(t){return e.AccessGroups(t)}}))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function Load(){return e.props.objectStore.ContentObjectGroupPermissions({objectId:e.props.objectStore.objectId})},render:this.AccessGroupsListing})}}]),ContentObjectGroups}(i.a.Component))||Tt)||Tt,zt=a(93),Rt=a.n(zt),$t=function VisibilityInfo(e){return e<=0?{name:"Private",description:"Only authorized users can access this object.",visibility:0}:e<10?{name:"Publicly Listable",description:"Anyone can access the public portion of the object, but only accounts with specific rights can access the full object.",visibility:1}:e<100?{name:"Public",description:"Anyone can access this object",visibility:10}:{name:"Publicly Managable",description:"Anyone can access and manage this object",visibility:100}},Bt=function DownloadPart(e){var t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,o=e.partName,c=e.DownloadMethod,l=Object(s.useState)(void 0),u=ce()(l,2),p=u[0],d=u[1],m=i.a.createElement(M.a,{className:"action-compact secondary",onClick:function _callee(){var e;return B.a.async((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return d("0.0%"),s.next=3,B.a.awrap(c({libraryId:t,objectId:a,versionHash:r,partHash:n,callback:function callback(e){var t,a;return B.a.async((function callback$(r){for(;;)switch(r.prev=r.next){case 0:t=e.bytesFinished,a=e.bytesTotal,d({bytesFinished:t,bytesTotal:a});case 2:case"end":return r.stop()}}))}}));case 3:return e=s.sent,s.next=6,B.a.awrap(nt(e,o||n));case 6:case"end":return s.stop()}}))}},"Download"),b=void 0===p?null:i.a.createElement("span",{className:"download-progress"},i.a.createElement("progress",{value:100*p.bytesFinished/p.bytesTotal,max:100}),Object(J.f)(p.bytesFinished,p.bytesTotal));return p?b:m},Ut=Object(T.b)("libraryStore")(Gt=Object(T.b)("objectStore")(Gt=Object(T.c)(Gt=function(e){function ContentObject(e){var t;return m()(this,ContentObject),(t=y()(this,v()(ContentObject).call(this,e))).state={appRef:i.a.createRef(),view:"info",partDownloadProgress:{},pageVersion:0},t.PageContent=t.PageContent.bind(te()(t)),t.SubmitContentObject=t.SubmitContentObject.bind(te()(t)),t.FinalizeABRMezzanine=t.FinalizeABRMezzanine.bind(te()(t)),t.UpdateMetadata=t.UpdateMetadata.bind(te()(t)),t}return C()(ContentObject,e),h()(ContentObject,[{key:"SubmitContentObject",value:function SubmitContentObject(e){var t=this;return B.a.async((function SubmitContentObject$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Object(M.g)({message:e,onConfirm:function onConfirm(){return B.a.async((function onConfirm$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(t.props.objectStore.PublishContentObject({objectId:t.props.objectStore.objectId}));case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return e.stop()}}))}}));case 2:case"end":return a.stop()}}))}},{key:"SaveContentObjectDraft",value:function SaveContentObjectDraft(){var e=this;return B.a.async((function SaveContentObjectDraft$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to save changes to this content object?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.objectStore.FinalizeContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 2:return t.next=4,B.a.awrap(new Promise((function(e){return setTimeout(e,2e3)})));case 4:e.setState({pageVersion:e.state.pageVersion+1});case 5:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},{key:"FinalizeABRMezzanine",value:function FinalizeABRMezzanine(){var e=this;return B.a.async((function FinalizeABRMezzanine$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to finalize this content object?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.objectStore.FinalizeABRMezzanine({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 2:return t.next=4,B.a.awrap(new Promise((function(e){return setTimeout(e,2e3)})));case 4:e.setState({pageVersion:e.state.pageVersion+1});case 5:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},{key:"DeleteContentObject",value:function DeleteContentObject(){var e=this;return B.a.async((function DeleteContentObject$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to delete this content object?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.objectStore.DeleteContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 2:e.setState({deleted:!0});case 3:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},{key:"UpdateMetadata",value:function UpdateMetadata(e){var t,a,r;return B.a.async((function UpdateMetadata$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.metadataSubtree,a=void 0===t?"/":t,r=e.metadata,n.next=3,B.a.awrap(this.props.objectStore.UpdateMetadata({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,metadataSubtree:a,metadata:r}));case 3:case"end":return n.stop()}}),null,this)}},{key:"DeleteVersionButton",value:function DeleteVersionButton(e){var t=this;if(1===this.props.objectStore.object.versions.length)return null;return i.a.createElement(M.a,{className:"danger action-compact action-wide",onClick:function _callee2(){return B.a.async((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to delete this content version?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(t.props.objectStore.DeleteContentObjectVersion({libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,versionHash:e}));case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return a.stop()}}))}}));case 2:case"end":return a.stop()}}))}},"Delete Content Version")}},{key:"PublishButton",value:function PublishButton(){var e=this;if(!this.props.objectStore.object.isNormalObject)return null;var t=this.props.libraryStore.library.groups.reviewer.length>0;if(this.props.object.status.code<0&&this.props.objectStore.object.isOwner){var a=t?"Submit for Review":"Publish",r=t?"Are you sure you want to submit this content object for review?":"Are you sure you want to publish this content object?";return i.a.createElement(M.a,{onClick:function onClick(){return e.SubmitContentObject(r)}},a)}return this.props.objectStore.object.status.code>0&&this.props.objectStore.object.permissions.canReview?i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"review")},"Review"):void 0}},{key:"LROStatus",value:function LROStatus(){var e=this,t=this.props.objectStore.object.lroStatus;if(t&&0!==t.length){var a=t.map((function(t){var a=t.offeringKey,r=t.status;if(r){var n=Object.values(r).map((function(e){return e.run_state}));if(n.includes("failed"))return i.a.createElement(Pe,{label:a},"Failed");if(n.every((function(e){return"finished"===e})))return i.a.createElement(i.a.Fragment,null,i.a.createElement(Pe,{label:a},"Finished"),i.a.createElement(Pe,{hidden:!e.props.objectStore.object.canEdit},i.a.createElement(M.a,{onClick:e.FinalizeABRMezzanine},"Finalize")));var o=Object.values(r).map((function(e){return e.progress.percentage})),s=o.reduce((function(e,t){return e+t}),0)/o.length;return i.a.createElement(Pe,{label:a},"".concat(s.toFixed(1),"%"))}}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(Pe,{label:"LRO Progress"}),a)}}},{key:"VersionSize",value:function VersionSize(e){if(e)return rt()(e.parts.reduce((function(e,t){return e+t.size}),0))}},{key:"Image",value:function Image(){return this.props.objectStore.object.imageUrl?i.a.createElement("div",{className:"object-image"},i.a.createElement("img",{src:this.props.objectStore.object.imageUrl})):null}},{key:"ObjectParts",value:function ObjectParts(e){var t=this;if(!e||!e.parts||0===e.parts.length)return null;var a=this.props.objectStore.object.meta["eluv-fb.parts"]||{},r={};Object.keys(a).forEach((function(e){r[a[e]]=e}));var n=e.parts.map((function(a,n){var o=i.a.createElement(Bt,{libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,versionHash:e.hash,partHash:a.hash,partName:r[a.hash],DownloadMethod:t.props.objectStore.DownloadPart}),s=r[a.hash]?i.a.createElement(Pe,{label:"Name",value:r[a.hash]}):null;return i.a.createElement("div",{key:a.hash+"-"+n,className:"part-info"},s,i.a.createElement(Pe,{label:"Hash"},a.hash),i.a.createElement(Pe,{label:"Size"},rt()(a.size)),i.a.createElement(Pe,{label:"Download"},o))}));return i.a.createElement("div",null,i.a.createElement("h3",null,"Parts"),n)}},{key:"ObjectVersion",value:function ObjectVersion(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.props.objectStore.versions[e];return r?i.a.createElement("div",{className:"version-info "+(a?"":"indented version-visible")},i.a.createElement("h3",null,a?"Latest Version":"Version ".concat(t)),i.a.createElement("div",{className:"indented"},i.a.createElement(Pe,{label:"Hash",copyValue:e},e),i.a.createElement(Pe,{label:"Parts"},r.parts.length.toString()),i.a.createElement(Pe,{label:"Total size"},this.VersionSize(r)),i.a.createElement(qe,{label:"Metadata"},i.a.createElement("div",{className:"indented"},i.a.createElement(We,{json:r.meta}))),i.a.createElement(qe,{label:"Verification"},i.a.createElement("pre",{className:"content-object-data"},JSON.stringify(r.verification,null,2))),i.a.createElement(qe,{label:"Parts"},this.ObjectParts(r)),i.a.createElement("br",null),i.a.createElement(Pe,{hidden:!this.props.objectStore.object.isOwner},this.DeleteVersionButton(e)))):null}},{key:"PreviousVersions",value:function PreviousVersions(){var e=this;return this.props.objectStore.object.versions.length<2?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Previous Versions"),this.props.objectStore.object.versions.slice(1).map((function(t,a){var r=-1*(a+1-e.props.objectStore.object.versions.length);return i.a.createElement(qe,{label:"Version ".concat(r),key:"version-".concat(r),className:"version-info indented"},i.a.createElement(Ve,{Load:function _callee3(){return B.a.async((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(e.props.objectStore.ContentObjectVersion({versionHash:t}));case 2:case"end":return a.stop()}}))},render:function render(){return e.ObjectVersion(t,r)}}))})))}},{key:"ContractInfo",value:function ContractInfo(){var e=[];if(e.push(i.a.createElement(Pe,{key:"contract-address",label:"Contract Address"},i.a.createElement(l.b,{className:"inline-link",to:p()(this.props.match.url,"contract")},this.props.objectStore.object.contractAddress))),!this.props.objectStore.object.isContentLibraryObject&&this.props.objectStore.object.customContractAddress){var t=this.props.objectStore.object.customContractAddress;e.push(i.a.createElement(Pe,{key:"contract-"+t,label:"Custom Contract"},i.a.createElement(l.b,{className:"inline-link",to:p()(this.props.match.url,"custom-contract")},t)))}return e}},{key:"ObjectStatus",value:function ObjectStatus(){if(!this.props.objectStore.object.isNormalObject)return null;var e,t;if(this.props.objectStore.object.meta["eluv.reviewNote"]){t=i.a.createElement(Pe,{label:"Reviewer"},this.props.objectStore.object.meta["eluv.reviewer"]);var a=i.a.createElement(Ge,{className:"object-description",text:this.props.objectStore.object.meta["eluv.reviewNote"]});e=i.a.createElement(Pe,{label:"Review Note"},a)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(Pe,{label:"Status"},this.props.objectStore.object.status.description),t,e)}},{key:"Visibility",value:function Visibility(){var e=this,t=[$t(10),$t(1),$t(0)],a=i.a.createElement(M.v,{className:"visibility-tooltip",content:i.a.createElement("div",{className:"label-box"},t.map((function(e){var t=e.name,a=e.description;return i.a.createElement(Pe,{alignTop:!0,key:"visibility-info-".concat(t),label:t},i.a.createElement("div",null,a))})))},i.a.createElement(M.n,{className:"visibility-info-icon",icon:Rt.a})),r=i.a.createElement("div",null,$t(this.props.objectStore.object.visibility).name);if(this.props.objectStore.object.canEdit){var n=t.map((function(e){var t=e.name,a=e.visibility;return i.a.createElement("option",{key:"visibility-option-".concat(a),value:a},t)}));r=i.a.createElement("select",{value:this.props.objectStore.object.visibility,onChange:function _callee4(t){return B.a.async((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(e.props.objectStore.SetVisibility({objectId:e.props.objectStore.objectId,visibility:t.target.value}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))}},n)}return i.a.createElement("div",{className:"visibility-info"},r,a)}},{key:"ObjectInfo",value:function ObjectInfo(){var e,t=this,a=this.props.objectStore.object,r=this.props.objectStore.versions[a.versions[0]];a.accessInfo&&(e=i.a.createElement(Pe,{label:"Access charge"},Object(J.a)(a.accessInfo.accessCharge)));var n=a.ownerName?i.a.createElement("span",null,a.ownerName,i.a.createElement("span",{className:"help-text"},"(",a.owner,")")):a.owner,o=a.type?i.a.createElement(l.b,{className:"inline-link",to:p()("/content-types",a.typeInfo.id)},a.typeInfo.name||a.typeInfo.id):"None";return i.a.createElement("div",{className:"object-info label-box"},i.a.createElement(Pe,{label:"Name",editable:!0,onChange:function _callee5(e){return B.a.async((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(t.UpdateMetadata({metadataSubtree:"public/name",metadata:e}));case 2:return a.next=4,B.a.awrap(t.UpdateMetadata({metadataSubtree:"name",metadata:e}));case 4:case"end":return a.stop()}}))}},a.meta.public.name||a.id),i.a.createElement(Pe,{label:"Description",type:"textarea",editable:!0,onChange:function _callee6(e){return B.a.async((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(t.UpdateMetadata({metadataSubtree:"public/description",metadata:e.trim()}));case 2:return a.next=4,B.a.awrap(t.UpdateMetadata({metadataSubtree:"description",metadata:e.trim()}));case 4:case"end":return a.stop()}}))}},a.meta.public.description||""),e,this.LROStatus(),i.a.createElement("br",null),i.a.createElement(Pe,{label:"Library ID",hidden:a.isContentType},i.a.createElement(l.b,{className:"inline-link",to:p()("/content",this.props.objectStore.libraryId)},this.props.objectStore.libraryId)),i.a.createElement(Pe,{label:"Object ID"},a.id),i.a.createElement(Pe,{label:"Type",hidden:a.isContentType},o),i.a.createElement(Pe,{label:"Type Hash",hidden:!a.type||a.isContentType,copyValue:a.type},a.type),this.ContractInfo(),i.a.createElement(Pe,{label:"Owner"},n),i.a.createElement(Pe,{label:"Visibility",alignTop:!1},this.Visibility()),i.a.createElement("br",null),i.a.createElement(Pe,{label:"Versions"},a.versions.length),i.a.createElement(Pe,{label:"Parts"},r.parts.length),i.a.createElement(Pe,{label:"Total size"},this.VersionSize(r)),this.ObjectVersion(a.versions[0],a.versions.length,!0),this.PreviousVersions())}},{key:"Actions",value:function Actions(){var e,t,a,r,n=this,o=i.a.createElement(M.m,{className:"refresh-button",icon:be.a,label:"Refresh",onClick:function onClick(){return n.setState({pageVersion:n.state.pageVersion+1})}}),s=i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back");return this.props.objectStore.object.canEdit?(this.props.objectStore.object.customContractAddress||!this.props.objectStore.object.isNormalObject&&!this.props.objectStore.object.isContentType||(e=i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"deploy")},"Custom Contract")),this.props.objectStore.object.isOwner&&!this.props.objectStore.object.isContentLibraryObject&&(t=i.a.createElement(M.a,{className:"danger",onClick:function onClick(){return n.DeleteContentObject()}},"Delete")),this.props.objectStore.object.writeToken&&(a=i.a.createElement(M.a,{className:"important",onClick:function onClick(){return n.SaveContentObjectDraft()}},"Save Draft")),this.props.objectStore.object.isOwner&&(r=i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"groups")},"Groups")),i.a.createElement("div",{className:"actions-container"},s,i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"edit")},"Manage"),e,i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"upload")},"Upload Parts"),r,i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"apps")},"Apps"),t,a,o)):i.a.createElement("div",{className:"actions-container"},s,o)}},{key:"AppFrame",value:function AppFrame(){var e=this;if(!this.state.displayAppUrl)return null;var t={contentSpaceId:X.contentSpaceId,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,versionHash:this.props.objectStore.object.hash,type:this.props.objectStore.type?this.props.objectStore.type.hash:"",action:"display"};return i.a.createElement(Ht,{className:"display-frame",appUrl:this.state.displayAppUrl,queryParams:t,onComplete:function onComplete(){return e.setState({pageVersion:e.state.pageVersion+1})},onCancel:function onCancel(){return e.setState({deleted:!0})},fixedDimensions:!0})}},{key:"Tabs",value:function Tabs(){var e=this,t=[["Content Info","info"],["Groups","groups"],["Files","files"]];return!this.props.objectStore.object.isContentType&&this.state.displayAppUrl&&t.unshift(["Display","display"]),i.a.createElement(M.u,{options:t,selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}})}},{key:"PageContent",value:function PageContent(){var e,t,a=this;return this.state.deleted?i.a.createElement(x.b,{push:!0,to:Fe.a.dirname(this.props.match.url)}):(e=this.props.objectStore.object.isContentLibraryObject?this.props.libraryStore.library.name+" > Library Object":this.props.objectStore.object.isContentType?"Content Types > "+this.props.objectStore.object.name:this.props.libraryStore.library.name+" > "+this.props.objectStore.object.name,t="display"===this.state.view?this.AppFrame():"groups"===this.state.view?i.a.createElement(Dt,null):"info"===this.state.view?i.a.createElement(i.a.Fragment,null,this.Image(),this.ObjectInfo()):i.a.createElement("div",{className:"object-files"},i.a.createElement(Nt,{baseFileUrl:this.props.objectStore.object.baseFileUrl,SetObjectImage:function _callee7(e){var t;return B.a.async((function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filePath,r.next=3,B.a.awrap(a.props.objectStore.SetExistingObjectImage({libraryId:a.props.objectStore.libraryId,objectId:a.props.objectStore.objectId,filePath:t}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},DownloadFile:function _callee8(e){var t,r;return B.a.async((function _callee8$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.filePath,r=e.callback,n.next=3,B.a.awrap(a.props.objectStore.DownloadFile({libraryId:a.props.objectStore.libraryId,objectId:a.props.objectStore.objectId,writeToken:a.props.objectStore.object.writeToken,filePath:t,callback:r}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))},DownloadUrl:function _callee9(e){var t;return B.a.async((function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.filePath,r.next=3,B.a.awrap(a.props.objectStore.DownloadUrl({libraryId:a.props.objectStore.libraryId,objectId:a.props.objectStore.objectId,writeToken:a.props.objectStore.object.writeToken,filePath:t}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))},CreateDirectory:function _callee10(e){var t;return B.a.async((function _callee10$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.directory,r.next=3,B.a.awrap(a.props.objectStore.CreateDirectory({libraryId:a.props.objectStore.libraryId,objectId:a.props.objectStore.objectId,writeToken:a.props.objectStore.object.writeToken,directory:t}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}))}})),i.a.createElement("div",{className:"page-container content-page-container"},i.a.createElement(x.a,{message:"Are you sure you want to navigate away from this page? You have unsaved changes that will be lost.",when:!!this.props.objectStore.object.writeToken}),this.Actions(),i.a.createElement(ne,{header:e,subHeader:this.props.objectStore.object.description}),this.Tabs(),i.a.createElement("div",{className:"page-content"},t)))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{key:"object-page-".concat(this.state.pageVersion),Load:function _callee11(){return B.a.async((function _callee11$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Promise.all([e.props.libraryStore.ContentLibrary({libraryId:e.props.objectStore.libraryId}),e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId})]));case 2:return t.next=4,B.a.awrap(e.props.objectStore.ContentObjectVersions({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 4:e.setState({displayAppUrl:e.props.objectStore.object.displayAppUrl||(e.props.objectStore.object.typeInfo||{}).displayAppUrl});case 5:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentObject}(i.a.Component))||Gt)||Gt)||Gt,Vt=0,qt=function(){function Id(){m()(this,Id)}return h()(Id,null,[{key:"next",value:function next(){return++Vt}},{key:"nextTag",value:function nextTag(){return"id-"+ ++Vt}}]),Id}();function TypeSchema_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function TypeSchema_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?TypeSchema_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TypeSchema_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wt,Kt=["label","string","text","integer","number","json","boolean","choice","list","object","file","attachedFile"],Jt=function ToList(e){return Object.keys(e).map((function(e){return parseInt(e)})).sort().map((function(t){return e[t]}))},Zt=function InitializeSchema(e){var t=e.schema,a=e.initialData;a=a||{};var r={};return t.forEach((function(e){if(!Kt.includes(e.type))throw Error("Unknown type: "+e.type);switch(e.type){case"object":r[e.key]=InitializeSchema({schema:e.fields,initialData:a[e.key]});break;case"json":r[e.key]=JSON.stringify(a[e.key],null,2);break;case"list":r[e.key]=function FromList(e){var t={};return e.forEach((function(e){t[qt.next()]=e})),t}(a[e.key]||[]);break;default:r[e.key]=a[e.key],void 0===r[e.key]&&(r[e.key]="boolean"!==e.type&&"")}})),r},Yt=function GetValue(e){var t=e.data,a=void 0===t?{}:t,r=e.subtree,n=void 0===r?[]:r,o=e.attr;return Object(J.g)(a,n.concat(o))},Qt=function RemoveValue(e){var t=e.data,a=e.subtree,r=void 0===a?[]:a,n=e.attr,o=TypeSchema_objectSpread({},t);if(0===r.length)delete o[n];else{var s=o;r.forEach((function(e){s[e]&&(s=s[e])})),delete s[n]}return o},Xt=function SetValue(e){var t=e.data,a=e.subtree,r=void 0===a?[]:a,n=e.attr,o=e.value,s=TypeSchema_objectSpread({},t);if(0===r.length)s[n]=o;else{var i=s;r.forEach((function(e){i[e]||(i[e]={}),i=i[e]})),i[n]=o}return s},ea=a(94),ta=a.n(ea),aa=a(95),ra=a.n(aa);function ContentObjectForm_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ContentObjectForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ContentObjectForm_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ContentObjectForm_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var na,oa,sa,ia=[{key:"public",type:"object",flattenDisplay:!0,fields:[{key:"name",label:"Name",type:"string"},{key:"description",label:"Description",type:"text"}]}],ca=Object(T.b)("libraryStore")(Wt=Object(T.b)("objectStore")(Wt=Object(T.b)("typeStore")(Wt=Object(T.c)(Wt=function(e){function ContentObjectForm(e){var t;return m()(this,ContentObjectForm),(t=y()(this,v()(ContentObjectForm).call(this,e))).state={completed:!1,metadata:"",publicMetadata:"",uploadStatus:{},imageSelection:void 0,isDefault:!0,fullScreen:!1,pageVersion:0},t.PageContent=t.PageContent.bind(te()(t)),t.HandleImageChange=t.HandleImageChange.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleFieldChange=t.HandleFieldChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t.HandleTypeChange=t.HandleTypeChange.bind(te()(t)),t.RemoveElement=t.RemoveElement.bind(te()(t)),t.FrameCompleted=t.FrameCompleted.bind(te()(t)),t.UploadStatusCallback=t.UploadStatusCallback.bind(te()(t)),t}return C()(ContentObjectForm,e),h()(ContentObjectForm,[{key:"FormatType",value:function FormatType(e){return e.hash?ContentObjectForm_objectSpread({},e,{name:e.meta&&e.meta.public&&e.meta.public.name||e.hash,schema:e.meta&&e.meta["eluv.schema"],allowCustomMetadata:e.meta&&e.meta["eluv.allowCustomMetadata"]}):e}},{key:"Initialize",value:function Initialize(){var e=this,t="",a={},r="",n="",o=0,s={};Object.values(this.props.libraryStore.library.types).forEach((function(e){return s[e.hash]=e})),Object.keys(s).length>0?(t=Object.values(s)[0].hash,a=s):Object.values(this.props.typeStore.allTypes).forEach((function(e){return a[e.hash]=e})),Object.values(a).forEach((function(t){return a[t.hash]=e.FormatType(t)}));var i=this.props.objectStore.object;if(i){var c=ContentObjectForm_objectSpread({},Object(z.q)(i.meta));n=JSON.stringify(c.public||{},null,2),delete c.public,r=JSON.stringify(c,null,2),o=i.accessInfo&&i.accessInfo.accessCharge,t=i.type,i.typeInfo&&(a[i.typeInfo.latestTypeHash]||(a[i.typeInfo.latestTypeHash]=this.FormatType(i.typeInfo)),t=i.typeInfo.latestTypeHash)}this.setState({types:a,type:t,metadata:r,publicMetadata:n,accessCharge:o}),this.SwitchType(a,t),!this.state.createForm&&this.state.manageAppUrl&&this.setState({showManageApp:!0})}},{key:"SwitchType",value:function SwitchType(e,t){var a,r=this.props.objectStore.object,n=t&&e[t]||{},o=n.schema||ia,s=!n.schema;r&&r.manageAppUrl&&!r.isContentType?a=r.manageAppUrl:n.manageAppUrl&&(a=n.manageAppUrl);var i=!n.schema||n.allowCustomMetadata,c=this.state.createForm?void 0:r.meta,l=Zt({schema:o,initialData:c});this.setState({type:t,fields:l,schema:o,isDefault:s,allowCustomMetadata:i,manageAppUrl:a,showManageApp:!1})}},{key:"HandleImageChange",value:function HandleImageChange(e){e.target.files&&this.setState({imageSelection:e.target.files[0]})}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleTypeChange",value:function HandleTypeChange(e){this.SwitchType(this.state.types,e.target.value)}},{key:"HandleFieldChange",value:function HandleFieldChange(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.target.value;"file"===t.type?r=e.target.files:"boolean"===t.type&&(r=e.target.checked),this.setState({fields:Xt({data:this.state.fields,subtree:a,attr:t.key,value:r})})}},{key:"RemoveElement",value:function RemoveElement(e,t){this.setState({fields:Qt({data:this.state.fields,subtree:e,attr:t})})}},{key:"UploadStatusCallback",value:function UploadStatusCallback(e){var t=e.key,a=e.uploaded,r=e.total,n=e.filename,o=Object(J.f)(a,r);this.setState({uploadStatus:ContentObjectForm_objectSpread({},this.state.uploadStatus,W()({},t,ContentObjectForm_objectSpread({},(this.state.uploadStatus||{})[t],W()({},n,o))))})}},{key:"HandleSubmit",value:function HandleSubmit(){var e,t;return B.a.async((function HandleSubmit$(a){for(;;)switch(a.prev=a.next){case 0:return e="[none]"===this.state.type?"":this.state.type,a.next=3,B.a.awrap(this.props.objectStore.UpdateFromContentTypeSchema({type:e,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,schema:this.state.schema,fields:this.state.fields,metadata:this.state.metadata,publicMetadata:this.state.publicMetadata,image:this.state.imageSelection,accessCharge:this.state.accessCharge,callback:this.UploadStatusCallback}));case 3:t=a.sent,this.setState({objectId:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"Image",value:function Image(){if(this.state.isDefault)return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{key:"image-selection-label",htmlFor:"imageSelection",className:"align-top"},"Image"),i.a.createElement(M.f,{key:"image-selection",name:"image",required:!1,multiple:!1,accept:"image/*",preview:!0,onChange:this.HandleImageChange}))}},{key:"TypeField",value:function TypeField(){var e=Object.values(this.state.types).sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1})).map((function(e){var t=e.name,a=e.hash;return i.a.createElement("option",{key:"type-"+a,name:"type",value:a},t)}));return this.props.libraryStore.library.types&&0!==Object.keys(this.props.libraryStore.library.types).length||e.unshift(i.a.createElement("option",{key:"type-none",name:"type",value:""},"[none]")),[i.a.createElement("label",{key:"type-field-label",htmlFor:"type"},"Content Type"),i.a.createElement("select",{key:"type-field",name:"type",value:this.state.type,onChange:this.HandleTypeChange},e)]}},{key:"BuildField",value:function BuildField(e){var t,a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function onChange(t){return a.HandleFieldChange(t,e,r)},o="field-".concat(this.state.type,"-").concat(r.join("-"),"-").concat(e.key),s=Yt({data:this.state.fields,subtree:r,attr:e.key}),c=void 0!==e.label?e.label:e.key;switch(e.type){case"label":t=i.a.createElement("div",{key:o,className:"form-text"},e.text);break;case"attachedFile":t=i.a.createElement(M.a,{key:o,className:"action-compact secondary action-full-width",onClick:function _callee(){var t;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(t=a.state.types[a.state.type],!e.hash){r.next=4;break}return r.next=4,B.a.awrap(a.props.objectStore.DownloadPart({libraryId:X.contentSpaceLibraryId,objectId:t.id,versionHash:t.hash,partHash:e.hash,callback:function callback(t){return B.a.async((function callback$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(nt(t,e.filename||c));case 2:case"end":return a.stop()}}))}}));case 4:case"end":return r.stop()}}))}},"Download");break;case"string":t=i.a.createElement("input",{key:o,name:e.key,required:e.required,value:s,onChange:n});break;case"text":t=i.a.createElement("textarea",{key:o,name:e.key,required:e.required,value:s,onChange:n});break;case"integer":t=i.a.createElement("input",{key:o,name:e.key,required:e.required,value:s,type:"number",step:1,onChange:n});break;case"number":t=i.a.createElement("input",{key:o,name:e.key,required:e.required,value:s,type:"number",step:1e-12,onChange:n});break;case"boolean":t=i.a.createElement("input",{key:o,name:e.key,required:e.required,checked:s,type:"checkbox",onChange:n});break;case"choice":return i.a.createElement(M.t,{key:o,name:e.key,required:e.required,selected:s,options:e.options,onChange:n});case"json":t=i.a.createElement(M.o,{key:o,name:e.key,value:s,onChange:function onChange(t){return a.HandleFieldChange(t,e,r)}});break;case"file":var l=e.required&&this.state.createForm;t=i.a.createElement(M.f,{key:o,accept:e.accept,name:e.key,onChange:n,multiple:e.multiple,required:l,preview:e.preview,progress:this.state.uploadStatus[e.key]||{}});break;case"list":var u=Object.keys(s).map((function(t){var n={key:t,type:"list-element"};return a.BuildField(n,r.concat(e.key))}));t=i.a.createElement("div",{key:o,className:"full-width"},i.a.createElement(M.a,{onClick:function onClick(){return a.HandleFieldChange({target:{value:""}},{key:qt.next()},r.concat(e.key))}},"Add Element"),i.a.createElement("div",{className:"list"},u));break;case"list-element":return i.a.createElement("div",{key:o,className:"list-item"},i.a.createElement("input",{name:e.key,required:e.required,value:s,onChange:n}),i.a.createElement(M.m,{icon:Qe.a,label:"Remove Element",onClick:function onClick(){return a.RemoveElement(r,e.key)}}));case"object":var p=this.BuildType(e.fields,r.concat([e.key]));if(e.flattenDisplay)return p;t=i.a.createElement("div",{key:o,className:"form-content no-margins"},p)}return[i.a.createElement("label",{key:o+"-label",className:["label","list","text","json","object","file"].includes(e.type)?"align-top":"",htmlFor:name},c),t]}},{key:"BuildType",value:function BuildType(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return t.BuildField(e,a)}))}},{key:"MetadataField",value:function MetadataField(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"align-top"},"Metadata"),i.a.createElement(M.o,{onChange:this.HandleInputChange,name:"metadata",value:this.state.metadata}))}},{key:"PublicMetadataField",value:function PublicMetadataField(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"align-top"},"Public Metadata"),i.a.createElement(M.o,{onChange:this.HandleInputChange,name:"publicMetadata",value:this.state.publicMetadata}))}},{key:"AccessChargeField",value:function AccessChargeField(){return[i.a.createElement("label",{key:"access-charge-label",htmlFor:"accessCharge"},"Access Charge"),i.a.createElement("input",{key:"access-charge",type:"number",step:1e-7,name:"accessCharge",value:this.state.accessCharge||0,onChange:this.HandleInputChange})]}},{key:"FrameCompleted",value:function FrameCompleted(){this.setState({completed:!0})}},{key:"AppFormSelection",value:function AppFormSelection(){var e=this;return this.state.createForm||!this.state.manageAppUrl||this.state.fullScreen?null:i.a.createElement(M.u,{className:"compact",selected:this.state.showManageApp,onChange:function onChange(t){return e.setState({showManageApp:t})},options:[["App",!0],["Form",!1]]})}},{key:"BackLink",value:function BackLink(){if(!this.state.fullScreen)return i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back"))}},{key:"FullscreenButton",value:function FullscreenButton(){var e=this,t=this.state.fullScreen?ra.a:ta.a,a=this.state.fullScreen?"Show form options":"Hide form options";return i.a.createElement(M.m,{icon:t,title:a,className:"fullscreen-button",onClick:function onClick(){return e.setState({fullScreen:!e.state.fullScreen})}})}},{key:"AppFrame",value:function AppFrame(){var e=this,t={contentSpaceId:X.contentSpaceId,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,versionHash:this.props.objectStore.object.hash,type:this.props.objectStore.object.type,action:"manage"};return i.a.createElement(i.a.Fragment,null,this.BackLink(),i.a.createElement("form",{className:"app-form ".concat(this.state.fullScreen?"app-form-fullscreen":"")},this.FullscreenButton(),i.a.createElement("div",{role:"group",className:"app-form-fieldset"},this.AppFormSelection(),i.a.createElement("br",null),i.a.createElement(Ht,{appUrl:this.state.manageAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted,Reload:function Reload(){return e.setState({pageVersion:e.state.pageVersion+1})},className:"form-frame"}))))}},{key:"FormContent",value:function FormContent(e,t,a){return i.a.createElement(i.a.Fragment,null,this.BackLink(),i.a.createElement(M.l,{legend:e,redirectPath:t,cancelPath:a,OnSubmit:this.HandleSubmit},this.FullscreenButton(),i.a.createElement("div",null,this.AppFormSelection(),i.a.createElement("div",{className:"form-content"},this.TypeField(),this.Image(),this.BuildType(this.state.schema),this.PublicMetadataField(),this.MetadataField(),this.AccessChargeField()))))}},{key:"PageContent",value:function PageContent(){if(!this.state.schema&&!this.state.manageAppUrl)return null;var e=this.state.createForm?"Contribute content":"Manage content",t=Fe.a.dirname(this.props.match.url);this.state.createForm&&this.state.objectId&&(t=p()(Fe.a.dirname(this.props.match.url),this.state.objectId));var a=Fe.a.dirname(this.props.match.url);return this.state.completed?i.a.createElement(x.b,{push:!0,to:t}):this.state.manageAppUrl&&this.state.showManageApp?this.AppFrame(e):this.FormContent(e,t,a)}},{key:"render",value:function render(){var e=this;return i.a.createElement(M.b,{key:"object-form-page-".concat(this.state.pageVersion),Load:function _callee6(){var t;return B.a.async((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return(t=[]).push((function _callee2(){return B.a.async((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.typeStore.ContentTypes());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),t.push((function _callee3(){return B.a.async((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.libraryStore.ContentLibrary({libraryId:e.props.objectStore.libraryId}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),e.props.objectStore.objectId&&t.push((function _callee4(){return B.a.async((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),a.next=6,B.a.awrap(Promise.all(t.map((function _callee5(e){return B.a.async((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}))));case 6:e.setState({createForm:!e.props.objectStore.objectId}),e.Initialize();case 8:case"end":return a.stop()}}))},render:this.PageContent})}}]),ContentObjectForm}(i.a.Component))||Wt)||Wt)||Wt)||Wt,la=Object(T.b)("objectStore")(na=Object(T.c)(na=function(e){function ContentObjectReviewForm(e){var t;return m()(this,ContentObjectReviewForm),(t=y()(this,v()(ContentObjectReviewForm).call(this,e))).state={approve:!0,note:""},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t.FrameCompleted=t.FrameCompleted.bind(te()(t)),t}return C()(ContentObjectReviewForm,e),h()(ContentObjectReviewForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.objectStore.ReviewContentObject({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,approve:this.state.approve,note:this.state.note}));case 2:case"end":return e.stop()}}),null,this)}},{key:"FrameCompleted",value:function FrameCompleted(){this.setState({completed:!0})}},{key:"ReviewAppFrame",value:function ReviewAppFrame(e){var t={contentSpaceId:X.contentSpaceId,libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,type:this.props.objectStore.object.type,action:"review"};return i.a.createElement("form",null,i.a.createElement("fieldset",null,i.a.createElement("legend",null,e),i.a.createElement(Ht,{appUrl:this.state.reviewAppUrl,queryParams:t,onComplete:this.FrameCompleted,onCancel:this.FrameCompleted}),i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{className:"secondary",onClick:this.FrameCompleted},"Cancel"))))}},{key:"PageContent",value:function PageContent(){if(this.state.completed)return i.a.createElement(x.b,{push:!0,to:Fe.a.dirname(this.props.match.url)});var e='Review "'.concat(this.props.objectStore.object.name,'"');return this.state.reviewAppUrl?this.ReviewAppFrame(e):i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:e,redirectPath:Fe.a.dirname(this.props.match.url),cancelPath:Fe.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"approve"},"Approval"),i.a.createElement(M.t,{name:"approve",inline:!0,options:[["Approve",!0],["Reject",!1]],selected:this.state.approve,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"note"},"Note"),i.a.createElement("textarea",{name:"note",value:this.state.note,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 2:e.setState({reviewAppUrl:e.props.objectStore.object.reviewAppUrl||e.props.objectStore.object.typeInfo&&e.props.objectStore.object.typeInfo.reviewAppUrl});case 3:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentObjectReviewForm}(i.a.Component))||na)||na,ua=Object(T.b)("objectStore")(oa=Object(T.b)("groupStore")(oa=Object(T.c)(oa=function(e){function ContentObjectGroupForm(e){var t;return m()(this,ContentObjectGroupForm),(t=y()(this,v()(ContentObjectGroupForm).call(this,e))).state={groupAddress:"",see:!1,access:!1,manage:!1},t.PageContent=t.PageContent.bind(te()(t)),t.HandleGroupChange=t.HandleGroupChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentObjectGroupForm,e),h()(ContentObjectGroupForm,[{key:"HandleGroupChange",value:function HandleGroupChange(e){var t=(this.props.objectStore.object.groupPermissions[e.target.value]||{}).permissions||[];this.setState({groupAddress:e.target.value,see:!!t.includes("see"),access:!!t.includes("access"),manage:!!t.includes("manage")})}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.objectStore.UpdateContentObjectGroupPermissions({objectId:this.props.objectStore.objectId,groupAddress:this.state.groupAddress,see:this.state.see,access:this.state.access,manage:this.state.manage}));case 2:case"end":return e.stop()}}),null,this)}},{key:"Groups",value:function Groups(){var e=this,t=Object.values(this.props.groupStore.accessGroups).map((function(e){return i.a.createElement("option",{key:"group-".concat(e.address),value:e.address},e.name)}));return t=[].concat(V()(t),[i.a.createElement("option",{key:"group-address-other",value:""},"<other>")]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"groupAddress"},"Access Group"),i.a.createElement("select",{name:"groupAddress",onChange:this.HandleGroupChange},t),i.a.createElement("label",{htmlFor:"groupAddress"},"Address"),i.a.createElement("input",{name:"groupAddress",value:this.state.groupAddress,disabled:Object.keys(this.props.groupStore.accessGroups).includes(this.state.groupAddress),onChange:function onChange(t){return e.setState({groupAddress:t.target.value})}}))}},{key:"PageContent",value:function PageContent(){var e=this,t=Fe.a.dirname(this.props.match.url);return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Manage access group permissions for '".concat(this.props.objectStore.object.name||this.props.objectStore.objectId,"'"),redirectPath:t,cancelPath:t,OnSubmit:this.HandleSubmit,className:"small-form"},i.a.createElement("div",{className:"form-content"},this.Groups(),i.a.createElement("label",{htmlFor:"accessor"},"See"),i.a.createElement("input",{type:"checkbox",checked:this.state.see,onChange:function onChange(){return e.setState({see:!e.state.see})}}),i.a.createElement("label",{htmlFor:"contributor"},"Access"),i.a.createElement("input",{type:"checkbox",checked:this.state.access,onChange:function onChange(){return e.setState({access:!e.state.access})}}),i.a.createElement("label",{htmlFor:"reviewer"},"Manage"),i.a.createElement("input",{type:"checkbox",checked:this.state.manage,onChange:function onChange(){return e.setState({manage:!e.state.manage})}}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){var t;return B.a.async((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(e.props.groupStore.ListAccessGroups({params:{}}));case 2:return a.next=4,B.a.awrap(Promise.all([e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId})]));case 4:return a.next=6,B.a.awrap(e.props.objectStore.ContentObjectGroupPermissions({objectId:e.props.objectStore.objectId}));case 6:(t=Object.keys(e.props.groupStore.accessGroups)[0])&&e.HandleGroupChange({target:{value:t}});case 8:case"end":return a.stop()}}))},render:this.PageContent})}}]),ContentObjectGroupForm}(i.a.Component))||oa)||oa)||oa;function ContentObjectPartsForm_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ContentObjectPartsForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ContentObjectPartsForm_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ContentObjectPartsForm_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pa,da,ma,ba,ha,fa,ya,ga=Object(T.b)("objectStore")(sa=Object(T.c)(sa=function(e){function ContentObjectPartsForm(e){var t;return m()(this,ContentObjectPartsForm),(t=y()(this,v()(ContentObjectPartsForm).call(this,e))).state={encrypt:!1,progress:{}},t.PageContent=t.PageContent.bind(te()(t)),t.HandleFileSelect=t.HandleFileSelect.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentObjectPartsForm,e),h()(ContentObjectPartsForm,[{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:function HandleSubmit(){var e,t=this;return B.a.async((function HandleSubmit$(a){for(;;)switch(a.prev=a.next){case 0:return e=function callback(e){var a=e.uploaded,r=e.total,n=e.filename,o=Object(J.f)(a,r);t.setState({progress:ContentObjectPartsForm_objectSpread({},t.state.progress,W()({},n,o))})},a.next=3,B.a.awrap(this.props.objectStore.UploadParts({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,files:this.state.files,encrypt:this.state.encrypt,callback:e}));case 3:case"end":return a.stop()}}),null,this)}},{key:"PageContent",value:function PageContent(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Upload parts to ".concat(this.props.objectStore.object.meta.name||this.props.objectStore.objectId),redirectPath:Fe.a.dirname(this.props.match.url),cancelPath:Fe.a.dirname(this.props.match.url),className:"small-form",OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"files",className:"align-top"},"Files"),i.a.createElement(M.f,{name:"files",onChange:this.HandleFileSelect,required:!0,multiple:!0,progress:this.state.progress}),i.a.createElement("label",{htmlFor:"encrypt"},"Encrypt Parts"),i.a.createElement("input",{type:"checkbox",name:"encrypt",value:this.state.encrypt,checked:this.state.encrypt,onChange:function onChange(){e.setState({encrypt:!e.state.encrypt})}}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 2:case"end":return t.stop()}}))},render:this.PageContent})}}]),ContentObjectPartsForm}(i.a.Component))||sa)||sa,va={display:EluvioConfiguration.displayAppUrl,manage:EluvioConfiguration.manageAppUrl},wa=Object(T.b)("libraryStore")(pa=Object(T.b)("objectStore")(pa=Object(T.c)(pa=function(e){function ContentApps(e){var t;return m()(this,ContentApps),(t=y()(this,v()(ContentApps).call(this,e))).state={role:"",showUpload:!1,pageVersion:0},t.PageContent=t.PageContent.bind(te()(t)),t.DeleteApp=t.DeleteApp.bind(te()(t)),t.UseDefaultApp=t.UseDefaultApp.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContentApps,e),h()(ContentApps,[{key:"HandleSubmit",value:function HandleSubmit(e){var t,a,r;return B.a.async((function HandleSubmit$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.fileList,a=e.isDirectory,r=e.callback,n.next=3,B.a.awrap(this.props.objectStore.AddApp({libraryId:this.props.objectStore.libraryId,objectId:this.props.objectStore.objectId,role:this.state.role,isDirectory:a,fileList:t,callback:r}));case 3:case"end":return n.stop()}}),null,this)}},{key:"UploadModal",value:function UploadModal(){var e=this;if(!this.state.showUpload)return null;var t=function closeModal(){return e.setState({showUpload:!1})};return i.a.createElement(M.q,{closable:!0,OnClickOutside:t},i.a.createElement(ut,{legend:"Upload ".concat(this.state.role," Application"),path:this.state.path,displayPath:this.state.displayPath,encryptable:!1,Upload:this.HandleSubmit,OnCancel:t,OnComplete:function OnComplete(){t(),e.setState({pageVersion:e.state.pageVersion+1})}}))}},{key:"AppRoles",value:function AppRoles(){return["display","manage"]}},{key:"DeleteApp",value:function DeleteApp(e){var t=this;return B.a.async((function DeleteApp$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to remove the ".concat(e," app?"),onConfirm:function onConfirm(){return B.a.async((function onConfirm$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(t.props.objectStore.RemoveApp({libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,role:e}));case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return a.stop()}}))}}));case 2:case"end":return a.stop()}}))}},{key:"UseDefaultApp",value:function UseDefaultApp(e){var t=this;return B.a.async((function UseDefaultApp$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to use the default ".concat(e," app?"),onConfirm:function onConfirm(){return B.a.async((function onConfirm$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(t.props.objectStore.AddApp({libraryId:t.props.objectStore.libraryId,objectId:t.props.objectStore.objectId,role:e,useDefault:!0}));case 2:t.setState({pageVersion:t.state.pageVersion+1});case 3:case"end":return a.stop()}}))}}));case 2:case"end":return a.stop()}}))}},{key:"AppEntry",value:function AppEntry(e){var t,a,r,n,o=this,s=this.state.apps[e];if((!s||s&&"default"!==s.filename)&&va[e]&&(n=i.a.createElement(M.a,{onClick:function onClick(){return o.UseDefaultApp(e)}},"Use Default App")),s)r=i.a.createElement(M.a,{onClick:function onClick(){return o.DeleteApp(e)},className:"action danger action-compact action-wide"},"Remove ".concat(e.capitalize()," App")),t=i.a.createElement(Pe,{label:"Name"},s.filename);else{var c=this.props.objectStore.object.typeInfo&&this.props.objectStore.object.typeInfo.meta||{},l=(c.public||{})["eluv.".concat(e,"App")]||c["eluv.".concat(e,"App")];if(l){var u=c.name||"content type";t=i.a.createElement(Pe,{label:"Name"},"".concat(l," (").concat(u,")"))}}return a=i.a.createElement(M.a,{onClick:function onClick(){return o.setState({showUpload:!0,role:e})},className:"action-compact action-wide"},"Add Custom ".concat(e.capitalize()," App")),i.a.createElement("div",{key:"app-entry"+e},i.a.createElement("h3",null,e.capitalize()," App"),i.a.createElement("div",{className:"indented"},t,i.a.createElement("div",{className:"app-selection"},n,a,r)))}},{key:"PageContent",value:function PageContent(){var e=this,t=this.props.objectStore.object.isContentLibraryObject?this.props.libraryStore.library.name+" > Library Object":this.props.libraryStore.library.name+" > "+this.props.objectStore.object.name;return i.a.createElement("div",{className:"page-container contracts-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(ne,{header:t,subHeader:"App management"}),i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"label-box"},this.AppRoles().map((function(t){return e.AppEntry(t)})))),this.UploadModal())}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{key:"apps-page-".concat(this.state.pageVersion),Load:function _callee(){var t,a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B.a.awrap(e.props.libraryStore.ContentLibrary({libraryId:e.props.objectStore.libraryId}));case 2:return r.next=4,B.a.awrap(e.props.objectStore.ContentObject({libraryId:e.props.objectStore.libraryId,objectId:e.props.objectStore.objectId}));case 4:t={},a=e.props.objectStore.object.meta,e.AppRoles().map((function(e){var r=(a.public||{})["eluv.".concat(e,"App")]||a["eluv.".concat(e,"App")];r&&(t[e]={filename:r})})),e.setState({apps:t});case 8:case"end":return r.stop()}}))},render:this.PageContent})}}]),ContentApps}(i.a.Component))||pa)||pa)||pa,Ca=Object(T.b)("groupStore")(da=Object(T.c)(da=function(e){function AccessGroups(e){var t;return m()(this,AccessGroups),(t=y()(this,v()(AccessGroups).call(this,e))).state={listingVersion:0},t.AccessGroups=t.AccessGroups.bind(te()(t)),t}return C()(AccessGroups,e),h()(AccessGroups,[{key:"AccessGroups",value:function AccessGroups(){var e=this;return this.props.groupStore.accessGroups?Object.values(this.props.groupStore.accessGroups).map((function(t){return{id:t.address,title:t.name,description:t.description||t.address,status:"",icon:O.a,link:p()(e.props.match.url,t.address)}})):[]}},{key:"AccessGroupsListing",value:function AccessGroupsListing(){var e=this;return i.a.createElement(Ee,{className:"compact",pageId:"AccessGroups",paginate:!0,count:this.props.groupStore.accessGroupsCount,LoadContent:function _callee(t){var a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,B.a.awrap(e.props.groupStore.ListAccessGroups({params:a}));case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}}))},RenderContent:this.AccessGroups,noIcon:!0,noStatus:!0})}},{key:"render",value:function render(){return i.a.createElement("div",{className:"page-container contents-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:"/access-groups/create"},"New Access Group")),i.a.createElement(ne,{header:"Access Groups"}),this.AccessGroupsListing())}}]),AccessGroups}(i.a.Component))||da)||da,xa=a(47),ka=Object(T.b)("groupStore")(ma=Object(T.c)(ma=function(e){function AccessGroup(e){var t;return m()(this,AccessGroup),(t=y()(this,v()(AccessGroup).call(this,e))).state={visibleElements:{},view:"members",listingVersion:0},t.PageContent=t.PageContent.bind(te()(t)),t.DeleteAccessGroup=t.DeleteAccessGroup.bind(te()(t)),t.AccessGroupMembers=t.AccessGroupMembers.bind(te()(t)),t.RemoveAccessGroupMember=t.RemoveAccessGroupMember.bind(te()(t)),t.LeaveAccessGroup=t.LeaveAccessGroup.bind(te()(t)),t}return C()(AccessGroup,e),h()(AccessGroup,[{key:"DeleteAccessGroup",value:function DeleteAccessGroup(){var e=this;return B.a.async((function DeleteAccessGroup$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to delete this access group?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.groupStore.RemoveAccessGroup({address:e.props.groupStore.contractAddress}));case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},{key:"RemoveAccessGroupMember",value:function RemoveAccessGroupMember(e){var t,a=this;return B.a.async((function RemoveAccessGroupMember$(r){for(;;)switch(r.prev=r.next){case 0:return t="managers"===this.state.view,r.next=3,B.a.awrap(Object(M.g)({message:"Are you sure you want to remove this ".concat(t?"manager":"member"," from the group?"),onConfirm:function onConfirm(){return B.a.async((function onConfirm$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B.a.awrap(a.props.groupStore.RemoveAccessGroupMember({contractAddress:a.props.groupStore.contractAddress,memberAddress:e,manager:t}));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))}}));case 3:this.state.listingRef&&this.state.listingRef.Load();case 4:case"end":return r.stop()}}),null,this)}},{key:"LeaveAccessGroup",value:function LeaveAccessGroup(){var e=this;return B.a.async((function LeaveAccessGroup$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to leave this group?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.groupStore.LeaveAccessGroup({contractAddress:e.props.groupStore.contractAddress}));case 2:e.setState({redirect:!0});case 3:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},{key:"AccessGroupMembers",value:function AccessGroupMembers(){var e=this,t="managers"===this.state.view?this.props.groupStore.accessGroup.managers:this.props.groupStore.accessGroup.members;return t?Object.values(t).map((function(t){var a=e.props.groupStore.accessGroup.isManager||e.props.groupStore.accessGroup.isOwner;return{id:t.address,sortKey:t.name||"zz",key:"".concat(e.state.view,"-").concat(t.address),title:t.name,description:t.address,status:i.a.createElement("div",{className:"listing-action-icon"},i.a.createElement(M.m,{icon:D.a,label:"Remove ".concat("managers"===e.state.view?"Manager":"Member"),onClick:function _callee(){return B.a.async((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(e.RemoveAccessGroupMember(t.address));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},hidden:!a},"Remove"))}})).sort((function(e,t){return e.sortKey.toLowerCase()>t.sortKey.toLowerCase()?1:-1})):[]}},{key:"AccessGroupMembersListing",value:function AccessGroupMembersListing(){var e=this,t="managers"===this.state.view?this.props.groupStore.accessGroup.managersCount:this.props.groupStore.accessGroup.membersCount;return i.a.createElement(Ee,{ref:function ref(t){e.state.listingRef||e.setState({listingRef:t})},key:"".concat(this.state.view,"-listing"),className:"compact",pageId:"AccessGroupMembers",paginate:!0,count:t,LoadContent:function _callee2(t){var a;return B.a.async((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,B.a.awrap(e.props.groupStore.ListAccessGroupMembers({contractAddress:e.props.groupStore.contractAddress,showManagers:"managers"===e.state.view,params:a}));case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}}))},RenderContent:this.AccessGroupMembers,noIcon:!0})}},{key:"Actions",value:function Actions(){return i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"edit"),hidden:!this.props.groupStore.accessGroup.isOwner},"Manage"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"add-member"),hidden:!this.props.groupStore.accessGroup.isManager},"Add Member"),i.a.createElement(M.a,{className:"danger",onClick:this.LeaveAccessGroup,hidden:this.props.groupStore.accessGroup.isOwner},"Leave Group"),i.a.createElement(M.a,{className:"danger",onClick:this.DeleteAccessGroup,hidden:!0},"Delete"))}},{key:"PageContent",value:function PageContent(){var e=this;if(this.state.redirect)return i.a.createElement(x.b,{push:!0,to:Fe.a.dirname(this.props.match.url)});var t,a,r=this.props.groupStore.accessGroup,n=r.ownerName?i.a.createElement("span",null,r.ownerName,i.a.createElement("span",{className:"help-text"},"(",r.owner,")")):r.owner,o=i.a.createElement(Ge,{className:"object-description",text:r.description});if(r.oauthIssuer&&(t=i.a.createElement(Pe,{label:"OAuth Issuer"},r.oauthIssuer)),r.oauthClaims)try{var s=JSON.parse(r.oauthClaims);s.groups&&(a=i.a.createElement(Pe,{label:"OAuth Groups"},s.groups))}catch(e){console.error("Failed to parse OAuth claims:"),console.error(e)}return i.a.createElement("div",{className:"page-container access-group-page-container"},this.Actions(),i.a.createElement(ne,{header:r.name}),i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"label-box"},i.a.createElement(Pe,{label:"Description"},o),i.a.createElement(Pe,{label:"Owner"},n),i.a.createElement(Pe,{label:"Contract Address"},i.a.createElement(l.b,{className:"inline-link",to:p()(this.props.match.url,"contract")},r.address)),t,a),i.a.createElement(M.u,{options:[["Members","members"],["Managers","managers"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}}),this.AccessGroupMembersListing()))}},{key:"render",value:function render(){var e=this;return i.a.createElement(xa.a,{Load:function _callee3(){return B.a.async((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.props.groupStore.AccessGroup({contractAddress:e.props.groupStore.contractAddress}));case 1:case"end":return t.stop()}}))},render:this.PageContent})}}]),AccessGroup}(i.a.Component))||ma)||ma,ja=a(43),Sa=Object(T.b)("groupStore")(ba=Object(T.c)(ba=function(e){function AccessGroupForm(e){var t;return m()(this,AccessGroupForm),(t=y()(this,v()(AccessGroupForm).call(this,e))).state={createForm:!e.groupStore.contractAddress,name:"",description:"",isOauthGroup:!1,oauthIssuer:"",oauthClaims:"",modifyMetadata:!1,metadata:""},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(AccessGroupForm,e),h()(AccessGroupForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:function HandleSubmit(){var e;return B.a.async((function HandleSubmit$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(this.props.groupStore.SaveAccessGroup({address:this.props.groupStore.contractAddress,name:this.state.name,description:this.state.description,metadata:this.state.metadata,oauthIssuer:this.state.oauthIssuer,oauthClaims:this.state.oauthClaims}));case 2:e=t.sent,this.setState({contractAddress:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"OauthInfo",value:function OauthInfo(){return this.state.isOauthGroup?i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"oauthIssuer"},"Issuer"),i.a.createElement("input",{name:"oauthIssuer",value:this.state.oauthIssuer,onChange:this.HandleInputChange}),i.a.createElement("label",{htmlFor:"oauthClaims",className:"align-top"},"Claims"),i.a.createElement(ja.a,{name:"oauthClaims",value:this.state.oauthClaims,onChange:this.HandleInputChange})):null}},{key:"Metadata",value:function Metadata(){return this.state.modifyMetadata?i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"metadata",className:"align-top"},"Metadata"),i.a.createElement(ja.a,{name:"metadata",value:this.state.metadata,onChange:this.HandleInputChange})):null}},{key:"PageContent",value:function PageContent(){var e=this,t=Fe.a.dirname(this.props.match.url),a=this.state.createForm?p()(t,this.state.contractAddress||""):t;return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:this.state.createForm?"Create Access Group":"Manage Access Group",redirectPath:a,cancelPath:t,OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{name:"name",value:this.state.name,onChange:this.HandleInputChange}),i.a.createElement("label",{htmlFor:"description",className:"align-top"},"Description"),i.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),i.a.createElement("label",{htmlFor:"modifyMetadata"},"Edit Metadata"),i.a.createElement("input",{name:"modifyMetadata",type:"checkbox",checked:this.state.modifyMetadata,onChange:function onChange(){return e.setState({modifyMetadata:!e.state.modifyMetadata})}}),this.Metadata(),i.a.createElement("label",{htmlFor:"isOauthGroup"},"Link with OAuth"),i.a.createElement("input",{name:"isOauthGroup",type:"checkbox",checked:this.state.isOauthGroup,onChange:function onChange(){return e.setState({isOauthGroup:!e.state.isOauthGroup})}}),this.OauthInfo())))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){var t;return B.a.async((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(e.state.createForm){a.next=5;break}return a.next=3,B.a.awrap(e.props.groupStore.AccessGroup({contractAddress:e.props.groupStore.contractAddress}));case 3:t=e.props.groupStore.accessGroup,e.setState({name:t.name,metadata:JSON.stringify(Object(z.q)(t.metadata),null,2),description:t.description,isOauthGroup:!!t.oauthIssuer,oauthIssuer:t.oauthIssuer||"",oauthClaims:t.oauthClaims||""});case 5:case"end":return a.stop()}}))},render:this.PageContent})}}]),AccessGroupForm}(i.a.Component))||ba)||ba,Ia=Object(T.b)("groupStore")(ha=Object(T.c)(ha=function(e){function AccessGroupMemberForm(e){var t;return m()(this,AccessGroupMemberForm),(t=y()(this,v()(AccessGroupMemberForm).call(this,e))).state={memberAddress:"",manager:!1},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(AccessGroupMemberForm,e),h()(AccessGroupMemberForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.groupStore.AddAccessGroupMember({contractAddress:this.props.groupStore.contractAddress,memberAddress:this.state.memberAddress,manager:this.state.manager}));case 2:case"end":return e.stop()}}),null,this)}},{key:"PageContent",value:function PageContent(){var e=this,t=Fe.a.dirname(this.props.match.url);return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Add member to '".concat(this.props.groupStore.accessGroup.name,"'"),redirectPath:t,cancelPath:t,OnSubmit:this.HandleSubmit,className:"small-form"},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"memberAddress"},"Address"),i.a.createElement("input",{name:"memberAddress",value:this.state.memberAddress,onChange:this.HandleInputChange}),i.a.createElement("label",{htmlFor:"manager"},"Manager"),i.a.createElement("input",{type:"checkbox",name:"manager",value:this.state.manager,onChange:function onChange(){return e.setState({manager:!e.state.manager})}}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(M.b,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.groupStore.AccessGroup({contractAddress:e.props.groupStore.contractAddress}));case 2:case"end":return t.stop()}}))},render:this.PageContent})}}]),AccessGroupMemberForm}(i.a.Component))||ha)||ha,Ea=Object(T.b)("contractStore")(fa=Object(T.c)(fa=function(e){function Contracts(e){var t;return m()(this,Contracts),(t=y()(this,v()(Contracts).call(this,e))).state={view:t.props.match.url.endsWith("/saved")?"saved":"deployed",listingVersion:0},t.Contracts=t.Contracts.bind(te()(t)),t}return C()(Contracts,e),h()(Contracts,[{key:"Contracts",value:function Contracts(e){var t=this;return e?Object.keys(e).map((function(a){var r="deployed"===t.state.view?p()("/contracts","deployed",a):p()("/contracts",a),n=e[a],o=Object.values(n.abi).filter((function(e){return"event"===e.type})).length;o=1===o?o+" event":o+" events";var s=Object.values(n.abi).filter((function(e){return"function"===e.type})).length;return s=1===s?s+" method":s+" methods",{id:a,title:n.name,description:n.description,status:"".concat(o,", ").concat(s),link:r}})):[]}},{key:"ContractsListing",value:function ContractsListing(){var e=this;return"saved"===this.state.view?i.a.createElement(Ee,{key:"contracts-listing",className:"compact",pageId:"Contracts",paginate:!0,count:this.props.contractStore.contractsCount,LoadContent:function _callee(t){var a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,B.a.awrap(e.props.contractStore.ListContracts({params:a}));case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}}))},RenderContent:function RenderContent(){return e.Contracts(e.props.contractStore.contracts)},noIcon:!0}):i.a.createElement(Ee,{key:"deployed-contracts-listing",pageId:"Contracts",paginate:!0,count:this.props.contractStore.deployedContractsCount,LoadContent:function _callee2(t){var a;return B.a.async((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.params,r.next=3,B.a.awrap(e.props.contractStore.ListDeployedContracts({params:a}));case 3:e.setState({listingVersion:e.state.listingVersion+1});case 4:case"end":return r.stop()}}))},RenderContent:function RenderContent(){return e.Contracts(e.props.contractStore.deployedContracts)},noIcon:!0})}},{key:"render",value:function render(){var e=this,t=i.a.createElement(M.u,{options:[["Deployed","deployed"],["Saved","saved"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}});return i.a.createElement("div",{className:"page-container contents-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:"/contracts/compile"},"New Contract"),i.a.createElement(M.a,{type:"link",to:"/contracts/deploy"},"Deploy Contract"),i.a.createElement(M.a,{type:"link",to:"/contracts/watch"},"Watch Contract")),i.a.createElement(ne,{header:"Contracts"}),t,this.ContractsListing())}}]),Contracts}(i.a.Component))||fa)||fa;function Contract_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Contract_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Contract_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Contract_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Oa,Aa,Fa,Na,La=Object(T.b)("contractStore")(ya=Object(T.c)(ya=function(e){function Contract(e){var t;return m()(this,Contract),(t=y()(this,v()(Contract).call(this,e))).state={visibleMethods:{},deleted:!1},t.PageContent=t.PageContent.bind(te()(t)),t.DeleteContract=t.DeleteContract.bind(te()(t)),t}return C()(Contract,e),h()(Contract,[{key:"ToggleElement",value:function ToggleElement(e){this.setState({visibleMethods:Contract_objectSpread({},this.state.visibleMethods,W()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleMethods[t],n=(r?"Hide ":"Show ")+e;return i.a.createElement(M.a,{className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleElement(t)}},n)}},{key:"DeleteContract",value:function DeleteContract(){var e=this;return B.a.async((function DeleteContract$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to remove this contract?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.contractStore.RemoveContract({name:e.props.contractStore.contractName}));case 2:e.setState({deleted:!0});case 3:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},{key:"ContractInfo",value:function ContractInfo(e){var t=this;return e.map((function(e){if(!e.name&&"constructor"!==e.type)return null;var a=t.state.visibleMethods[e.name]?i.a.createElement("pre",null,JSON.stringify(e,null,2)):null;return i.a.createElement("div",{className:"indented",key:"contract-method-"+e.name},i.a.createElement(Pe,{label:e.name,wideLabel:!0},t.ToggleButton(e.type.capitalize()+" Info",e.name)),a)}))}},{key:"PageContent",value:function PageContent(){if(this.state.deleted)return i.a.createElement(x.b,{push:!0,to:Fe.a.dirname(this.props.match.url)});var e=i.a.createElement(Ge,{className:"object-description",text:this.props.contractStore.contract.description}),t=this.state.visibleMethods.__abi?i.a.createElement("pre",null,JSON.stringify(this.props.contractStore.contract.abi,null,2)):null,a=this.state.visibleMethods.__bytecode?i.a.createElement("pre",null,this.props.contractStore.contract.bytecode):null,r=this.props.contractStore.contract.abi||[],n=Object.values(r),o=n.filter((function(e){return"constructor"===e.type})),s=n.filter((function(e){return"event"===e.type})),c=n.filter((function(e){return"function"===e.type})),l=c.filter((function(e){return e.constant})),u=c.filter((function(e){return!e.constant}));return i.a.createElement("div",{className:"page-container contracts-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:"/contracts/saved",className:"secondary"},"Back"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"edit")},"Edit Contract"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"deploy")},"Deploy Contract"),i.a.createElement(M.a,{className:"danger",onClick:this.DeleteContract},"Delete Contract")),i.a.createElement(ne,{header:this.props.contractStore.contractName}),i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"label-box"},i.a.createElement("h3",null,"Contract Info"),i.a.createElement(Pe,{label:"Description"},e),i.a.createElement(Pe,{label:"ABI"},this.ToggleButton("Full ABI","__abi")),t,i.a.createElement(Pe,{label:"Bytecode"},this.ToggleButton("Bytecode","__bytecode")),a,i.a.createElement("h3",null,"Contract Constructor"),this.ContractInfo(o),i.a.createElement("h3",null,"Constant Methods"),this.ContractInfo(l),i.a.createElement("h3",null,"Dynamic Methods"),this.ContractInfo(u),i.a.createElement("h3",null,"Contract Events"),this.ContractInfo(s))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.contractStore.ListContracts({params:{paginate:!1}}));case 2:case"end":return t.stop()}}))},render:this.PageContent})}}]),Contract}(i.a.Component))||ya)||ya,_a=Object(T.b)("contractStore")(Oa=Object(T.c)(Oa=function(e){function CompileContractForm(e){var t;return m()(this,CompileContractForm),(t=y()(this,v()(CompileContractForm).call(this,e))).state={compileFromSource:!0,files:[],name:"",description:"",abi:"",bytecode:""},t.HandleFileSelect=t.HandleFileSelect.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(CompileContractForm,e),h()(CompileContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value)),"compileFromSource"===e.target.name&&this.setState({errors:void 0})}},{key:"HandleFileSelect",value:function HandleFileSelect(e){this.setState({files:e.target.files})}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.compileFromSource){e.next=12;break}return e.prev=1,e.next=4,B.a.awrap(this.props.contractStore.CompileContracts(this.state.files));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.setState({errors:e.t0}),"Compilation Error";case 10:e.next=14;break;case 12:return e.next=14,B.a.awrap(this.props.contractStore.SaveContract({name:this.state.name,description:this.state.description,abi:this.state.abi,bytecode:this.state.bytecode}));case 14:case"end":return e.stop()}}),null,this,[[1,6]])}},{key:"Errors",value:function Errors(){return this.state.errors?i.a.createElement("pre",null,"Compilation errors: \n\n"+this.state.errors):null}},{key:"AbiForm",value:function AbiForm(){return this.state.compileFromSource?null:i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),i.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),i.a.createElement(M.o,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"bytecode"},"Bytecode"),i.a.createElement("textarea",{name:"bytecode",required:!0,value:this.state.bytecode,onChange:this.HandleInputChange}))}},{key:"FileSelection",value:function FileSelection(){return this.state.compileFromSource?i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"contractFiles",className:"align-top"},"Contract Files"),i.a.createElement(M.f,{name:"contractFiles",onChange:this.HandleFileSelect,required:!0,multiple:!0})):null}},{key:"render",value:function render(){var e=Fe.a.dirname(this.props.match.url),t=this.state.compileFromSource?p()(e,"save"):p()(e,"saved");return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Compile contracts",redirectPath:t,cancelPath:e,status:status,OnSubmit:this.HandleSubmit,className:"small-form"},i.a.createElement("div",null,i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"source"},"Source"),i.a.createElement(M.t,{name:"compileFromSource",options:[["Solidity",!0],["ABI and Bytecode",!1]],inline:!0,selected:this.state.compileFromSource,onChange:this.HandleInputChange})),this.FileSelection(),this.AbiForm(),this.Errors())))}}]),CompileContractForm}(i.a.Component))||Oa)||Oa,Pa=Object(T.b)("contractStore")(Aa=Object(T.c)(Aa=function(e){function ContractForm(e){var t;return m()(this,ContractForm),(t=y()(this,v()(ContractForm).call(this,e))).state={contractName:"",name:"",description:"",abi:"",bytecode:""},t.PageContent=t.PageContent.bind(te()(t)),t.SwitchContract=t.SwitchContract.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(ContractForm,e),h()(ContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"SwitchContract",value:function SwitchContract(e){if(this.props.contractStore.compiledContracts){var t=e.split(":").slice(-1)[0],a=this.props.contractStore.compiledContracts[e];this.setState({name:t,selectedContract:e,abi:a.interface,bytecode:a.bytecode,contract:a})}}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.contractStore.SaveContract({name:this.state.name,oldContractName:this.state.contractName||this.state.name,description:this.state.description,abi:this.state.contract.interface||this.state.contract.abi,bytecode:this.state.contract.bytecode}));case 2:case"end":return e.stop()}}),null,this)}},{key:"AvailableContracts",value:function AvailableContracts(){var e=this,t=Object.keys(this.props.contractStore.compiledContracts).map((function(e){return i.a.createElement("option",{key:e,value:e},e)}));return i.a.createElement("select",{key:"contract-options",name:"selectedContract",onChange:function onChange(t){return e.SwitchContract(t.target.value)}},t)}},{key:"ContractSelection",value:function ContractSelection(){return this.state.createForm?[i.a.createElement("label",{key:"selected-contract-label",htmlFor:"selectedContract"},"Contract"),this.AvailableContracts()]:null}},{key:"PageContent",value:function PageContent(){if(this.state.createForm&&!this.props.contractStore.compiledContracts)return i.a.createElement(x.b,{to:Fe.a.dirname(this.props.match.url)});var e=Fe.a.dirname(this.props.match.url);return this.props.contractStore.contract&&(e=p()(Fe.a.dirname(Fe.a.dirname(this.props.match.url)),this.state.name)),i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:e,className:"secondary"},"Back")),i.a.createElement(M.l,{legend:this.state.createForm?"Save contract":"Edit Contract",redirectPath:e,cancelPath:e,OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{name:"name",required:!0,value:this.state.name,onChange:this.HandleInputChange}),this.ContractSelection(),i.a.createElement("label",{htmlFor:"description",className:"align-top"},"Description"),i.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){var t,a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B.a.awrap(e.props.contractStore.ListContracts({params:{paginate:!1}}));case 2:return r.next=4,B.a.awrap(e.props.contractStore.ListDeployedContracts({params:{paginate:!1}}));case 4:t=e.props.contractStore.contract||{},e.setState({createForm:!e.props.contractStore.contract,contract:t,contractName:t.name,name:t.name||"",description:t.description||"",abi:t.abi||"",bytecode:t.bytecode||""}),e.state.createForm&&e.props.contractStore.compiledContracts&&(a=Object.keys(e.props.contractStore.compiledContracts)[0],e.SwitchContract(a));case 7:case"end":return r.stop()}}))},render:this.PageContent})}}]),ContractForm}(i.a.Component))||Aa)||Aa,Ma=Object(T.b)("contractStore")(Fa=Object(T.c)(Fa=function(e){function WatchContractForm(e){var t;return m()(this,WatchContractForm),(t=y()(this,v()(WatchContractForm).call(this,e))).state={name:"",description:"",abi:"",address:""},t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(WatchContractForm,e),h()(WatchContractForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.contractStore.WatchContract({name:this.state.name,description:this.state.description,address:this.state.address,abi:this.state.abi}));case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function render(){var e=p()(Fe.a.dirname(this.props.match.url),"deployed",this.state.address);return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:"Watch Deployed Contract",redirectPath:e,cancelPath:Fe.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),i.a.createElement("label",{htmlFor:"address"},"Address"),i.a.createElement("input",{name:"address",value:this.state.address,required:!0,placeholder:"0x0000000000000000000000000000000000000000",onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"description"},"Description"),i.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.HandleInputChange}),i.a.createElement("label",{className:"align-top",htmlFor:"abi"},"ABI"),i.a.createElement(M.o,{name:"abi",value:this.state.abi,required:!0,onChange:this.HandleInputChange}))))}}]),WatchContractForm}(i.a.Component))||Fa)||Fa;function DeployContractForm_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function DeployContractForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?DeployContractForm_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DeployContractForm_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ta,Ga=Object(T.b)("contractStore")(Na=Object(T.c)(Na=function(e){function DeployContractForm(e){var t;m()(this,DeployContractForm),t=y()(this,v()(DeployContractForm).call(this,e));var a=e.contractStore.contractName,r=X.contentSpaceLibraryId===e.contractStore.libraryId,n=!!a,o=Fe.a.dirname(t.props.match.url);return n&&(o=Fe.a.dirname(o)),t.state={name:"",description:"",funds:0,redirectPath:o,isContentObjectContract:!!t.props.contractStore.objectId,isContentTypeContract:r,selectedContract:a,fixedContract:n,contractSource:"saved",contracts:{},currentContractFunds:0},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleContractChange=t.HandleContractChange.bind(te()(t)),t.HandleContractSourceChange=t.HandleContractSourceChange.bind(te()(t)),t.HandleConstructorInputChange=t.HandleConstructorInputChange.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t}return C()(DeployContractForm,e),h()(DeployContractForm,[{key:"Contracts",value:function Contracts(){return"saved"===this.state.contractSource?this.props.contractStore.contracts:this.props.contractStore.deployedContracts}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleContractSourceChange",value:function HandleContractSourceChange(e){var t=this;this.setState({contractSource:e.target.value,selectedContract:void 0},(function(){return t.HandleContractChange()}))}},{key:"HandleContractChange",value:function HandleContractChange(e){var t,a,r,n,o;return B.a.async((function HandleContractChange$(s){for(;;)switch(s.prev=s.next){case 0:if(t=this.Contracts(),a=e&&e.target.value||this.state.selectedContract||Object.keys(t)[0],r=t[a],a&&r){s.next=6;break}return this.setState({selectedContract:a}),s.abrupt("return");case 6:n=r.abi.find((function(e){return"constructor"===e.type})),o={},n&&n.inputs&&n.inputs.map((function(e){o[e.name]=""})),this.setState({selectedContract:a,constructorInputs:o,constructor:n,factoryAbi:"",funds:0}),"deployed"===this.state.contractSource&&this.setState({balance:this.props.contractStore.GetContractBalance({contractAddress:r.address})});case 11:case"end":return s.stop()}}),null,this)}},{key:"HandleConstructorInputChange",value:function HandleConstructorInputChange(e){this.setState({constructorInputs:DeployContractForm_objectSpread({},this.state.constructorInputs,W()({},e.target.name,e.target.value))})}},{key:"ConstructorInput",value:function ConstructorInput(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map((function(t){return e.state.constructorInputs[t.name]})):[]}},{key:"HandleSubmit",value:function HandleSubmit(){var e,t;return B.a.async((function HandleSubmit$(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Contracts()[this.state.selectedContract],!this.state.isContentObjectContract){a.next=7;break}return a.next=4,B.a.awrap(this.props.contractStore.SetCustomContract({libraryId:this.props.contractStore.libraryId,objectId:this.props.contractStore.objectId,contractName:this.state.selectedContract,contractDescription:e.description,address:e.address,abi:e.abi,factoryAbi:this.state.factoryAbi,bytecode:e.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds}));case 4:t=a.sent,a.next=10;break;case 7:return a.next=9,B.a.awrap(this.props.contractStore.DeployContract({contractName:this.state.name,contractDescription:this.state.description,abi:e.abi,bytecode:e.bytecode,inputs:this.ConstructorInput(),funds:this.state.funds}));case 9:t=a.sent;case 10:this.setState({contractAddress:t});case 11:case"end":return a.stop()}}),null,this)}},{key:"ConstructorForm",value:function ConstructorForm(){var e=this;return this.state.constructor&&this.state.constructor.inputs?this.state.constructor.inputs.map((function(t){return[i.a.createElement("label",{key:"contract-constructor-param-label-"+t.name,htmlFor:t.name},t.name),i.a.createElement("input",{key:"contract-constructor-param-"+t.name,placeholder:t.type,name:t.name,required:!0,value:e.state.constructorInputs[t.name],onChange:e.HandleConstructorInputChange})]})):null}},{key:"ContractSelection",value:function ContractSelection(){var e=this;if(this.state.fixedContract)return[i.a.createElement("label",{key:"contract-selection-label"},"Contract"),i.a.createElement("div",{key:"contract-selection",className:"form-text"},this.state.selectedContract)];var t=Object.keys(this.Contracts()).map((function(t){return i.a.createElement("option",{key:t,value:t},e.Contracts()[t].name)}));return[i.a.createElement("label",{key:"contract-selection-label",htmlFor:"selectedContract"},"Contract"),i.a.createElement("select",{key:"contract-selection",name:"selectedContract",onChange:this.HandleContractChange,value:this.state.selectedContract,disabled:this.state.fixedContract},t)]}},{key:"ContractSourceSelection",value:function ContractSourceSelection(){return this.state.fixedContract||!this.state.isContentObjectContract?null:[i.a.createElement("label",{key:"contract-source-label",htmlFor:"contractSource"},"Contract Source"),i.a.createElement(M.t,{key:"contract-source",name:"contractSource",options:[["Saved","saved"],["Deployed","deployed"]],inline:!0,selected:this.state.contractSource,onChange:this.HandleContractSourceChange})]}},{key:"ContractInfoFields",value:function ContractInfoFields(){return this.state.isContentObjectContract?null:[i.a.createElement("label",{key:"contract-name-label",htmlFor:"name"},"Name"),i.a.createElement("input",{key:"contract-name",name:"name",value:this.state.name,required:!0,onChange:this.HandleInputChange}),i.a.createElement("label",{key:"contract-description-label",className:"align-top",htmlFor:"description"},"Description"),i.a.createElement("textarea",{key:"contract-description",name:"description",value:this.state.description,onChange:this.HandleInputChange})]}},{key:"ContractFunds",value:function ContractFunds(e){var t=[],a="Funds";return"deployed"===this.state.contractSource&&(a="Additional Funds",t=[i.a.createElement("label",{key:"contract-balance-label"},"Current Balance"),i.a.createElement("div",{key:"contract-balance",className:"form-text"},e)]),[].concat(V()(t),[i.a.createElement("label",{key:"contract-funds-label",htmlFor:"funds"},a),i.a.createElement("input",{key:"contract-funds",name:"funds",value:this.state.funds,type:"number",step:"0.00000001",onChange:this.HandleInputChange})])}},{key:"FactoryAbi",value:function FactoryAbi(){if(this.state.isContentTypeContract)return[i.a.createElement("label",{key:"contract-factory-abi-info-label"},"Factory ABI"),i.a.createElement("div",{key:"contract-factory-abi-info",className:"form-text"},"If this contract is a factory, specify the ABI of the contract that will be applied to the content objects of this type"),i.a.createElement("label",{key:"contract-factory-abi-label",className:"align-top",htmlFor:"factoryAbi"}),i.a.createElement(M.o,{key:"contract-factory-abi",name:"factoryAbi",value:this.state.factoryAbi,onChange:this.HandleInputChange})]}},{key:"ContractForm",value:function ContractForm(){if(0===Object.keys(this.Contracts()).length)return i.a.createElement("div",null,i.a.createElement("div",{className:"form-content"},this.ContractSourceSelection()),i.a.createElement("label",null),i.a.createElement("div",{className:"form-text"},"No ".concat(this.state.contractSource," contracts available")));var e,t=this.Contracts()[this.state.selectedContract]||{};return t.description&&(e=[i.a.createElement("label",{key:"contract-description-label",htmlFor:"selectedContractDescription"}),i.a.createElement("div",{key:"contract-description",className:"form-text"},t.description)]),i.a.createElement("div",null,i.a.createElement("div",{className:"form-content"},this.ContractSourceSelection(),this.ContractSelection(),this.FactoryAbi(),this.ContractInfoFields(),e,this.ConstructorForm(),this.ContractFunds(t.balance)))}},{key:"PageContent",value:function PageContent(){var e=this.state.isContentObjectContract?"Set Custom Contract":"Deploy Custom Contract",t=Fe.a.dirname(this.props.match.url),a=this.state.isContentObjectContract?t:p()("/contracts","deployed",this.state.contractAddress||"");return i.a.createElement("div",null,i.a.createElement("div",{className:"actions-container manage-actions"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(M.l,{legend:e,redirectPath:a,cancelPath:t,OnSubmit:this.HandleSubmit},this.ContractForm()))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){var t,a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,B.a.awrap(e.props.contractStore.ListContracts({params:{paginate:!1}}));case 2:return r.next=4,B.a.awrap(e.props.contractStore.ListDeployedContracts({params:{paginate:!1}}));case 4:t=e.state.selectedContract,a="saved",t||(Object.keys(e.props.contractStore.contracts).length>0?t=Object.keys(e.props.contractStore.contracts)[0]:Object.keys(e.props.contractStore.deployedContracts).length>0&&(t=Object.keys(e.props.contractStore.deployedContracts)[0],a="deployed")),e.setState({selectedContract:t,contractSource:a},(function(){return e.HandleContractChange()}));case 8:case"end":return r.stop()}}))},render:this.PageContent})}}]),DeployContractForm}(i.a.Component))||Na)||Na,Ha={accessGroup:"accessGroup",contentSpace:"contentSpace",contentType:"contentType",customObject:"customObject",library:"library",object:"object",unknown:"unknown"},Da=function DetermineContractInterface(e){var t=e.libraryId,a=e.objectId,r=e.isAccessGroup,n=e.isCustomContentObjectContract,o=e.contractAddressParam,s=t===X.contentSpaceLibraryId,i=a&&X.utils.EqualHash(t,a);return r?{type:Ha.accessGroup,description:"Base Access Group Contract",contractAddress:o}:s&&i?{type:Ha.contentSpace,description:"Base Content Space Contract",contractAddress:X.utils.HashToAddress(t)}:i?{type:Ha.library,description:"Base Content Library Contract",contractAddress:X.utils.HashToAddress(t)}:s&&!n?{type:Ha.contentType,description:"Base Content Type Contract",contractAddress:X.utils.HashToAddress(a)}:a?n?{type:Ha.customObject,description:"Custom Content Object Contract",contractAddress:void 0}:{type:Ha.object,description:"Base Content Object Contract",contractAddress:X.utils.HashToAddress(a)}:{type:Ha.unknown,description:void 0,contractAddress:X.utils.FormatAddress(o)}},za=a(35),Ra=a.n(za),$a=Object(T.b)("eventsStore")(Ta=Object(T.c)(Ta=function(e){function EventLogs(e){var t;return m()(this,EventLogs),(t=y()(this,v()(EventLogs).call(this,e))).state={view:"formatted"},t}return C()(EventLogs,e),h()(EventLogs,[{key:"Key",value:function Key(e){return"log-".concat(e.transactionHash,"-").concat(e.logIndex)}},{key:"Inputs",value:function Inputs(e){return e.values?Object.entries(e.values).filter((function(e){var t=ce()(e,1)[0];return"length"!==t&&parseInt(t).toString()!==t})).map((function(e){var t=ce()(e,2),a=t[0],r=t[1];return null==r?[a,"null"]:"object"===Ra()(r)&&r._hex?[a,"".concat(parseInt(r._hex,16)," (").concat(r._hex,")")]:66===r.length?[a,Object(J.e)(r),r]:r.toString().startsWith("0x")&&42===r.length?[a,Object(J.d)(r)]:[a,r.toString()]})):[]}},{key:"InputFields",value:function InputFields(e){var t=this.Inputs(e);if(0===t.length)return null;var a=t.map((function(e){var t=ce()(e,2),a=t[0],r=t[1];return i.a.createElement("div",{className:"labelled-field",key:"input-"+a},i.a.createElement("label",null,a),i.a.createElement("div",{className:"value",title:r.toString()},r))}));return i.a.createElement("div",{className:"transaction-input"},i.a.createElement("div",{className:"section-label"},"Method Inputs"),a)}},{key:"Id",value:function Id(e){var t,a=this.props.eventsStore.contractNames[Object(J.d)(e.address)];switch(a&&"Unknown"!==a||(a=e.contract),a){case"BaseContentSpace":t=X.utils.AddressToSpaceId(e.address);break;case"BaseLibrary":t=X.utils.AddressToLibraryId(e.address);break;case"BaseContent":case"BaseContentType":case"BsAccessWallet":case"BsAccessCtrlGrp":t=X.utils.AddressToObjectId(e.address);break;default:return}return t}},{key:"Value",value:function Value(e){return"0"===(e=e?X.utils.WeiToEther(parseInt(e._hex,16)):"0").toString()?null:i.a.createElement("div",{className:"labelled-field"},i.a.createElement("label",null,"Value"),i.a.createElement("div",{className:"value"},i.a.createElement(M.c,{balance:e.toString()})))}},{key:"From",value:function From(e){return e.fromName?i.a.createElement("span",null,e.fromName,i.a.createElement("span",{className:"help-text"},"(",Object(J.d)(e.from),")")):Object(J.d)(e.from)}},{key:"To",value:function To(e){return e.address?Object(J.d)(e.address):e.toName?i.a.createElement("span",null,e.toName,i.a.createElement("span",{className:"help-text"},"(",Object(J.d)(e.to),")")):Object(J.d)(e.to)}},{key:"ParsedLog",value:function ParsedLog(e){var t,a=this.props.eventsStore.contractNames[Object(J.d)(e.address)];a&&"Unknown"!==a||(a=e.contract),t=a&&"Unknown"!==a?e.name?"".concat(a,"  ").concat(e.name):a:e.name;var r,n=this.Id(e);return n&&(r=i.a.createElement("div",{className:"labelled-field"},i.a.createElement("label",null,"ID"),i.a.createElement("div",{className:"value"},n))),i.a.createElement("div",{className:"log",key:this.Key(e)},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"title bold"},t||"Transaction"),i.a.createElement("div",{className:"info"},(e.logIndex||0)+1)),i.a.createElement("div",{className:"inputs indented"},i.a.createElement("div",{className:"labelled-field"},i.a.createElement("label",null,"Transaction Hash"),i.a.createElement("div",{className:"value"},e.transactionHash)),r,i.a.createElement("div",{className:"labelled-field"},i.a.createElement("label",null,e.address?"Contract Address":"To"),i.a.createElement("div",{className:"value"},this.To(e))),i.a.createElement("div",{className:"labelled-field"},i.a.createElement("label",null,"From"),i.a.createElement("div",{className:"value"},this.From(e))),this.Value(e.value),this.InputFields(e)))}},{key:"RenderEvent",value:function RenderEvent(e){var t=this;Array.isArray(e)||(e=[e]);var a=e&&e[0]?e[0].blockNumber:"unknown";return i.a.createElement("div",{className:"event",key:"event-"+a},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"title"},"Block "+a),i.a.createElement("div",{className:"info"},a)),i.a.createElement("div",{className:"logs"},e.map((function(e){return e.name,t.ParsedLog(e)}))))}},{key:"Text",value:function Text(e){var t=this;return e.map((function(e){if(Array.isArray(e)||(e=[e]),e){var a=e&&e[0]?e[0].blockNumber:"unknown",r=e.map((function(e){var a,r=t.props.eventsStore.contractNames[Object(J.d)(e.address)];r&&"Unknown"!==r||(r=e.contract),a=r&&"Unknown"!==r?e.name?"".concat(r,"  ").concat(e.name):r:e.name;var n,o,s=t.Id(e),i=t.Inputs(e),c=X.utils.WeiToEther(parseInt(e.value._hex,16)),l=c&&c>0?"Value: ".concat(c):"";return i.length>0&&((n=i.map((function(e){var t=ce()(e,2),a=t[0],r=t[1];return"".concat(a,": ").concat(r)}))).unshift("Method Inputs"),n=n.join("\n\t\t")),o=e.address?"Contract Address: ".concat(Object(J.d)(e.address)):e.toName?"".concat(e.toName," (").concat(Object(J.d)(e.to)):Object(J.d)(e.to),[a,"Transaction Hash: ".concat(e.hash),s?"ID: ".concat(t.Id(e)):"",o,"From: ".concat(e.fromName?"".concat(e.fromName," (").concat(Object(J.d)(e.from),")"):Object(J.d)(e.from)),l,n].filter((function(e){return e})).join("\n\t")})).join("\n\n\t");return["Block ".concat(a),"\t".concat(r)].join("\n")}})).filter((function(e){return e})).join("\n\n")}},{key:"render",value:function render(){var e=this,t=this.props.events;if(this.props.filter){var a=this.props.filter.toLowerCase();t=t.filter((function(t){return t.find((function(t){return(t.contract||"").toLowerCase().includes(a)||(t.name||"").toLowerCase().includes(a)||(t.address||"").toLowerCase().includes(a)||(t.to||"").toLowerCase().includes(a)||(t.from||"").toLowerCase().includes(a)||(t.contractAddress||"").toLowerCase().includes(a)||(e.props.eventsStore.contractNames[Object(J.d)(t.address)]||"").toLowerCase().includes(a)}))}))}return 0===t.length?i.a.createElement("h4",null,"No events found"):i.a.createElement("div",{className:"events-page"},i.a.createElement(M.u,{options:[["Formatted","formatted"],["Raw","raw"]],selected:this.state.view,onChange:function onChange(t){return e.setState({view:t})}}),i.a.createElement("div",{className:"events-container"},"formatted"===this.state.view?t.map((function(t){return e.RenderEvent(t)})):i.a.createElement("div",{className:"events-raw"},i.a.createElement(M.h,{copy:this.Text(t),className:"events-copy-button"},i.a.createElement(M.n,{icon:Le.a})),i.a.createElement("pre",{className:"events-raw-text"},this.Text(t))),i.a.createElement("div",{ref:function ref(t){t&&e.props.scrollToBottom&&t.scrollIntoView()}})))}}]),EventLogs}(i.a.PureComponent))||Ta)||Ta;$a.propTypes={events:re.a.arrayOf(re.a.arrayOf(re.a.object)).isRequired,filter:re.a.string,scrollToBottom:re.a.bool};var Ba,Ua=$a;function DeployedContractMethodForm_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function DeployedContractMethodForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?DeployedContractMethodForm_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DeployedContractMethodForm_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Va=Object(T.b)("contractStore")(Ba=Object(T.c)(Ba=function(e){function DeployedContractMethodForm(e){var t;m()(this,DeployedContractMethodForm),t=y()(this,v()(DeployedContractMethodForm).call(this,e));var a=Array.isArray(e.contract.abi)?e.contract.abi.filter((function(e){return"function"===e.type})).map((function(e){return Object(z.q)(e)})):[];return t.state={contractMethods:a},t.SetMethodInterface=t.SetMethodInterface.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t.HandleMethodChange=t.HandleMethodChange.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleComplete=t.HandleComplete.bind(te()(t)),t}return C()(DeployedContractMethodForm,e),h()(DeployedContractMethodForm,[{key:"SetMethodInterface",value:function SetMethodInterface(e){var t=this.state.contractMethods.find((function(t){return t.name===e}));if(t){var a={__funds:0};t.inputs=t.inputs.map((function(e,t){return e.name||(e.name="Argument "+t),a[e.name]="",e})),this.setState({methodInterface:t,inputs:a})}}},{key:"HandleMethodChange",value:function HandleMethodChange(e){this.setState({method:e.target.value,methodResults:void 0,transactionResults:void 0}),this.SetMethodInterface(e.target.value)}},{key:"HandleInputChange",value:function HandleInputChange(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState({inputs:DeployedContractMethodForm_objectSpread({},this.state.inputs,W()({},e.target.name,t))})}},{key:"HandleSubmit",value:function HandleSubmit(){var e,t,a,r,n;return B.a.async((function HandleSubmit$(o){for(;;)switch(o.prev=o.next){case 0:if(this.state.method){o.next=2;break}return o.abrupt("return");case 2:return e=DeployedContractMethodForm_objectSpread({},this.state.inputs),t=e.__funds||0,delete e.__funds,a=Object.values(e),r=[Ha.customObject,Ha.unknown].includes(this.props.contractStore.contract.type)?this.props.contractStore.contract.abi:void 0,o.next=9,B.a.awrap(this.props.contractStore.CallContractMethod({contractAddress:this.props.contractStore.contractAddress,abi:r,methodName:this.state.method,methodArgs:a,value:t}));case 9:n=o.sent,this.setState({methodResults:n});case 11:case"end":return o.stop()}}),null,this)}},{key:"HandleComplete",value:function HandleComplete(){if(this.state.methodInterface.constant){var e=this.state.methodInterface.outputs,t=this.state.methodResults;Array.isArray(t)||(t=[t]);var a=t.map((function(t,a){return t=t._hex?"".concat(parseInt(t._hex,16)," (").concat(t._hex,")"):"bytes32"===e[a].type?Object(J.b)(t):t.toString(),[e[a].name||"Output ".concat(a),t]}));this.setState({methodResults:a,transactionResults:void 0})}else{var r=this.state.methodResults;Array.isArray(r)||(r=[r]),this.setState({methodResults:void 0,transactionResults:r})}}},{key:"ContractMethodSelection",value:function ContractMethodSelection(){var e=this.state.contractMethods.filter((function(e){return e.constant})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1})),t=this.state.contractMethods.filter((function(e){return!e.constant})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1})),a=e.map((function(e){return i.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)})),r=t.map((function(e){return i.a.createElement("option",{key:"method-option-"+e.name,value:e.name},e.name)}));a.unshift(i.a.createElement("option",{disabled:!0,key:"method-option-constant-label"},"CONSTANTS")),r.unshift(i.a.createElement("option",{disabled:!0,key:"method-option-transaction-label"},"TRANSACTIONS"));var n=[i.a.createElement("option",{key:"method-option-select-prompt",value:""},"[Select a Method]")].concat(a.concat(r));return i.a.createElement("select",{name:"method",value:this.state.method,onChange:this.HandleMethodChange},n)}},{key:"ContractMethodForm",value:function ContractMethodForm(){var e,t,a,r=this;return this.state.methodInterface&&(e=this.state.methodInterface.inputs.map((function(e){var t=e.type,a="bool"===t?"checkbox":"text";return[i.a.createElement("label",{key:"contract-method-input-label-"+e.name,htmlFor:e.name},e.name),i.a.createElement("input",{key:"contract-method-input-"+e.name,name:e.name,value:r.state.inputs[e.name],type:a,placeholder:t,maxLength:256,onChange:r.HandleInputChange})]})),a=[i.a.createElement("label",{key:"contract-method-type-label"},"Type"),i.a.createElement("div",{key:"contract-method-type",className:"form-text"},this.state.methodInterface.constant?"Constant":"Transaction")],this.state.methodInterface.payable&&(t=[i.a.createElement("label",{key:"contract-method-funds-label",htmlFor:"__funds"},"Funds"),i.a.createElement("input",{key:"contract-method-funds",type:"number",step:1e-10,name:"__funds",value:this.state.inputs.__funds,onChange:this.HandleInputChange})])),i.a.createElement("div",{className:"form-content"},i.a.createElement("label",null,"Method"),i.a.createElement("div",{className:"form-text"},this.ContractMethodSelection()),a,t,e)}},{key:"MethodResults",value:function MethodResults(){if(this.state.methodResults){var e=(Array.isArray(this.state.methodResults)?this.state.methodResults:[this.state.methodResults]).map((function(e){return i.a.createElement(Pe,{key:"result-"+e[0],label:e[0],value:e[1]})}));return i.a.createElement("div",{className:"label-box"},i.a.createElement("h3",null,"Result: "),e)}if(this.state.transactionResults)return i.a.createElement("div",{className:"label-box"},i.a.createElement("h3",null,"Result: "),i.a.createElement(Ua,{events:[this.state.transactionResults]}))}},{key:"render",value:function render(){return i.a.createElement("div",{className:"contract-method-form"},i.a.createElement(M.l,{legend:"Call Contract Method",OnSubmit:this.HandleSubmit,OnComplete:this.HandleComplete,className:"small-form"},this.ContractMethodForm()),this.MethodResults())}}]),DeployedContractMethodForm}(i.a.Component))||Ba)||Ba;Va.propTypes={contract:re.a.object.isRequired};var qa,Wa=Va;function DeployedContract_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function DeployedContract_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?DeployedContract_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DeployedContract_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka,Ja,Za=Object(T.b)("contractStore")(qa=Object(T.c)(qa=function(e){function DeployedContract(e){var t;return m()(this,DeployedContract),(t=y()(this,v()(DeployedContract).call(this,e))).state={visibleMethods:{},method:"",removed:!1},t.PageContent=t.PageContent.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t}return C()(DeployedContract,e),h()(DeployedContract,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"DeleteButton",value:function DeleteButton(){var e=this;return this.props.contractStore.contract.type!==Ha.unknown?null:i.a.createElement(M.a,{className:"danger",onClick:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(Object(M.g)({message:"Are you sure you want to stop watching this contract?",onConfirm:function onConfirm(){return B.a.async((function onConfirm$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.contractStore.RemoveDeployedContract({address:e.props.contractStore.contractAddress}));case 2:e.setState({removed:!0});case 3:case"end":return t.stop()}}))}}));case 2:case"end":return t.stop()}}))}},"Remove Contract")}},{key:"ToggleElement",value:function ToggleElement(e){this.setState({visibleMethods:DeployedContract_objectSpread({},this.state.visibleMethods,W()({},e,!this.state.visibleMethods[e]))})}},{key:"ToggleButton",value:function ToggleButton(e,t){var a=this,r=this.state.visibleMethods[t],n=(r?"Hide ":"Show ")+e;return i.a.createElement(M.a,{key:"toggle-"+e,className:r?"":"secondary",onClick:function toggleVisible(){return a.ToggleElement(t)}},n)}},{key:"AbiInfo",value:function AbiInfo(){if(!this.props.contractStore.contract.abi)return null;var e=this.state.visibleMethods.__abi?i.a.createElement("pre",{key:"abi-content"},JSON.stringify(this.props.contractStore.contract.abi,null,2)):null;return[i.a.createElement(Pe,{key:"abi-label",label:"ABI"},this.ToggleButton("ABI","__abi")),e]}},{key:"PageContent",value:function PageContent(){var e=Fe.a.dirname(this.props.match.url);if([Ha.contentSpace,Ha.library,Ha.unknown].includes(this.props.contractStore.contract.type)?e=Fe.a.dirname(e):this.props.contractStore.contract.type!==Ha.accessGroup||this.props.accessGroup||(e=Fe.a.dirname(e)),this.state.removed)return i.a.createElement(x.b,{push:!0,to:e});var t="".concat(Math.round(1e3*(this.props.contractStore.contract.balance||0))/1e3);return i.a.createElement("div",{className:"page-container contracts-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:e,className:"secondary"},"Back"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"funds")},"Transfer Funds"),i.a.createElement(M.a,{type:"link",to:p()(this.props.match.url,"events")},"Contract Events"),this.DeleteButton()),i.a.createElement(ne,{header:this.props.contractStore.contract.name,subHeader:this.props.contractStore.contract.description}),i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"label-box"},i.a.createElement("h3",null,"Contract Info"),i.a.createElement(Pe,{label:"Name"},this.props.contractStore.contract.name),i.a.createElement(Pe,{label:"Description"},this.props.contractStore.contract.description),i.a.createElement(Pe,{label:"Contract Address"},this.props.contractStore.contract.contractAddress),i.a.createElement(Pe,{label:"Balance"},t),this.AbiInfo(),i.a.createElement("h3",null,"Contract Methods"),i.a.createElement(Wa,{contract:this.props.contractStore.contract}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee2(){return B.a.async((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.contractStore.DeployedContractInfo());case 2:case"end":return t.stop()}}))},render:this.PageContent})}}]),DeployedContract}(i.a.Component))||qa)||qa,Ya=Object(T.b)("contractStore")(Ka=Object(T.c)(Ka=function(e){function DeployedContractFundsForm(e){var t;return m()(this,DeployedContractFundsForm),(t=y()(this,v()(DeployedContractFundsForm).call(this,e))).state={amount:0},t.PageContent=t.PageContent.bind(te()(t)),t.HandleSubmit=t.HandleSubmit.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t}return C()(DeployedContractFundsForm,e),h()(DeployedContractFundsForm,[{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,e.target.value))}},{key:"HandleSubmit",value:function HandleSubmit(){return B.a.async((function HandleSubmit$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(this.props.contractStore.SendFunds({recipient:this.state.contract.contractAddress,ether:this.state.amount}));case 2:case"end":return e.stop()}}),null,this)}},{key:"PageContent",value:function PageContent(){return i.a.createElement("div",{className:"page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",className:"secondary",to:Fe.a.dirname(this.props.match.url)},"Back")),i.a.createElement(ne,{header:this.state.contract.name,subHeader:this.state.contract.description}),i.a.createElement(M.l,{legend:"Transfer Contract Funds",redirectPath:Fe.a.dirname(this.props.match.url),cancelPath:Fe.a.dirname(this.props.match.url),OnSubmit:this.HandleSubmit,className:"small-form"},i.a.createElement("div",{className:"form-content"},i.a.createElement("label",null,"Current Balance"),i.a.createElement("span",null,this.state.contract.balance),i.a.createElement("label",{htmlFor:"amount"},"Amount"),i.a.createElement("input",{name:"amount",type:"number",step:1e-10,value:this.state.amount,onChange:this.HandleInputChange}))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(Ve,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,B.a.awrap(e.props.contractStore.DeployedContractInfo());case 3:t.t1=t.sent,t.t2={contract:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}))},render:this.PageContent})}}]),DeployedContractFundsForm}(i.a.Component))||Ka)||Ka,Qa=a(96),Xa=a.n(Qa),er=a(97),tr=a.n(er),ar=Object(T.b)("eventsStore")(Ja=Object(T.c)(Ja=function(e){function Events(e){var t;return m()(this,Events),(t=y()(this,v()(Events).call(this,e))).state={filterInput:"",filter:"",filtering:!1,fromBlock:0,toBlock:0,scrollToBottom:!1,watchEvents:!1,watcher:void 0,loading:!1},t.Reset=t.Reset.bind(te()(t)),t.HandleInputChange=t.HandleInputChange.bind(te()(t)),t.HandleFilterChange=t.HandleFilterChange.bind(te()(t)),t.LoadMoreEvents=t.LoadMoreEvents.bind(te()(t)),t.ToggleWatch=t.ToggleWatch.bind(te()(t)),t}return C()(Events,e),h()(Events,[{key:"componentDidMount",value:function componentDidMount(){this.Request()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.CancelWatch(),this.props.contractAddress?this.props.eventsStore.ClearContractEvents({contractAddress:this.props.contractAddress}):this.props.eventsStore.ClearEvents()}},{key:"Loading",value:function Loading(){return this.state.loading&&!this.state.watchEvents||this.state.filtering}},{key:"HandleInputChange",value:function HandleInputChange(e){this.setState(W()({},e.target.name,parseInt(e.target.value)))}},{key:"HandleFilterChange",value:function HandleFilterChange(e){var t=this,a=e.target.value;this.state.filterTimeout&&clearTimeout(this.state.filterTimeout),this.setState({filterInput:a,filtering:!0,filterTimeout:setTimeout((function(){t.CancelWatch(),t.setState({filter:a,filtering:!1})}),500),scrollToBottom:!1})}},{key:"Watch",value:function Watch(){var e=this;this.setState({watchEvents:!0,watcher:setTimeout((function _callee2(){return B.a.async((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e.setState({scrollToBottom:!1},(function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.Request({fromBlock:e.state.fromBlock}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),e.Watch();case 2:case"end":return t.stop()}}))}),3e3)})}},{key:"CancelWatch",value:function CancelWatch(){clearTimeout(this.state.watcher),this.setState({watchEvents:!1})}},{key:"ToggleWatch",value:function ToggleWatch(){this.state.watchEvents?this.CancelWatch():this.Watch()}},{key:"Reset",value:function Reset(){var e=this;this.setState({filter:"",filterInput:""},(function(){return e.Request({clear:!0})}))}},{key:"Request",value:function Request(){var e,t,a,r,n,o,s,i,c,l,u,p,d=arguments;return B.a.async((function Request$(m){for(;;)switch(m.prev=m.next){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:{},t=e.fromBlock,a=e.toBlock,r=e.updateFrom,n=void 0===r||r,o=e.updateTo,s=void 0===o||o,i=e.cancelWatch,c=void 0===i||i,l=e.clear,u=void 0!==l&&l,c&&this.CancelWatch(),m.next=4,B.a.awrap(this.props.eventsStore.BlockNumber());case 4:if(p=m.sent,(!a||a>p)&&(a=p),(void 0===t||t<0)&&(t=this.props.contractAddress?Math.max(1,a-500):Math.max(1,a-10)),a<t&&(t=a),this.setState({loading:!0}),!this.props.contractAddress){m.next=14;break}return m.next=12,B.a.awrap(this.props.eventsStore.ContractEvents({contractAddress:this.props.contractAddress,abi:this.props.abi,fromBlock:t,toBlock:a,clear:u}));case 12:m.next=16;break;case 14:return m.next=16,B.a.awrap(this.props.eventsStore.Events({fromBlock:t,toBlock:a,clear:u}));case 16:this.setState({fromBlock:n?t:this.state.fromBlock,toBlock:s?a:this.state.toBlock,loading:!1});case 17:case"end":return m.stop()}}),null,this)}},{key:"LoadMoreEvents",value:function LoadMoreEvents(){var e;return B.a.async((function LoadMoreEvents$(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.contractAddress?500:10,this.Request({fromBlock:Math.max(1,this.state.fromBlock-e),toBlock:this.state.toBlock}),this.setState({scrollToBottom:!0});case 3:case"end":return t.stop()}}),null,this)}},{key:"LoadMoreEventsButton",value:function LoadMoreEventsButton(){return this.state.fromBlock<=1?null:i.a.createElement(M.p,{loading:this.Loading(),noIndicator:!0},i.a.createElement(M.a,{onClick:this.LoadMoreEvents},"Load More Events"))}},{key:"FilterControls",value:function FilterControls(){var e=this,t=this.state.watchEvents?tr.a:Xa.a,a=this.state.watchEvents?"Stop Watching Events":"Watch Events",r=this.state.watchEvents?"watch-icon watching":"watch-icon",n=function request(){return e.Request({toBlock:e.state.toBlock,fromBlock:e.state.fromBlock,clear:!0})};return i.a.createElement("div",{className:"event-controls"},i.a.createElement("div",{className:"control-group filter-group"},i.a.createElement("input",{name:"filterInput",className:"event-filter",value:this.state.filterInput,onChange:this.HandleFilterChange,placeholder:"Filter"})),i.a.createElement("div",{className:"control-group"},i.a.createElement("label",{htmlFor:"fromBlock"},"From"),i.a.createElement("input",{type:"number",name:"fromBlock",value:this.state.fromBlock,onChange:this.HandleInputChange,onKeyPress:Object(M.x)(n)}),i.a.createElement("label",{htmlFor:"toBlock"},"To"),i.a.createElement("input",{type:"number",name:"toBlock",value:this.state.toBlock,onChange:this.HandleInputChange,onKeyPress:Object(M.x)(n)})),i.a.createElement("div",{className:"control-group action-group"},i.a.createElement(M.p,{loading:this.Loading(),loadingIcon:"rotate",loadingClassname:"filter-loading"},i.a.createElement(M.a,{onClick:n},"Update"),i.a.createElement(M.a,{className:"secondary",onClick:this.Reset},"Reset"))),i.a.createElement(M.m,{icon:t,label:a,title:a,className:r,onClick:this.ToggleWatch}))}},{key:"render",value:function render(){var e=this.props.contractAddress?this.props.eventsStore.contractEvents[this.props.contractAddress]||[]:this.props.eventsStore.events;return i.a.createElement("div",{className:"events page-content"},this.FilterControls(),i.a.createElement(Ua,{events:e,filter:this.state.filter,scrollToBottom:this.state.scrollToBottom}),i.a.createElement("div",{className:"load-more"},this.LoadMoreEventsButton()))}}]),Events}(i.a.Component))||Ja)||Ja;ar.propTypes={contractAddress:re.a.string,abi:re.a.array};var rr,nr,or,sr,ir,cr,lr,ur,pr,dr,mr,br,hr,fr,yr,gr,vr,wr,Cr,xr,kr,jr,Sr,Ir,Er,Or,Ar=ar,Fr=Object(T.b)("contractStore")(rr=Object(T.b)("eventsStore")(rr=Object(T.c)(rr=function(e){function DeployedContractEvents(e){var t;return m()(this,DeployedContractEvents),(t=y()(this,v()(DeployedContractEvents).call(this,e))).PageContent=t.PageContent.bind(te()(t)),t}return C()(DeployedContractEvents,e),h()(DeployedContractEvents,[{key:"PageContent",value:function PageContent(){return i.a.createElement("div",{className:"page-container contracts-page-container"},i.a.createElement("div",{className:"actions-container"},i.a.createElement(M.a,{type:"link",to:Fe.a.dirname(this.props.match.url),className:"secondary"},"Back")),i.a.createElement(ne,{header:this.props.contractStore.contract.name,subHeader:this.props.contractStore.contract.description}),i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"label-box"},i.a.createElement("div",{className:"contract-events"},i.a.createElement(Ar,{contractAddress:this.props.contractStore.contractAddress,abi:this.props.contractStore.contract.abi})))))}},{key:"render",value:function render(){var e=this;return i.a.createElement(M.b,{Load:function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.contractStore.DeployedContractInfo());case 2:case"end":return t.stop()}}))},render:this.PageContent})}}]),DeployedContractEvents}(i.a.Component))||rr)||rr)||rr,Nr=function(e){function EventsPage(){return m()(this,EventsPage),y()(this,v()(EventsPage).apply(this,arguments))}return C()(EventsPage,e),h()(EventsPage,[{key:"render",value:function render(){return i.a.createElement("div",{className:"page-container"},i.a.createElement("div",{className:"page-header-container"},i.a.createElement("h3",{className:"page-header"},"Blockchain Events")),i.a.createElement(Ar,null))}}]),EventsPage}(i.a.Component),Lr=Object(T.b)("notificationStore")(nr=Object(T.b)("routeStore")(nr=Object(T.c)(nr=function(e){function WatchedRouteClass(){return m()(this,WatchedRouteClass),y()(this,v()(WatchedRouteClass).apply(this,arguments))}return C()(WatchedRouteClass,e),h()(WatchedRouteClass,[{key:"componentDidMount",value:function componentDidMount(){var e=this;return B.a.async((function componentDidMount$(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({DisposeRouteReaction:Object(z.n)((function(){return{match:JSON.stringify(e.props.match)}}),(function _callee(){return B.a.async((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.awrap(e.props.routeStore.UpdateRoute(e.props.computedMatch));case 2:e.setState({routeSet:!0});case 3:case"end":return t.stop()}}))}))}),t.next=3,B.a.awrap(this.props.routeStore.UpdateRoute(this.props.computedMatch));case 3:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.DisposeRouteReaction&&this.state.DisposeRouteReaction()}},{key:"render",value:function render(){return i.a.createElement(x.c,{exact:this.props.exact,path:this.props.path,component:Object(x.h)(this.props.component)})}}]),WatchedRouteClass}(i.a.Component))||nr)||nr)||nr,_r=Object(x.h)(Object(M.k)(Lr)),Pr=function(e){function Router(e){var t;return m()(this,Router),(t=y()(this,v()(Router).call(this,e))).state={initialized:!1},t}return C()(Router,e),h()(Router,[{key:"componentDidMount",value:function componentDidMount(){return B.a.async((function componentDidMount$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(X.Initialize());case 2:this.setState({initialized:!0});case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function render(){return this.state.initialized?i.a.createElement("div",{className:"main-content-container"},i.a.createElement(x.e,null,i.a.createElement(_r,{exact:!0,path:"/",component:Oe}),"/* Access Groups */",i.a.createElement(_r,{exact:!0,path:"/access-groups",component:Ca}),i.a.createElement(_r,{exact:!0,path:"/access-groups/create",component:Sa}),i.a.createElement(_r,{exact:!0,path:"/access-groups/:contractAddress",component:ka}),i.a.createElement(_r,{exact:!0,path:"/access-groups/:contractAddress/edit",component:Sa}),i.a.createElement(_r,{exact:!0,path:"/access-groups/:contractAddress/add-member",component:Ia}),i.a.createElement(_r,{exact:!0,path:"/access-groups/:contractAddress/contract",component:Za}),i.a.createElement(_r,{exact:!0,path:"/access-groups/:contractAddress/contract/events",component:Fr}),i.a.createElement(_r,{exact:!0,path:"/access-groups/:contractAddress/contract/funds",component:Ya}),"/* Content */ /* For most content routes, add content-types route corresponding to /content/:contentSpaceLibrary */",i.a.createElement(_r,{exact:!0,path:"/content-types",component:et}),i.a.createElement(_r,{exact:!0,path:"/content",component:Oe}),i.a.createElement(_r,{exact:!0,path:"/content/create",component:Je}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId",component:Ke}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/edit",component:Je}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/groups",component:Ze}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/types",component:Xe}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/create",component:ca}),i.a.createElement(_r,{exact:!0,path:"/content-types/create",component:tt}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId",component:Ut}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId",component:Ut}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/edit",component:ca}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/edit",component:tt}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/review",component:la}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/upload",component:ga}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/upload",component:ga}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/groups",component:ua}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/groups",component:ua}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/apps",component:wa}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/apps",component:wa}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/deploy",component:Ga}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/deploy",component:Ga}),"/* Base content contract */",i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/contract",component:Za}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/contract",component:Za}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/contract/events",component:Fr}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/contract/events",component:Fr}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/contract/funds",component:Ya}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/contract/funds",component:Ya}),"/* Custom content contract */",i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract",component:Za}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/custom-contract",component:Za}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/events",component:Fr}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/custom-contract/events",component:Fr}),i.a.createElement(_r,{exact:!0,path:"/content/:libraryId/:objectId/custom-contract/funds",component:Ya}),i.a.createElement(_r,{exact:!0,path:"/content-types/:objectId/custom-contract/funds",component:Ya}),"/* Contracts */",i.a.createElement(_r,{exact:!0,path:"/contracts",component:Ea}),i.a.createElement(_r,{exact:!0,path:"/contracts/saved",component:Ea}),i.a.createElement(_r,{exact:!0,path:"/contracts/deployed",component:Ea}),i.a.createElement(_r,{exact:!0,path:"/contracts/compile",component:_a}),i.a.createElement(_r,{exact:!0,path:"/contracts/save",component:Pa}),i.a.createElement(_r,{exact:!0,path:"/contracts/watch",component:Ma}),i.a.createElement(_r,{exact:!0,path:"/contracts/deploy",component:Ga}),i.a.createElement(_r,{exact:!0,path:"/contracts/deployed/:contractAddress",component:Za}),i.a.createElement(_r,{exact:!0,path:"/contracts/deployed/:contractAddress/events",component:Fr}),i.a.createElement(_r,{exact:!0,path:"/contracts/deployed/:contractAddress/funds",component:Ya}),i.a.createElement(_r,{exact:!0,path:"/contracts/:contractName",component:La}),i.a.createElement(_r,{exact:!0,path:"/contracts/:contractName/edit",component:Pa}),i.a.createElement(_r,{exact:!0,path:"/contracts/:contractName/deploy",component:Ga}),"/* Logs */",i.a.createElement(_r,{exact:!0,path:"/events",component:Nr}),i.a.createElement(x.b,{from:"*",to:"/content"}))):null}}]),Router}(i.a.Component),Mr=a(14),Tr=a.n(Mr),Gr=a(9),Hr=a.n(Gr),Dr=(a(31),function _callee(e,t){return B.a.async((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,B.a.awrap(e.promise((function(){return t()})));case 3:return a.abrupt("return",a.sent);case 6:return a.next=8,B.a.awrap(t());case 8:return a.abrupt("return",a.sent);case 9:case"end":return a.stop()}}))});function Library_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Library_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Library_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Library_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zr,Rr,$r,Br,Ur,Vr,qr,Wr,Kr,Jr,Zr,Yr,Qr,Xr,en,tn,an,rn,nn,on,sn,cn,ln,un,pn,dn,mn,bn,hn,fn,yn,gn,vn,wn,Cn,xn,kn,jn,Sn,In,En,On,An,Fn,Nn,Ln,_n,Pn,Mn,Tn,Gn,Hn,Dn,zn,Rn,$n,Bn,Un,Vn,qn,Wn,Kn,Jn,Zn,Yn,Qn,Xn,eo,to=(or=z.d.bound,sr=z.d.bound,ir=z.d.bound,cr=z.d.bound,lr=z.d.bound,ur=z.d.bound,pr=z.d.bound,dr=z.d.bound,mr=z.d.bound,br=z.d.bound,hr=z.d.bound,fr=function(){function LibraryStore(e){m()(this,LibraryStore),Tr()(this,"libraries",yr,this),Tr()(this,"count",gr,this),Tr()(this,"ListContentLibraries",vr,this),Tr()(this,"ContentLibrary",wr,this),Tr()(this,"CreateContentLibrary",Cr,this),Tr()(this,"UpdateContentLibrary",xr,this),Tr()(this,"ListLibraryTypes",kr,this),Tr()(this,"UpdateContentLibraryTypes",jr,this),Tr()(this,"ListLibraryGroups",Sr,this),Tr()(this,"ContentLibraryGroupPermissions",Ir,this),Tr()(this,"UpdateContentLibraryGroup",Er,this),Tr()(this,"ListContentObjects",Or,this),this.rootStore=e}return h()(LibraryStore,[{key:"library",get:function get(){var e=this.rootStore.routerStore.libraryId;return this.libraries[e]}},{key:"libraryId",get:function get(){return this.rootStore.routerStore.libraryId}}]),h()(LibraryStore,[{key:"ClearLibraryCache",value:function ClearLibraryCache(e){var t=e.libraryId;this.libraries[t]&&(this.libraries[t].listingParams={})}}]),LibraryStore}(),yr=Hr()(fr.prototype,"libraries",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),gr=Hr()(fr.prototype,"count",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Hr()(fr.prototype,"library",[z.e],Object.getOwnPropertyDescriptor(fr.prototype,"library"),fr.prototype),Hr()(fr.prototype,"libraryId",[z.e],Object.getOwnPropertyDescriptor(fr.prototype,"libraryId"),fr.prototype),vr=Hr()(fr.prototype,"ListContentLibraries",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee2(e){var t,a,r,n;return B.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Dr(t.cancelable,(function _callee(){return B.a.async((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(X.ListContentLibraries({params:t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}));case 3:a=o.sent,r=a.libraries,n=a.count,this.libraries=r,this.count=n;case 8:case"end":return o.stop()}}),_callee2,this)})))}}),wr=Hr()(fr.prototype,"ContentLibrary",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee3(e){var t,a,r,n,o;return B.a.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=this.libraries[t]||{},r=a.listingParams,s.t0=Library_objectSpread,s.t1={},s.next=6,X.GetContentLibrary({libraryId:t});case 6:if(s.t2=s.sent,s.t3={listingParams:r||{}},this.libraries[t]=(0,s.t0)(s.t1,s.t2,s.t3),this.libraries[t].isContentSpaceLibrary){s.next=17;break}return s.next=12,X.LibraryGroupAddresses({libraryId:t,type:"contributor"});case 12:return n=s.sent,s.next=15,X.AccessGroupAddresses();case 15:o=s.sent,this.libraries[t].canContribute=this.libraries[t].isOwner||n.filter((function(e){return o.includes(e)})).length>0;case 17:case"end":return s.stop()}}),_callee3,this)})))}}),Cr=Hr()(fr.prototype,"CreateContentLibrary",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee4(e){var t,a,r,n,o,s,i;return B.a.wrap((function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:t=e.name,a=e.description,r=e.publicMetadata,n=e.privateMetadata,o=e.image,s=e.kmsId,c.prev=1,n=Object(M.r)(n),c.next=8;break;case 5:throw c.prev=5,c.t0=c.catch(1),"Invalid Private Metadata: ".concat(c.t0.message);case 8:c.prev=8,r=Object(M.r)(r),c.next=15;break;case 12:throw c.prev=12,c.t1=c.catch(8),"Invalid Public Metadata: ".concat(c.t1.message);case 15:return r.name=t,r.description=a,c.next=19,X.CreateContentLibrary({name:t,description:a,publicMetadata:r,privateMetadata:n,kmsId:s});case 19:if(i=c.sent,!o){c.next=23;break}return c.next=23,X.EditAndFinalizeContentObject({libraryId:i,objectId:X.utils.AddressToObjectId(X.utils.HashToAddress(i)),todo:function todo(e){return B.a.async((function todo$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=B.a,t.t1=X,t.t2=i,t.t3=e,t.next=6,B.a.awrap(new Response(o).blob());case 6:return t.t4=t.sent,t.t5=o.name,t.t6={libraryId:t.t2,writeToken:t.t3,image:t.t4,imageName:t.t5},t.t7=t.t1.SetContentLibraryImage.call(t.t1,t.t6),t.next=12,t.t0.awrap.call(t.t0,t.t7);case 12:case"end":return t.stop()}}))}});case 23:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully created content library '"+t+"'",redirect:!0}),c.abrupt("return",i);case 25:case"end":return c.stop()}}),_callee4,this,[[1,5],[8,12]])})))}}),xr=Hr()(fr.prototype,"UpdateContentLibrary",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee5(e){var t,a,r,n,o,s,i;return B.a.wrap((function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:t=e.libraryId,a=e.name,r=e.description,n=e.publicMetadata,o=e.privateMetadata,s=e.image,c.prev=1,o=Object(M.r)(o),c.next=8;break;case 5:throw c.prev=5,c.t0=c.catch(1),"Invalid Private Metadata: ".concat(c.t0.message);case 8:c.prev=8,n=Object(M.r)(n),c.next=15;break;case 12:throw c.prev=12,c.t1=c.catch(8),"Invalid Public Metadata: ".concat(c.t1.message);case 15:return o.name=a,o.description=r,n.name=a,n.description=r,delete o.public,i=t.replace("ilib","iq__"),c.next=23,X.EditAndFinalizeContentObject({libraryId:t,objectId:i,todo:function todo(e){return B.a.async((function todo$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(X.ReplaceMetadata({libraryId:t,objectId:i,writeToken:e,metadata:Library_objectSpread({},o,{public:n})}));case 2:if(!s){a.next=15;break}return a.t0=B.a,a.t1=X,a.t2=t,a.t3=e,a.next=9,B.a.awrap(new Response(s).blob());case 9:return a.t4=a.sent,a.t5=s.name,a.t6={libraryId:a.t2,writeToken:a.t3,image:a.t4,imageName:a.t5},a.t7=a.t1.SetContentLibraryImage.call(a.t1,a.t6),a.next=15,a.t0.awrap.call(a.t0,a.t7);case 15:case"end":return a.stop()}}))}});case 23:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content library '"+a+"'",redirect:!0}),c.abrupt("return",t);case 25:case"end":return c.stop()}}),_callee5,this,[[1,5],[8,12]])})))}}),kr=Hr()(fr.prototype,"ListLibraryTypes",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee6(e){var t,a;return B.a.wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,r.next=3,X.ListLibraryContentTypes({libraryId:t});case 3:a=r.sent,this.libraries[t]=Library_objectSpread({},this.libraries[t]||{},{types:a});case 5:case"end":return r.stop()}}),_callee6,this)})))}}),jr=Hr()(fr.prototype,"UpdateContentLibraryTypes",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee8(e){var t,a,r,n,o,s,i,c,l,u,p,d,m,b,h,f,y,g,v;return B.a.wrap((function _callee8$(w){for(;;)switch(w.prev=w.next){case 0:return t=e.libraryId,a=e.typeIds,r=void 0===a?[]:a,w.t0=Object,w.next=4,X.ListLibraryContentTypes({libraryId:t});case 4:if(w.t1=w.sent,w.t2=function(e){return e.id},n=w.t0.values.call(w.t0,w.t1).map(w.t2),!((o=r.filter((function(e){return!n.includes(e)}))).length>0)){w.next=39;break}return w.t3=Object,w.next=12,X.ListContentTypes({params:{perPage:1e3}});case 12:w.t4=w.sent.types,s=w.t3.values.call(w.t3,w.t4),i=!0,c=!1,l=void 0,w.prev=17,u=B.a.mark((function _callee7(){var e,a,r;return B.a.wrap((function _callee7$(n){for(;;)switch(n.prev=n.next){case 0:return e=d.value,a=s.find((function(t){return t.id===e})),r=a.meta.custom_contract&&a.meta.custom_contract.address,n.next=5,X.AddLibraryContentType({libraryId:t,typeId:e,customContractAddress:r});case 5:case"end":return n.stop()}}),_callee7)})),p=o[Symbol.iterator]();case 20:if(i=(d=p.next()).done){w.next=25;break}return w.delegateYield(u(),"t5",22);case 22:i=!0,w.next=20;break;case 25:w.next=31;break;case 27:w.prev=27,w.t6=w.catch(17),c=!0,l=w.t6;case 31:w.prev=31,w.prev=32,i||null==p.return||p.return();case 34:if(w.prev=34,!c){w.next=37;break}throw l;case 37:return w.finish(34);case 38:return w.finish(31);case 39:m=n.filter((function(e){return!r.includes(e)})),b=!0,h=!1,f=void 0,w.prev=43,y=m[Symbol.iterator]();case 45:if(b=(g=y.next()).done){w.next=52;break}return v=g.value,w.next=49,X.RemoveLibraryContentType({libraryId:t,typeId:v});case 49:b=!0,w.next=45;break;case 52:w.next=58;break;case 54:w.prev=54,w.t7=w.catch(43),h=!0,f=w.t7;case 58:w.prev=58,w.prev=59,b||null==y.return||y.return();case 61:if(w.prev=61,!h){w.next=64;break}throw f;case 64:return w.finish(61);case 65:return w.finish(58);case 66:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content library types",redirect:!0});case 67:case"end":return w.stop()}}),_callee8,this,[[17,27,31,39],[32,,34,38],[43,54,58,66],[59,,61,65]])})))}}),Sr=Hr()(fr.prototype,"ListLibraryGroups",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee9(e){var t,a,r,n,o,s;return B.a.wrap((function _callee9$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.type,r=e.params,i.next=3,X.ListContentLibraryGroups({libraryId:t,type:a,params:r});case 3:n=i.sent,o=n.accessGroups,s=n.count,this.libraries[t]["".concat(a,"Groups")]=o,this.libraries[t]["".concat(a,"GroupsCount")]=s;case 8:case"end":return i.stop()}}),_callee9,this)})))}}),Ir=Hr()(fr.prototype,"ContentLibraryGroupPermissions",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee11(e){var t,a;return B.a.wrap((function _callee11$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a={},r.next=4,Promise.all(["accessor","contributor","reviewer"].map((function _callee10(e){var r,n;return B.a.async((function _callee10$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,B.a.awrap(X.ListContentLibraryGroups({libraryId:t,type:e,params:{paginate:!1}}));case 2:r=o.sent,n=r.accessGroups,Object.keys(n).forEach((function(t){a[t]=Library_objectSpread(W()({},e,!0),a[t]||{})}));case 5:case"end":return o.stop()}}))})));case 4:this.libraries[t].groupPermissions=a;case 5:case"end":return r.stop()}}),_callee11,this)})))}}),Er=Hr()(fr.prototype,"UpdateContentLibraryGroup",[mr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee13(e){var t,a,r,n,o,s,i;return B.a.wrap((function _callee13$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.groupAddress,r=e.accessor,n=e.contributor,o=e.reviewer,s={accessor:r,contributor:n,reviewer:o},i=this.libraries[t].groupPermissions[a]||{},c.next=5,Promise.all(["accessor","contributor","reviewer"].map((function _callee12(e){return B.a.async((function _callee12$(r){for(;;)switch(r.prev=r.next){case 0:if(i[e]||!s[e]){r.next=5;break}return r.next=3,B.a.awrap(X.AddContentLibraryGroup({libraryId:t,address:a,groupType:e}));case 3:r.next=8;break;case 5:if(!i[e]||s[e]){r.next=8;break}return r.next=8,B.a.awrap(X.RemoveContentLibraryGroup({libraryId:t,address:a,groupType:e}));case 8:case"end":return r.stop()}}))})));case 5:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully modified library group permissions",redirect:!0});case 6:case"end":return c.stop()}}),_callee13,this)})))}}),Or=Hr()(fr.prototype,"ListContentObjects",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee15(e){var t,a,r,n,o,s;return B.a.wrap((function _callee15$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.params,i.next=3,Dr(a.cancelable,(function _callee14(){return B.a.async((function _callee14$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(X.ListContentObjects({libraryId:t,params:a}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}));case 3:r=i.sent,n=r.objects,o=r.count,s=r.cacheId,this.libraries[t].objects=n,this.libraries[t].objectsCount=o,this.libraries[t].listingParams=Library_objectSpread({},a,{cacheId:s});case 10:case"end":return i.stop()}}),_callee15,this)})))}}),Hr()(fr.prototype,"ClearLibraryCache",[hr],Object.getOwnPropertyDescriptor(fr.prototype,"ClearLibraryCache"),fr.prototype),fr),ao=(zr=z.d.bound,Rr=function(){function RouterStore(e){m()(this,RouterStore),Tr()(this,"path",$r,this),Tr()(this,"libraryId",Br,this),Tr()(this,"objectId",Ur,this),Tr()(this,"contractAddress",Vr,this),this.rootStore=e}return h()(RouterStore,[{key:"UpdateRoute",value:function UpdateRoute(e){this.path=e.url,this.libraryId=e.params.libraryId,this.objectId=e.params.objectId,this.contractName=e.params.contractName,this.contractAddress=Object(J.d)(e.params.contractAddress),this.path.startsWith("/content-types")&&(this.libraryId=X.contentSpaceLibraryId),this.rootStore.notificationStore.ChangeRoute(),X.SetFramePath({path:p()("#",this.path)})}}]),RouterStore}(),$r=Hr()(Rr.prototype,"path",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=Hr()(Rr.prototype,"libraryId",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur=Hr()(Rr.prototype,"objectId",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=Hr()(Rr.prototype,"contractAddress",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr()(Rr.prototype,"UpdateRoute",[zr],Object.getOwnPropertyDescriptor(Rr.prototype,"UpdateRoute"),Rr.prototype),Rr),ro=(qr=z.d.bound,Wr=z.d.bound,Kr=z.d.bound,Jr=z.d.bound,Zr=z.d.bound,Yr=z.d.bound,Qr=function(){function EventsStore(e){m()(this,EventsStore),Tr()(this,"events",Xr,this),Tr()(this,"contractEvents",en,this),Tr()(this,"contractNames",tn,this),Tr()(this,"ContractEvents",an,this),Tr()(this,"Events",rn,this),this.rootStore=e}return h()(EventsStore,[{key:"SortBlocks",value:function SortBlocks(e){var t={};return e.forEach((function(e){return t[e[0].blockNumber]=e})),Object.values(t).sort((function(e,t){return e[0].blockNumber<t[0].blockNumber?1:-1}))}},{key:"ContractNames",value:function ContractNames(e){var t=this;return B.a.async((function ContractNames$(a){for(;;)switch(a.prev=a.next){case 0:return e=V()(new Set(e)).filter((function(e){return e})),a.next=3,B.a.awrap(e.limitedMap(5,(function _callee(e){var a;return B.a.async((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(t.contractNames[e]){r.next=5;break}return r.next=3,B.a.awrap(X.ContractName(e));case 3:a=r.sent,Object(z.o)((function(){return t.contractNames[e]=a}));case 5:case"end":return r.stop()}}))})));case 3:case"end":return a.stop()}}))}},{key:"ClearContractEvents",value:function ClearContractEvents(e){var t=e.contractAddress;this.contractEvents[t]=[]}},{key:"ClearEvents",value:function ClearEvents(){this.events=[]}},{key:"BlockNumber",value:function BlockNumber(){return B.a.async((function BlockNumber$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(X.GetBlockNumber());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}}]),EventsStore}(),Xr=Hr()(Qr.prototype,"events",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),en=Hr()(Qr.prototype,"contractEvents",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),tn=Hr()(Qr.prototype,"contractNames",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Hr()(Qr.prototype,"ContractNames",[qr],Object.getOwnPropertyDescriptor(Qr.prototype,"ContractNames"),Qr.prototype),an=Hr()(Qr.prototype,"ContractEvents",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee2(e){var t,a,r,n,o,s,i,c;return B.a.wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return t=e.contractAddress,a=e.abi,r=e.fromBlock,n=void 0===r?0:r,o=e.toBlock,s=e.clear,i=void 0!==s&&s,a=Object(z.q)(a),i&&this.ClearContractEvents({contractAddress:t}),l.next=5,X.ContractEvents({contractAddress:t,abi:a,fromBlock:n,toBlock:o});case 5:return c=l.sent,this.contractEvents[t]=this.SortBlocks((this.contractEvents[t]||[]).concat(c)),l.next=9,this.ContractNames([t]);case 9:case"end":return l.stop()}}),_callee2,this)})))}}),Hr()(Qr.prototype,"ClearContractEvents",[Kr],Object.getOwnPropertyDescriptor(Qr.prototype,"ClearContractEvents"),Qr.prototype),rn=Hr()(Qr.prototype,"Events",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee3(e){var t,a,r,n,o,s,i,c;return B.a.wrap((function _callee3$(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.toBlock,!((a=e.fromBlock)>t)){l.next=3;break}return l.abrupt("return");case 3:if(!(t-a>500)){l.next=6;break}return this.rootStore.notificationStore.SetErrorMessage({message:"Maximum range is 500 blocks"}),l.abrupt("return");case 6:r=t;case 7:if(!(r>a)){l.next=41;break}if(n=Math.max(a,r-50),o=[],!(this.events.length>0)){l.next=32;break}if(s=this.events.map((function(e){return e[0].blockNumber})),i=Math.min.apply(Math,V()(s)),c=Math.max.apply(Math,V()(s)),!(r<i||n>c)){l.next=20;break}return l.next=17,X.GetBlockchainEvents({toBlock:r,fromBlock:n});case 17:o=l.sent,l.next=30;break;case 20:if(!(c<t)){l.next=24;break}return l.next=23,X.GetBlockchainEvents({toBlock:r,fromBlock:c+1});case 23:o=l.sent;case 24:if(!(i-1>a)){l.next=30;break}return l.t0=o,l.next=28,X.GetBlockchainEvents({toBlock:i,fromBlock:n});case 28:l.t1=l.sent,o=l.t0.concat.call(l.t0,l.t1);case 30:l.next=35;break;case 32:return l.next=34,X.GetBlockchainEvents({toBlock:r,fromBlock:n});case 34:o=l.sent;case 35:return this.events=this.SortBlocks(o.concat(this.events)).filter((function(e){return e[0].blockNumber<=t&&e[0].blockNumber>=a})),l.next=38,this.ContractNames(this.events.map((function(e){return Object(J.d)(e[0].address)})));case 38:r-=50,l.next=7;break;case 41:case"end":return l.stop()}}),_callee3,this)})))}}),Hr()(Qr.prototype,"ClearEvents",[Zr],Object.getOwnPropertyDescriptor(Qr.prototype,"ClearEvents"),Qr.prototype),Hr()(Qr.prototype,"BlockNumber",[Yr],Object.getOwnPropertyDescriptor(Qr.prototype,"BlockNumber"),Qr.prototype),Qr),no=(a(170),nn=z.d.bound,on=z.d.bound,sn=z.d.bound,cn=z.d.bound,ln=z.d.bound,un=z.d.bound,pn=z.d.bound,dn=z.d.bound,mn=z.d.bound,bn=z.d.bound,hn=z.d.bound,fn=z.d.bound,yn=function(){function ContractStore(e){m()(this,ContractStore),Tr()(this,"contractAddress",gn,this),Tr()(this,"contracts",vn,this),Tr()(this,"contractsCount",wn,this),Tr()(this,"deployedContracts",Cn,this),Tr()(this,"deployedContractsCount",xn,this),Tr()(this,"compiledContracts",kn,this),Tr()(this,"ListContracts",jn,this),Tr()(this,"ListDeployedContracts",Sn,this),Tr()(this,"RemoveContract",In,this),Tr()(this,"RemoveDeployedContract",En,this),Tr()(this,"DeployedContractInfo",On,this),Tr()(this,"CompileContracts",An,this),Tr()(this,"SaveContract",Fn,this),Tr()(this,"WatchContract",Nn,this),Tr()(this,"DeployContract",Ln,this),Tr()(this,"SetCustomContract",_n,this),Tr()(this,"CallContractMethod",Pn,this),Tr()(this,"SendFunds",Mn,this),this.rootStore=e}return h()(ContractStore,[{key:"contractName",get:function get(){return this.rootStore.routerStore.contractName}},{key:"libraryId",get:function get(){return this.rootStore.routerStore.libraryId}},{key:"objectId",get:function get(){return this.rootStore.routerStore.objectId}},{key:"contract",get:function get(){return this.contractName?this.contracts[this.contractName]:this.contracts[this.contractAddress]||this.deployedContracts[this.contractAddress]}}]),h()(ContractStore,[{key:"GetContractBalance",value:function GetContractBalance(e){var t;return B.a.async((function GetContractBalance$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.contractAddress,a.next=3,B.a.awrap(X.GetBalance({address:t}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}}]),ContractStore}(),gn=Hr()(yn.prototype,"contractAddress",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=Hr()(yn.prototype,"contracts",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),wn=Hr()(yn.prototype,"contractsCount",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=Hr()(yn.prototype,"deployedContracts",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),xn=Hr()(yn.prototype,"deployedContractsCount",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kn=Hr()(yn.prototype,"compiledContracts",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr()(yn.prototype,"contractName",[z.e],Object.getOwnPropertyDescriptor(yn.prototype,"contractName"),yn.prototype),Hr()(yn.prototype,"libraryId",[z.e],Object.getOwnPropertyDescriptor(yn.prototype,"libraryId"),yn.prototype),Hr()(yn.prototype,"objectId",[z.e],Object.getOwnPropertyDescriptor(yn.prototype,"objectId"),yn.prototype),Hr()(yn.prototype,"contract",[z.e],Object.getOwnPropertyDescriptor(yn.prototype,"contract"),yn.prototype),jn=Hr()(yn.prototype,"ListContracts",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee2(e){var t,a,r,n;return B.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Dr(t.cancelable,(function _callee(){return B.a.async((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.Contracts({params:t}));case 1:case"end":return e.stop()}}))}));case 3:a=o.sent,r=a.contracts,n=a.count,this.contracts=r,this.contractsCount=n;case 8:case"end":return o.stop()}}),_callee2,this)})))}}),Sn=Hr()(yn.prototype,"ListDeployedContracts",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee4(e){var t,a,r,n;return B.a.wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Dr(t.cancelable,(function _callee3(){return B.a.async((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.DeployedContracts({params:t}));case 1:case"end":return e.stop()}}))}));case 3:a=o.sent,r=a.contracts,n=a.count,this.deployedContracts=r,this.deployedContractsCount=n;case 8:case"end":return o.stop()}}),_callee4,this)})))}}),In=Hr()(yn.prototype,"RemoveContract",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee5(e){var t;return B.a.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.name,a.next=3,X.RemoveContract({name:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully removed contract",redirect:!0});case 4:case"end":return a.stop()}}),_callee5,this)})))}}),En=Hr()(yn.prototype,"RemoveDeployedContract",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee6(e){var t;return B.a.wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,X.RemoveDeployedContract({address:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully removed contract",redirect:!0});case 4:case"end":return a.stop()}}),_callee6,this)})))}}),On=Hr()(yn.prototype,"DeployedContractInfo",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee7(){var e,t,a,r,n,o,s,i,c,l,u,d,m,b,h;return B.a.wrap((function _callee7$(f){for(;;)switch(f.prev=f.next){case 0:e=this.rootStore.routerStore.contractAddress,t=this.rootStore.routerStore.path,a=t.startsWith("/access-groups"),r=t.includes("custom-contract"),n=Da({libraryId:this.libraryId,objectId:this.objectId,contractAddressParam:e,isAccessGroup:a,isCustomContentObjectContract:r}),o=n.type,s=n.description,i=n.contractAddress,f.t0=o,f.next=f.t0===Ha.library?8:f.t0===Ha.customObject?16:f.t0===Ha.object?22:f.t0===Ha.contentType?22:f.t0===Ha.accessGroup?30:f.t0===Ha.unknown?38:44;break;case 8:return f.next=10,this.rootStore.libraryStore.ContentLibrary({libraryId:this.libraryId});case 10:return u=this.rootStore.libraryStore.library.name||this.libraryId,f.next=13,X.ContractAbi({id:this.libraryId});case 13:return l=f.sent,c="".concat(u," - Content Library Contract"),f.abrupt("break",44);case 16:return f.next=18,X.GetCustomContentContractAddress({libraryId:this.libraryId,objectId:this.objectId});case 18:return i=f.sent,f.next=21,X.GetContentObjectMetadata({libraryId:this.libraryId,objectId:this.objectId,metadataSubtree:p()("custom_contract","abi")});case 21:l=f.sent;case 22:return f.next=24,this.rootStore.objectStore.ContentObject({libraryId:this.libraryId,objectId:this.objectId});case 24:return d=this.rootStore.objectStore.object.meta.name||this.objectId,f.next=27,X.ContractAbi({id:this.objectId});case 27:return l=f.sent,c="".concat(d," - Content Object Contract"),f.abrupt("break",44);case 30:return f.next=32,this.rootStore.groupStore.ListAccessGroups({params:{paginate:!1}});case 32:return m=this.rootStore.groupStore.accessGroup.name||"Access Group",f.next=35,X.ContractAbi({contractAddress:this.rootStore.groupStore.accessGroup.address});case 35:return l=f.sent,c="".concat(m," - Access Group Contract"),f.abrupt("break",44);case 38:return f.next=40,this.ListDeployedContracts({params:{paginate:!1}});case 40:return l=this.deployedContracts[i].abi,this.contractAddress=i,c=this.contract.name,f.abrupt("break",44);case 44:return f.next=46,this.GetContractBalance({contractAddress:i});case 46:return b=f.sent,h={type:o,name:c,balance:b,description:s,abi:l,contractAddress:i},this.contractAddress=i,this.contracts[i]=h,f.abrupt("return",h);case 51:case"end":return f.stop()}}),_callee7,this)})))}}),An=Hr()(yn.prototype,"CompileContracts",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee8(e){var t,a,r,n,o,s,i,c=this;return B.a.wrap((function _callee8$(l){for(;;)switch(l.prev=l.next){case 0:t={},a=!0,r=!1,n=void 0,l.prev=4,o=e[Symbol.iterator]();case 6:if(a=(s=o.next()).done){l.next=14;break}return i=s.value,l.next=10,new Response(i).text();case 10:t[i.name]=l.sent;case 11:a=!0,l.next=6;break;case 14:l.next=20;break;case 16:l.prev=16,l.t0=l.catch(4),r=!0,n=l.t0;case 20:l.prev=20,l.prev=21,a||null==o.return||o.return();case 23:if(l.prev=23,!r){l.next=26;break}throw n;case 26:return l.finish(23);case 27:return l.finish(20);case 28:return l.next=30,new Promise((function(e,a){window.BrowserSolc.loadVersion("soljson-v0.4.24+commit.e67f0147.js",(function(r){var n=r.compile({sources:t},1),o=n.errors||[];if(o.some((function(e){return!e.includes("Warning:")})))a(o);else{c.rootStore.notificationStore.SetNotificationMessage({message:"Compilation successful",redirect:!0});var s={};Object.keys(n.contracts).map((function(e){var t=n.contracts[e];s[e]={bytecode:t.bytecode,interface:JSON.parse(t.interface),gasEstimates:t.gasEstimates}})),e(s)}}))}));case 30:this.compiledContracts=l.sent;case 31:case"end":return l.stop()}}),_callee8,this,[[4,16,20,28],[21,,23,27]])})))}}),Fn=Hr()(yn.prototype,"SaveContract",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee9(e){var t,a,r,n,o;return B.a.wrap((function _callee9$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.name,a=e.oldContractName,r=e.description,n=e.abi,o=e.bytecode,"string"!=typeof n){s.next=9;break}s.prev=2,n=Object(M.r)(n),s.next=9;break;case 6:throw s.prev=6,s.t0=s.catch(2),"Invalid ABI: ".concat(s.t0.message);case 9:return s.next=11,X.AddContract({name:t.trim(),description:r,abi:Object(z.q)(n),bytecode:o});case 11:if(!a||a===t){s.next=14;break}return s.next=14,X.RemoveContract({name:a});case 14:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully saved contract",redirect:!0});case 15:case"end":return s.stop()}}),_callee9,this,[[2,6]])})))}}),Nn=Hr()(yn.prototype,"WatchContract",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee10(e){var t,a,r,n,o;return B.a.wrap((function _callee10$(s){for(;;)switch(s.prev=s.next){case 0:t=e.name,a=e.address,r=e.description,n=e.abi,a=Object(J.d)(a),s.prev=2,n=Object(M.r)(n),s.next=9;break;case 6:throw s.prev=6,s.t0=s.catch(2),"Invalid ABI: ".concat(s.t0.message);case 9:return s.next=11,X.CurrentAccountAddress();case 11:return o=s.sent,s.prev=12,s.next=15,X.GetBalance({address:a});case 15:s.next=20;break;case 17:throw s.prev=17,s.t1=s.catch(12),Error("Unable to connect to contract at "+a);case 20:return s.next=22,X.AddDeployedContract({name:t,description:r,address:a,abi:n,owner:o});case 22:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully added watched contract",redirect:!0});case 23:case"end":return s.stop()}}),_callee10,this,[[2,6],[12,17]])})))}}),Ln=Hr()(yn.prototype,"DeployContract",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee11(e){var t,a,r,n,o,s,i,c,l;return B.a.wrap((function _callee11$(u){for(;;)switch(u.prev=u.next){case 0:return t=e.contractName,a=e.contractDescription,r=e.abi,n=e.bytecode,o=e.inputs,s=e.funds,u.prev=1,u.next=4,X.CurrentAccountAddress();case 4:if(i=u.sent,r=Object(z.q)(r),c=[],!(o.length>0)){u.next=11;break}return u.next=10,X.FormatContractArguments({abi:r,methodName:"constructor",args:o});case 10:c=u.sent;case 11:return u.next=13,X.DeployContract({abi:r,bytecode:n,constructorArgs:c});case 13:if(l=u.sent,!s){u.next=17;break}return u.next=17,X.SendFunds({recipient:l.contractAddress,ether:s});case 17:return u.next=19,X.AddDeployedContract({name:t,description:a,address:l.contractAddress,abi:r,bytecode:n,inputs:o,owner:i});case 19:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deployed custom contract",redirect:!0}),u.abrupt("return",Object(J.d)(l.contractAddress));case 23:u.prev=23,u.t0=u.catch(1),console.error("Failed to deploy contract"),console.error(u.t0),this.rootStore.notificationStore.SetErrorMessage({message:"Failed to deploy contract: ".concat(u.t0.message||u.t0)});case 28:case"end":return u.stop()}}),_callee11,this,[[1,23]])})))}}),_n=Hr()(yn.prototype,"SetCustomContract",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee12(e){var t,a,r,n,o,s,i,c,l,u,p,d,m,b;return B.a.wrap((function _callee12$(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.contractName,n=e.contractDescription,o=e.address,s=e.abi,i=e.factoryAbi,c=e.bytecode,l=e.inputs,u=e.funds,s=Object(z.q)(s),!(i=Object(z.q)(i))){h.next=11;break}h.prev=4,i=Object(M.r)(i),h.next=11;break;case 8:throw h.prev=8,h.t0=h.catch(4),"Invalid Factory ABI: ".concat(h.t0.message);case 11:if(p=t===X.contentSpaceLibraryId,d=[],!(l.length>0)){h.next=17;break}return h.next=16,X.FormatContractArguments({abi:s,methodName:"constructor",args:l});case 16:d=h.sent;case 17:if(o){h.next=22;break}return h.next=20,X.DeployContract({abi:s,bytecode:c,constructorArgs:d});case 20:m=h.sent,o=m.contractAddress;case 22:if(p){h.next=27;break}return h.next=25,X.SetCustomContentContract({libraryId:t,objectId:a,name:r,description:n,customContractAddress:o,abi:s,factoryAbi:i,overrides:{gasLimit:6e7,gasPrice:1e6}});case 25:h.next=34;break;case 27:return h.next=29,X.EditContentObject({libraryId:t,objectId:a});case 29:return b=h.sent,h.next=32,X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:b.write_token,metadataSubtree:"custom_contract",metadata:{name:r,description:n,address:Object(J.d)(o),abi:s,factoryAbi:i}});case 32:return h.next=34,X.FinalizeContentObject({libraryId:t,objectId:a,writeToken:b.write_token});case 34:if(!u){h.next=37;break}return h.next=37,X.SendFunds({recipient:o,ether:u});case 37:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deployed custom contract",redirect:!0}),h.abrupt("return",Object(J.d)(o));case 39:case"end":return h.stop()}}),_callee12,this,[[4,8]])})))}}),Pn=Hr()(yn.prototype,"CallContractMethod",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee13(e){var t,a,r,n,o,s,i,c,l;return B.a.wrap((function _callee13$(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.contractAddress,a=e.abi,r=e.methodName,n=e.methodArgs,o=e.value,s=void 0===o?0:o,a){u.next=5;break}return u.next=4,X.ContractAbi({contractAddress:t});case 4:a=u.sent;case 5:if(a=Object(z.q)(a),i=Object.values(a).find((function(e){return"function"===e.type&&e.name===r})),!(n.length>0)){u.next=11;break}return u.next=10,X.FormatContractArguments({abi:a,methodName:r,args:n});case 10:n=u.sent;case 11:if(!i.constant){u.next=17;break}return u.next=14,X.CallContractMethod({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:s});case 14:c=u.sent,u.next=30;break;case 17:return u.next=19,X.CallContractMethodAndWait({contractAddress:t,abi:a,methodName:r,methodArgs:n,value:s});case 19:return l=u.sent,u.next=22,X.ContractEvents({contractAddress:t,abi:a,fromBlock:l.blockNumber,toBlock:l.blockNumber});case 22:if(0!==(c=u.sent).length){u.next=27;break}return u.next=26,X.GetBlockchainEvents({fromBlock:l.blockNumber,toBlock:l.blockNumber});case 26:c=u.sent;case 27:if(0!==c.length){u.next=29;break}throw Error("Transaction failed");case 29:c=c[0];case 30:return u.abrupt("return",c);case 31:case"end":return u.stop()}}),_callee13)})))}}),Mn=Hr()(yn.prototype,"SendFunds",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee14(e){var t,a;return B.a.wrap((function _callee14$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.recipient,a=e.ether,r.next=3,X.SendFunds({recipient:t,ether:a});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully sent "+a+" to "+t,redirect:!0});case 4:case"end":return r.stop()}}),_callee14,this)})))}}),yn);function Group_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Group_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Group_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Group_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oo,so,io,co,lo,uo,po,mo,bo,ho,fo,yo,go,vo,wo=(Tn=z.d.bound,Gn=z.d.bound,Hn=z.d.bound,Dn=z.d.bound,zn=z.d.bound,Rn=z.d.bound,$n=z.d.bound,Bn=z.d.bound,Un=function(){function GroupStore(e){m()(this,GroupStore),Tr()(this,"accessGroups",Vn,this),Tr()(this,"accessGroupsCount",qn,this),Tr()(this,"ListAccessGroups",Wn,this),Tr()(this,"AccessGroup",Kn,this),Tr()(this,"SaveAccessGroup",Jn,this),Tr()(this,"RemoveAccessGroup",Zn,this),Tr()(this,"ListAccessGroupMembers",Yn,this),Tr()(this,"AddAccessGroupMember",Qn,this),Tr()(this,"RemoveAccessGroupMember",Xn,this),Tr()(this,"LeaveAccessGroup",eo,this),this.rootStore=e}return h()(GroupStore,[{key:"contractAddress",get:function get(){return this.rootStore.routerStore.contractAddress}},{key:"accessGroup",get:function get(){return this.accessGroups[this.contractAddress]}}]),GroupStore}(),Vn=Hr()(Un.prototype,"accessGroups",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),qn=Hr()(Un.prototype,"accessGroupsCount",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Hr()(Un.prototype,"contractAddress",[z.e],Object.getOwnPropertyDescriptor(Un.prototype,"contractAddress"),Un.prototype),Hr()(Un.prototype,"accessGroup",[z.e],Object.getOwnPropertyDescriptor(Un.prototype,"accessGroup"),Un.prototype),Wn=Hr()(Un.prototype,"ListAccessGroups",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee2(e){var t,a,r,n;return B.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Dr(t.cancelable,(function _callee(){return B.a.async((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(X.ListAccessGroups({params:t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}));case 3:a=o.sent,r=a.accessGroups,n=a.count,this.accessGroups=r,this.accessGroupsCount=n;case 8:case"end":return o.stop()}}),_callee2,this)})))}}),Kn=Hr()(Un.prototype,"AccessGroup",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee3(e){var t;return B.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.contractAddress,a.next=3,X.GetAccessGroup({contractAddress:t});case 3:this.accessGroups[t]=a.sent;case 4:case"end":return a.stop()}}),_callee3,this)})))}}),Jn=Hr()(Un.prototype,"SaveAccessGroup",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee4(e){var t,a,r,n,o,s,i;return B.a.wrap((function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.name,a=e.description,r=e.metadata,n=e.address,o=e.oauthIssuer,s=e.oauthClaims,r=Object(M.r)(r),!n){c.next=9;break}return i=X.utils.AddressToObjectId(n),c.next=6,X.EditAndFinalizeContentObject({libraryId:X.contentSpaceLibraryId,objectId:i,todo:function todo(e){var n;return B.a.async((function todo$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B.a.awrap(X.GetContentObjectMetadata({libraryId:X.contentSpaceLibraryId,objectId:i}));case 2:return n=c.sent,c.next=5,B.a.awrap(X.ReplaceMetadata({libraryId:X.contentSpaceLibraryId,objectId:i,writeToken:e,metadata:Group_objectSpread({},n,{},r,{name:t,description:a,public:{name:t,description:a},oauthIssuer:o,oauthClaims:s})}));case 5:case"end":return c.stop()}}))}});case 6:this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully updated",redirect:!0}),c.next=13;break;case 9:return c.next=11,X.CreateAccessGroup({name:t,description:a,metadata:Group_objectSpread({},r,{oauthIssuer:o,oauthClaims:s})});case 11:n=c.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully created",redirect:!0});case 13:return c.abrupt("return",Object(J.d)(n));case 14:case"end":return c.stop()}}),_callee4,this)})))}}),Zn=Hr()(Un.prototype,"RemoveAccessGroup",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee5(e){var t;return B.a.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.address,a.next=3,X.DeleteAccessGroup({address:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully deleted",redirect:!0});case 4:case"end":return a.stop()}}),_callee5,this)})))}}),Yn=Hr()(Un.prototype,"ListAccessGroupMembers",[zn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee6(e){var t,a,r,n,o,s,i;return B.a.wrap((function _callee6$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.contractAddress,a=e.showManagers,r=void 0!==a&&a,n=e.params,c.next=3,X.ListAccessGroupMembers({contractAddress:t,showManagers:r,params:n});case 3:o=c.sent,s=o.members,i=o.count,r?(this.accessGroups[t].managers=s,this.accessGroups[t].managersCount=i):(this.accessGroups[t].members=s,this.accessGroups[t].membersCount=i);case 7:case"end":return c.stop()}}),_callee6,this)})))}}),Qn=Hr()(Un.prototype,"AddAccessGroupMember",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee7(e){var t,a,r,n;return B.a.wrap((function _callee7$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.contractAddress,a=e.memberAddress,r=e.manager,!(n=void 0!==r&&r)){o.next=6;break}return o.next=4,X.AddAccessGroupManager({contractAddress:t,memberAddress:a});case 4:o.next=8;break;case 6:return o.next=8,X.AddAccessGroupMember({contractAddress:t,memberAddress:a});case 8:this.rootStore.notificationStore.SetNotificationMessage({message:"".concat(n?"Manager":"Member"," successfully added"),redirect:!0});case 9:case"end":return o.stop()}}),_callee7,this)})))}}),Xn=Hr()(Un.prototype,"RemoveAccessGroupMember",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee8(e){var t,a,r,n;return B.a.wrap((function _callee8$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.contractAddress,a=e.memberAddress,r=e.manager,!(n=void 0!==r&&r)){o.next=6;break}return o.next=4,X.RemoveAccessGroupManager({contractAddress:t,memberAddress:a});case 4:o.next=8;break;case 6:return o.next=8,X.RemoveAccessGroupMember({contractAddress:t,memberAddress:a});case 8:this.rootStore.notificationStore.SetNotificationMessage({message:"".concat(n?"Manager":"Member"," successfully removed"),redirect:!1});case 9:case"end":return o.stop()}}),_callee8,this)})))}}),eo=Hr()(Un.prototype,"LeaveAccessGroup",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee9(e){var t;return B.a.wrap((function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.contractAddress,a.next=3,X.LeaveAccessGroup({contractAddress:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Access group successfully left",redirect:!0});case 4:case"end":return a.stop()}}),_callee9,this)})))}}),Un);function Type_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Type_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Type_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Type_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Co,xo,ko,jo,So,Io,Eo,Oo,Ao,Fo,No,Lo,_o,Po,Mo,Go,Ho,Do,zo,Ro,$o,Bo,Uo,Vo,qo,Wo,Ko,Jo,Zo,Yo,Qo,Xo,es,ts,as,rs,ns,os,ss,is,cs,ls,us,ps,ds,ms,bs,hs,fs,ys,gs,vs=(oo=z.d.bound,so=z.d.bound,io=z.d.bound,co=z.d.bound,lo=z.d.bound,uo=function(){function TypeStore(e){m()(this,TypeStore),Tr()(this,"allTypes",po,this),Tr()(this,"types",mo,this),Tr()(this,"count",bo,this),Tr()(this,"ListContentTypes",ho,this),Tr()(this,"ContentTypes",fo,this),Tr()(this,"ContentType",yo,this),Tr()(this,"CreateContentType",go,this),Tr()(this,"UpdateContentType",vo,this),this.rootStore=e}return h()(TypeStore,[{key:"type",get:function get(){var e=this.rootStore.routerStore.objectId;return this.types[e]}},{key:"typeId",get:function get(){return this.rootStore.routerStore.objectId}}]),TypeStore}(),po=Hr()(uo.prototype,"allTypes",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),mo=Hr()(uo.prototype,"types",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),bo=Hr()(uo.prototype,"count",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 0}}),Hr()(uo.prototype,"type",[z.e],Object.getOwnPropertyDescriptor(uo.prototype,"type"),uo.prototype),Hr()(uo.prototype,"typeId",[z.e],Object.getOwnPropertyDescriptor(uo.prototype,"typeId"),uo.prototype),ho=Hr()(uo.prototype,"ListContentTypes",[oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee2(e){var t,a,r,n;return B.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.params,o.next=3,Dr(t.cancelable,(function _callee(){return B.a.async((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.ListContentTypes({params:t}));case 1:case"end":return e.stop()}}))}));case 3:a=o.sent,r=a.types,n=a.count,this.types=r,this.count=n;case 8:case"end":return o.stop()}}),_callee2,this)})))}}),fo=Hr()(uo.prototype,"ContentTypes",[so],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee3(){return B.a.wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.ListContentTypes({params:{perPage:1e3,skipOwner:!0}});case 2:this.allTypes=e.sent.types;case 3:case"end":return e.stop()}}),_callee3,this)})))}}),yo=Hr()(uo.prototype,"ContentType",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee4(e){var t;return B.a.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.typeId,a.next=3,X.GetContentObject({libraryId:X.contentSpaceLibraryId,objectId:t});case 3:this.types[t]=a.sent;case 4:case"end":return a.stop()}}),_callee4,this)})))}}),go=Hr()(uo.prototype,"CreateContentType",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee5(e){var t,a,r,n,o;return B.a.wrap((function _callee5$(s){for(;;)switch(s.prev=s.next){case 0:t=e.name,a=e.description,r=e.metadata,n=e.bitcode,s.prev=1,r=Object(M.r)(r),s.next=8;break;case 5:throw s.prev=5,s.t0=s.catch(1),"Invalid Metadata: ".concat(s.t0.message);case 8:return s.next=10,X.CreateContentType({name:t,description:a,metadata:r,bitcode:n});case 10:return o=s.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully created content type",redirect:!0}),s.abrupt("return",o);case 13:case"end":return s.stop()}}),_callee5,this,[[1,5]])})))}}),vo=Hr()(uo.prototype,"UpdateContentType",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee6(e){var t,a,r,n,o,s;return B.a.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:t=e.typeId,a=e.name,r=e.description,n=e.bitcode,o=e.metadata,i.prev=1,o=Object(M.r)(o),i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(1),"Invalid Metadata: ".concat(i.t0.message);case 8:return s=X.contentSpaceLibraryId,i.next=11,X.EditAndFinalizeContentObject({libraryId:s,objectId:t,todo:function todo(e){var i;return B.a.async((function todo$(c){for(;;)switch(c.prev=c.next){case 0:return o=Type_objectSpread({},o,{name:a,description:r,public:Type_objectSpread({},o.public||{},{name:a,description:r})}),c.next=3,B.a.awrap(X.ReplaceMetadata({libraryId:s,objectId:t,writeToken:e,metadata:o}));case 3:if(!n){c.next=9;break}return c.next=6,B.a.awrap(X.UploadPart({libraryId:s,objectId:t,writeToken:e,file:n,encrypted:!1}));case 6:return i=c.sent,c.next=9,B.a.awrap(X.ReplaceMetadata({libraryId:s,objectId:t,writeToken:e,metadataSubtree:"bitcode_part",metadata:i.part.hash}));case 9:case"end":return c.stop()}}))}});case 11:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content type",redirect:!0}),i.abrupt("return",t);case 13:case"end":return i.stop()}}),_callee6,this,[[1,5]])})))}}),uo);function Object_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Object_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Object_ownKeys(a,!0).forEach((function(t){W()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Object_ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ws,Cs,xs,ks,js,Ss,Is,Es,Os,As,Fs,Ns,Ls,_s=(Co=z.d.bound,xo=z.d.bound,ko=z.d.bound,jo=z.d.bound,So=z.d.bound,Io=z.d.bound,Eo=z.d.bound,Oo=z.d.bound,Ao=z.d.bound,Fo=z.d.bound,No=z.d.bound,Lo=z.d.bound,_o=z.d.bound,Po=z.d.bound,Mo=z.d.bound,Go=z.d.bound,Ho=z.d.bound,Do=z.d.bound,zo=z.d.bound,Ro=z.d.bound,$o=z.d.bound,Bo=z.d.bound,Uo=z.d.bound,Vo=z.d.bound,qo=function(){function ObjectStore(e){m()(this,ObjectStore),Tr()(this,"objects",Wo,this),Tr()(this,"versions",Ko,this),Tr()(this,"ContentObject",Jo,this),Tr()(this,"ContentObjectVersions",Zo,this),Tr()(this,"ContentObjectVersion",Yo,this),Tr()(this,"ContentObjectPermissions",Qo,this),Tr()(this,"ContentObjectGroupPermissions",Xo,this),Tr()(this,"UpdateFromContentTypeSchema",es,this),Tr()(this,"DeleteContentObject",ts,this),Tr()(this,"DeleteContentObjectVersion",as,this),Tr()(this,"EditContentObject",rs,this),Tr()(this,"FinalizeContentObject",ns,this),Tr()(this,"UpdateMetadata",os,this),Tr()(this,"DeleteMetadata",ss,this),Tr()(this,"UploadFiles",is,this),Tr()(this,"SetExistingObjectImage",cs,this),Tr()(this,"SetVisibility",ls,this),Tr()(this,"CreateDirectory",us,this),Tr()(this,"DeleteFiles",ps,this),Tr()(this,"UploadParts",ds,this),Tr()(this,"FinalizeABRMezzanine",ms,this),Tr()(this,"UpdateContentObjectGroupPermissions",bs,this),Tr()(this,"AddApp",hs,this),Tr()(this,"RemoveApp",fs,this),Tr()(this,"PublishContentObject",ys,this),Tr()(this,"RevewContentObject",gs,this),this.rootStore=e}return h()(ObjectStore,[{key:"libraryId",get:function get(){return this.rootStore.routerStore.libraryId}},{key:"objectId",get:function get(){return this.rootStore.routerStore.objectId}},{key:"object",get:function get(){var e=this.rootStore.routerStore.objectId;return this.objects[e]}}]),h()(ObjectStore,[{key:"DownloadUrl",value:function DownloadUrl(e){var t,a,r,n,o,s,i;return B.a.async((function DownloadUrl$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.writeToken,o=e.filePath,s=e.callback,c.next=3,B.a.awrap(X.DownloadFile({libraryId:t,objectId:a,versionHash:r,writeToken:n,filePath:o,format:"blob",callback:s}));case 3:return i=c.sent,c.abrupt("return",window.URL.createObjectURL(i));case 5:case"end":return c.stop()}}))}},{key:"DownloadFile",value:function DownloadFile(e){return B.a.async((function DownloadFile$(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=B.a,t.t1=nt,t.next=4,B.a.awrap(this.DownloadUrl(e));case 4:return t.t2=t.sent,t.t3=Fe.a.basename(e.filePath),t.t4=(0,t.t1)(t.t2,t.t3),t.next=9,t.t0.awrap.call(t.t0,t.t4);case 9:case"end":return t.stop()}}),null,this)}},{key:"FileUrl",value:function FileUrl(e){var t,a,r,n;return B.a.async((function FileUrl$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.filePath,o.next=3,B.a.awrap(X.FileUrl({libraryId:t,objectId:a,versionHash:r,filePath:n}));case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}}))}},{key:"DownloadPart",value:function DownloadPart(e){var t,a,r,n,o,s;return B.a.async((function DownloadPart$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n=e.partHash,(o=e.callback)({bytesFinished:0,bytesTotal:1}),s=[],i.next=5,B.a.awrap(X.DownloadPart({libraryId:t,objectId:a,versionHash:r,partHash:n,format:"arrayBuffer",chunked:!0,chunkSize:1e7,callback:function callback(e){var t=e.bytesFinished,a=e.bytesTotal,r=e.chunk;o({bytesFinished:t,bytesTotal:a}),s.push(r)}}));case 5:return i.abrupt("return",window.URL.createObjectURL(new Blob(s)));case 6:case"end":return i.stop()}}))}},{key:"CollectMetadata",value:function CollectMetadata(e){var t,a,r,n,o,s,i,c,l,u,p,d,m,b=this;return B.a.async((function CollectMetadata$(h){for(;;)switch(h.prev=h.next){case 0:t=e.libraryId,a=e.objectId,r=e.writeToken,n=e.schema,o=e.fields,s=e.callback,i={},c=!0,l=!1,u=void 0,h.prev=5,p=function _callee2(){var e,n,c,l,u,p;return B.a.async((function _callee2$(d){for(;;)switch(d.prev=d.next){case 0:e=m.value,d.t0=e.type,d.next="label"===d.t0?4:"attachedFile"===d.t0?4:"file"===d.t0?5:"json"===d.t0?20:"list"===d.t0?28:"object"===d.t0?30:34;break;case 4:return d.abrupt("break",35);case 5:if(!Array.isArray(o[e.key])&&"string"!=typeof o[e.key]){d.next=8;break}return i[e.key]=o[e.key],d.abrupt("break",35);case 8:n=Array.from(o[e.key]),c=[],l=function _callee(){var n,o;return B.a.async((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return n=p[u],o=void 0,s&&(o=function uploadCallback(t){var a=t.status,r=t.uploaded,o=t.total;return s({key:e.key,status:a,uploaded:r,total:o,filename:n.name})}),i.t0=c,i.next=6,B.a.awrap(X.UploadPart({libraryId:t,objectId:a,writeToken:r,file:n,chunkSize:2e6,callback:o}));case 6:i.t1=i.sent,i.t0.push.call(i.t0,i.t1);case 8:case"end":return i.stop()}}))},u=0,p=n;case 12:if(!(u<p.length)){d.next=18;break}return d.next=15,B.a.awrap(l());case 15:u++,d.next=12;break;case 18:return e.multiple?i[e.key]=c.map((function(e){return e.part.hash})):i[e.key]=c.length>0?c[0].part.hash:"",d.abrupt("break",35);case 20:d.prev=20,i[e.key]=Object(M.r)(o[e.key]),d.next=27;break;case 24:throw d.prev=24,d.t1=d.catch(20),"Invalid ".concat(e.key,": ").concat(d.t1.message);case 27:return d.abrupt("break",35);case 28:return i[e.key]=Jt(o[e.key]).filter((function(e){return e})),d.abrupt("break",35);case 30:return d.next=32,B.a.awrap(b.CollectMetadata({libraryId:t,objectId:a,writeToken:r,schema:e.fields,fields:o[e.key]}));case 32:return i[e.key]=d.sent,d.abrupt("break",35);case 34:i[e.key]=o[e.key];case 35:case"end":return d.stop()}}),null,null,[[20,24]])},d=n[Symbol.iterator]();case 8:if(c=(m=d.next()).done){h.next=14;break}return h.next=11,B.a.awrap(p());case 11:c=!0,h.next=8;break;case 14:h.next=20;break;case 16:h.prev=16,h.t0=h.catch(5),l=!0,u=h.t0;case 20:h.prev=20,h.prev=21,c||null==d.return||d.return();case 23:if(h.prev=23,!l){h.next=26;break}throw u;case 26:return h.finish(23);case 27:return h.finish(20);case 28:return h.abrupt("return",i);case 29:case"end":return h.stop()}}),null,null,[[5,16,20,28],[21,,23,27]])}}]),ObjectStore}(),Wo=Hr()(qo.prototype,"objects",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Ko=Hr()(qo.prototype,"versions",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Hr()(qo.prototype,"libraryId",[z.e],Object.getOwnPropertyDescriptor(qo.prototype,"libraryId"),qo.prototype),Hr()(qo.prototype,"objectId",[z.e],Object.getOwnPropertyDescriptor(qo.prototype,"objectId"),qo.prototype),Hr()(qo.prototype,"object",[z.e],Object.getOwnPropertyDescriptor(qo.prototype,"object"),qo.prototype),Jo=Hr()(qo.prototype,"ContentObject",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee3(e){var t,a;return B.a.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,X.GetContentObject({libraryId:t,objectId:a});case 3:this.objects[a]=r.sent;case 4:case"end":return r.stop()}}),_callee3,this)})))}}),Zo=Hr()(qo.prototype,"ContentObjectVersions",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee4(e){var t,a;return B.a.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,X.GetContentObjectVersions({libraryId:t,objectId:a});case 3:return this.objects[a].versions=r.sent,r.next=6,this.ContentObjectVersion({versionHash:this.objects[a].versions[0]});case 6:case"end":return r.stop()}}),_callee4,this)})))}}),Yo=Hr()(qo.prototype,"ContentObjectVersion",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee5(e){var t;return B.a.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.versionHash,!this.versions[t]){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,X.GetContentObjectVersion({versionHash:t});case 5:this.versions[t]=a.sent;case 6:case"end":return a.stop()}}),_callee5,this)})))}}),Qo=Hr()(qo.prototype,"ContentObjectPermissions",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee6(e){var t,a;return B.a.wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,X.GetContentObjectPermissions({libraryId:t,objectId:a});case 3:this.objects[a].permissions=r.sent;case 4:case"end":return r.stop()}}),_callee6,this)})))}}),Xo=Hr()(qo.prototype,"ContentObjectGroupPermissions",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee7(e){var t;return B.a.wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,X.GetContentObjectGroupPermissions({objectId:t});case 3:this.objects[t].groupPermissions=a.sent;case 4:case"end":return a.stop()}}),_callee7,this)})))}}),es=Hr()(qo.prototype,"UpdateFromContentTypeSchema",[Io],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee8(e){var t,a,r,n,o,s,i,c,l,u,p,d,m;return B.a.wrap((function _callee8$(b){for(;;)switch(b.prev=b.next){case 0:t=e.libraryId,a=e.objectId,r=e.type,n=e.metadata,o=e.publicMetadata,s=e.image,i=e.accessCharge,c=e.schema,l=e.fields,u=e.callback,b.prev=1,n=Object(M.r)(n),o=Object(M.r)(o),b.next=9;break;case 6:throw b.prev=6,b.t0=b.catch(1),"Invalid Metadata: ".concat(b.t0.message);case 9:if(!a){b.next=15;break}return b.next=12,X.EditContentObject({libraryId:t,objectId:a,options:{type:r}});case 12:p=b.sent,b.next=18;break;case 15:return b.next=17,X.CreateContentObject({libraryId:t,type:r});case 17:p=b.sent;case 18:return d=p.write_token,a=p.id,b.next=22,this.CollectMetadata({libraryId:t,writeToken:d,schema:c,fields:l,callback:u});case 22:return m=b.sent,n=Object_objectSpread({},n,{},m,{public:Object_objectSpread({},n.public||{},{},o,{},m.public||{})}),b.next=26,X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:d,metadata:n});case 26:return b.next=28,X.IsNormalObject({objectId:a});case 28:if(!b.sent){b.next=31;break}return b.next=31,X.SetAccessCharge({objectId:a,accessCharge:i});case 31:if(!s){b.next=43;break}return b.t1=X,b.t2=t,b.t3=a,b.t4=d,b.next=38,new Response(s).blob();case 38:return b.t5=b.sent,b.t6=s.name,b.t7={libraryId:b.t2,objectId:b.t3,writeToken:b.t4,image:b.t5,imageName:b.t6},b.next=43,b.t1.SetContentObjectImage.call(b.t1,b.t7);case 43:return b.next=45,X.FinalizeContentObject({libraryId:t,objectId:a,writeToken:d});case 45:return this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t}),b.abrupt("return",a);case 48:case"end":return b.stop()}}),_callee8,this,[[1,6]])})))}}),ts=Hr()(qo.prototype,"DeleteContentObject",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee9(e){var t,a;return B.a.wrap((function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,X.DeleteContentObject({libraryId:t,objectId:a});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deleted content object",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t});case 5:case"end":return r.stop()}}),_callee9,this)})))}}),as=Hr()(qo.prototype,"DeleteContentObjectVersion",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee10(e){var t,a,r;return B.a.wrap((function _callee10$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.versionHash,n.next=3,X.DeleteContentVersion({libraryId:t,objectId:a,versionHash:r});case 3:delete this.versions[r],this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deleted content version",redirect:!0}),this.rootStore.libraryStore.ClearLibraryCache({libraryId:t});case 6:case"end":return n.stop()}}),_callee10,this)})))}}),rs=Hr()(qo.prototype,"EditContentObject",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee11(e){var t,a,r,n,o;return B.a.wrap((function _callee11$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.libraryId,a=e.objectId,r=this.objects[a]){s.next=4;break}throw Error("Unknown Object: "+a);case 4:if(r.writeToken){s.next=14;break}return s.next=8,X.EditContentObject({libraryId:t,objectId:a});case 8:return n=s.sent,o=n.write_token,this.objects[a].writeToken=o,s.next=13,X.FileUrl({libraryId:t,objectId:a,writeToken:o,filePath:"/"});case 13:this.objects[a].baseFileUrl=s.sent;case 14:return s.abrupt("return",this.objects[a].writeToken);case 15:case"end":return s.stop()}}),_callee11,this)})))}}),ns=Hr()(qo.prototype,"FinalizeContentObject",[Fo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee12(e){var t,a,r,n,o;return B.a.wrap((function _callee12$(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.libraryId,a=e.objectId,r=this.objects[a]){s.next=4;break}throw Error("Unknown Object: "+a);case 4:if(n=r.writeToken){s.next=7;break}throw Error("No write token for "+a);case 7:return s.next=9,X.FinalizeContentObject({libraryId:t,objectId:a,writeToken:n});case 9:return o=s.sent,this.objects[a].writeToken="",s.abrupt("return",o);case 12:case"end":return s.stop()}}),_callee12,this)})))}}),os=Hr()(qo.prototype,"UpdateMetadata",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee13(e){var t,a,r,n,o,s;return B.a.wrap((function _callee13$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.libraryId,a=e.objectId,r=e.metadataSubtree,n=void 0===r?"/":r,o=e.metadata,i.next=3,this.EditContentObject({libraryId:t,objectId:a});case 3:return s=i.sent,i.next=6,X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:s,metadataSubtree:n,metadata:o});case 6:return i.next=8,X.GetContentObjectMetadata({libraryId:t,objectId:a,writeToken:s});case 8:this.objects[a].meta=i.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated metadata"});case 10:case"end":return i.stop()}}),_callee13,this)})))}}),ss=Hr()(qo.prototype,"DeleteMetadata",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee14(e){var t,a,r,n,o;return B.a.wrap((function _callee14$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.metadataSubtree,n=void 0===r?"/":r,s.next=3,this.EditContentObject({libraryId:t,objectId:a});case 3:return o=s.sent,s.next=6,X.DeleteMetadata({libraryId:t,objectId:a,writeToken:o,metadataSubtree:n});case 6:return s.next=8,X.GetContentObjectMetadata({libraryId:t,objectId:a,writeToken:o});case 8:this.objects[a].meta=s.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deleted metadata"});case 10:case"end":return s.stop()}}),_callee14,this)})))}}),is=Hr()(qo.prototype,"UploadFiles",[_o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee15(e){var t,a,r,n,o,s,i,c;return B.a.wrap((function _callee15$(l){for(;;)switch(l.prev=l.next){case 0:return t=e.libraryId,a=e.objectId,r=e.path,n=e.fileList,o=e.encrypt,s=e.callback,l.next=3,this.EditContentObject({libraryId:t,objectId:a});case 3:return i=l.sent,l.next=6,ot(r,n);case 6:return c=l.sent,l.next=9,X.UploadFiles({libraryId:t,objectId:a,writeToken:i,fileInfo:c,encrypt:o,callback:s});case 9:return l.next=11,X.GetContentObjectMetadata({libraryId:t,objectId:a,writeToken:i,metadataSubtree:"files"});case 11:this.objects[a].meta.files=l.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully uploaded files"});case 13:case"end":return l.stop()}}),_callee15,this)})))}}),cs=Hr()(qo.prototype,"SetExistingObjectImage",[Po],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee16(e){var t,a,r,n;return B.a.wrap((function _callee16$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.filePath,o.next=3,this.EditContentObject({libraryId:t,objectId:a});case 3:return n=o.sent,o.next=6,X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:n,metadataSubtree:"public/display_image",metadata:{"/":p()(".","files",r)}});case 6:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated image on object draft"});case 7:case"end":return o.stop()}}),_callee16,this)})))}}),ls=Hr()(qo.prototype,"SetVisibility",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee17(e){var t,a;return B.a.wrap((function _callee17$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.objectId,((a=e.visibility)<0||a>100)&&this.rootStore.notificationStore.SetErrorMessage({message:"Invalid visibility: ".concat(a)}),r.next=4,X.SetVisibility({id:t,visibility:a});case 4:this.objects[t]&&(this.objects[t].visibility=a),this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated visibility"});case 6:case"end":return r.stop()}}),_callee17,this)})))}}),us=Hr()(qo.prototype,"CreateDirectory",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee18(e){var t,a,r,n;return B.a.wrap((function _callee18$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.directory,o.next=3,this.EditContentObject({libraryId:t,objectId:a});case 3:return n=o.sent,o.next=6,X.CreateDirectory({libraryId:t,objectId:a,writeToken:n,directory:r});case 6:return o.next=8,X.GetContentObjectMetadata({libraryId:t,objectId:a,writeToken:n,metadataSubtree:"files"});case 8:this.objects[a].meta.files=o.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully added directory "+r});case 10:case"end":return o.stop()}}),_callee18,this)})))}}),ps=Hr()(qo.prototype,"DeleteFiles",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee19(e){var t,a,r,n;return B.a.wrap((function _callee19$(o){for(;;)switch(o.prev=o.next){case 0:return t=e.libraryId,a=e.objectId,r=e.filePaths,o.next=3,this.EditContentObject({libraryId:t,objectId:a});case 3:return n=o.sent,o.next=6,X.DeleteFiles({libraryId:t,objectId:a,writeToken:n,filePaths:r});case 6:return o.next=8,X.GetContentObjectMetadata({libraryId:t,objectId:a,writeToken:n,metadataSubtree:"files"});case 8:this.objects[a].meta.files=o.sent,this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully deleted file"+r.length>0?"s":""});case 10:case"end":return o.stop()}}),_callee19,this)})))}}),ds=Hr()(qo.prototype,"UploadParts",[Do],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee21(e){var t,a,r,n,o,s,i,c,l;return B.a.wrap((function _callee21$(u){for(;;)switch(u.prev=u.next){case 0:return t=e.libraryId,a=e.objectId,r=e.files,n=e.encrypt,o=void 0!==n&&n,s=e.callback,i={},u.next=4,X.EditContentObject({libraryId:t,objectId:a});case 4:return c=u.sent,u.next=7,Array.from(r).limitedMap(3,(function _callee20(e){var r;return B.a.async((function _callee20$(n){for(;;)switch(n.prev=n.next){case 0:return s&&(r=function partCallback(t){var a=t.uploaded,r=t.total;return s({uploaded:a,total:r,filename:e.name})}),n.next=3,B.a.awrap(X.UploadPart({libraryId:t,objectId:a,writeToken:c.write_token,file:e,encrypt:o,chunkSize:1e7,callback:r}));case 3:i[e.name]=n.sent.part.hash;case 4:case"end":return n.stop()}}))}));case 7:return u.next=9,X.MergeMetadata({libraryId:t,objectId:a,writeToken:c.write_token,metadataSubtree:"eluv-fb.parts",metadata:i});case 9:return u.next=11,X.FinalizeContentObject({libraryId:t,objectId:a,writeToken:c.write_token,awaitCommitConfirmation:!1});case 11:l=r.length>1?"parts":"part",this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully uploaded "+l,redirect:!0});case 13:case"end":return u.stop()}}),_callee21,this)})))}}),ms=Hr()(qo.prototype,"FinalizeABRMezzanine",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee22(e){var t,a;return B.a.wrap((function _callee22$(r){for(;;)switch(r.prev=r.next){case 0:return t=e.libraryId,a=e.objectId,r.next=3,X.FinalizeABRMezzanine({libraryId:t,objectId:a});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully finalized ABR Mezzanine"});case 4:case"end":return r.stop()}}),_callee22,this)})))}}),bs=Hr()(qo.prototype,"UpdateContentObjectGroupPermissions",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee23(e){var t,a,r,n,o,s,i,c,l,u;return B.a.wrap((function _callee23$(p){for(;;)switch(p.prev=p.next){case 0:t=e.objectId,a=e.groupAddress,r=e.see,n=e.access,o=e.manage,s=(this.object.groupPermissions[a]||{}).permissions||[],i=[],r&&!s.includes("see")&&i.push("see"),n&&!s.includes("access")&&i.push("access"),o&&!s.includes("manage")&&i.push("manage"),c=0;case 7:if(!(c<i.length)){p.next=13;break}return p.next=10,X.AddContentObjectGroupPermission({objectId:t,groupAddress:a,permission:i[c]});case 10:c++,p.next=7;break;case 13:l=[],!r&&s.includes("see")&&l.push("see"),!n&&s.includes("access")&&l.push("access"),!o&&s.includes("manage")&&l.push("manage"),u=0;case 18:if(!(u<l.length)){p.next=24;break}return p.next=21,X.RemoveContentObjectGroupPermission({objectId:t,groupAddress:a,permission:l[u]});case 21:u++,p.next=18;break;case 24:case"end":return p.stop()}}),_callee23,this)})))}}),hs=Hr()(qo.prototype,"AddApp",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee24(e){var t,a,r,n,o,s,i,c,l,u;return B.a.wrap((function _callee24$(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.libraryId,a=e.objectId,r=e.role,n=e.isDirectory,o=e.fileList,s=e.callback,i=e.useDefault,c=void 0!==i&&i,l="".concat(r,"App"),c){d.next=8;break}return d.next=5,ot(l,o,!1,n);case 5:if((u=d.sent).find((function(e){return e.path.endsWith("index.html")}))){d.next=8;break}throw Error("App must contain an index.html file");case 8:return d.next=10,X.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function todo(e){return B.a.async((function todo$(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=7;break}return n.next=3,B.a.awrap(X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App"),metadata:"default"}));case 3:return n.next=5,B.a.awrap(X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"public/eluv.".concat(r,"App"),metadata:"default"}));case 5:n.next=13;break;case 7:return n.next=9,B.a.awrap(X.UploadFiles({libraryId:t,objectId:a,writeToken:e,fileInfo:u,callback:s}));case 9:return n.next=11,B.a.awrap(X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App"),metadata:p()(l,"index.html")}));case 11:return n.next=13,B.a.awrap(X.ReplaceMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"public/eluv.".concat(r,"App"),metadata:p()(l,"index.html")}));case 13:case"end":return n.stop()}}))}});case 10:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully added "+r+" app",redirect:!0});case 11:case"end":return d.stop()}}),_callee24,this)})))}}),fs=Hr()(qo.prototype,"RemoveApp",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee25(e){var t,a,r;return B.a.wrap((function _callee25$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.libraryId,a=e.objectId,r=e.role,n.next=3,X.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function todo(e){return B.a.async((function todo$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B.a.awrap(X.DeleteMetadata({libraryId:t,objectId:a,writeToken:e,metadataSubtree:"eluv.".concat(r,"App")}));case 2:case"end":return n.stop()}}))}});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully removed "+r+" app",redirect:!0});case 4:case"end":return n.stop()}}),_callee25,this)})))}}),ys=Hr()(qo.prototype,"PublishContentObject",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee26(e){var t;return B.a.wrap((function _callee26$(a){for(;;)switch(a.prev=a.next){case 0:return t=e.objectId,a.next=3,X.PublishContentObject({objectId:t});case 3:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content object",redirect:!0});case 4:case"end":return a.stop()}}),_callee26,this)})))}}),gs=Hr()(qo.prototype,"RevewContentObject",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee27(e){var t,a,r,n,o;return B.a.wrap((function _callee27$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.libraryId,a=e.objectId,r=e.approve,n=e.note,s.next=3,X.ReviewContentObject({libraryId:t,objectId:a,approve:r,note:n});case 3:return s.next=5,X.CurrentAccountAddress();case 5:return o=s.sent,s.next=8,X.EditAndFinalizeContentObject({libraryId:t,objectId:a,todo:function todo(e){return B.a.async((function todo$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.awrap(X.MergeMetadata({libraryId:t,writeToken:e,metadata:{"eluv.reviewer":o,"eluv.reviewNote":n}}));case 2:case"end":return a.stop()}}))}});case 8:this.rootStore.notificationStore.SetNotificationMessage({message:"Successfully updated content object",redirect:!0});case 9:case"end":return s.stop()}}),_callee27,this)})))}}),qo),Ps=(ws=z.d.bound,Cs=z.d.bound,xs=z.d.bound,ks=z.d.bound,js=function(){function NotificationStore(e){m()(this,NotificationStore),Tr()(this,"notification",Ss,this),Tr()(this,"error",Is,this),Tr()(this,"redirect",Es,this),this.rootStore=e}return h()(NotificationStore,[{key:"SetNotificationMessage",value:function SetNotificationMessage(e){var t=e.message,a=e.redirect,r=void 0!==a&&a;this.notification=t,this.error="",this.redirect=r}},{key:"SetErrorMessage",value:function SetErrorMessage(e){var t=e.message,a=e.redirect,r=void 0!==a&&a;this.notification="",this.error=t,this.redirect=r}},{key:"ClearMessage",value:function ClearMessage(){this.notification="",this.error="",this.redirect=!1}},{key:"ChangeRoute",value:function ChangeRoute(){this.redirect?this.redirect=!1:this.ClearMessage()}}]),NotificationStore}(),Ss=Hr()(js.prototype,"notification",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=Hr()(js.prototype,"error",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Es=Hr()(js.prototype,"redirect",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Hr()(js.prototype,"SetNotificationMessage",[ws],Object.getOwnPropertyDescriptor(js.prototype,"SetNotificationMessage"),js.prototype),Hr()(js.prototype,"SetErrorMessage",[Cs],Object.getOwnPropertyDescriptor(js.prototype,"SetErrorMessage"),js.prototype),Hr()(js.prototype,"ClearMessage",[xs],Object.getOwnPropertyDescriptor(js.prototype,"ClearMessage"),js.prototype),Hr()(js.prototype,"ChangeRoute",[ks],Object.getOwnPropertyDescriptor(js.prototype,"ChangeRoute"),js.prototype),js);Object(z.f)({enforceActions:"always"});var Ms=new(Os=z.d.bound,As=function RootStore(){m()(this,RootStore),Tr()(this,"client",Fs,this),Tr()(this,"currentAccountAddress",Ns,this),Tr()(this,"InitializeClient",Ls,this),this.InitializeClient(),this.contractStore=new no(this),this.eventsStore=new ro(this),this.groupStore=new wo(this),this.libraryStore=new to(this),this.notificationStore=new Ps(this),this.objectStore=new _s(this),this.routerStore=new ao(this),this.typeStore=new vs(this)},Fs=Hr()(As.prototype,"client",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=Hr()(As.prototype,"currentAccountAddress",[z.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ls=Hr()(As.prototype,"InitializeClient",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return Object(z.h)(B.a.mark((function _callee(){return B.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.client=new K.FrameClient({target:window.parent,timeout:30}),e.next=3,this.client.CurrentAccountAddress();case 3:this.currentAccountAddress=e.sent;case 4:case"end":return e.stop()}}),_callee,this)})))}}),As),Ts=Ms,Gs=Ms.contractStore,Hs=Ms.eventsStore,Ds=Ms.groupStore,zs=Ms.libraryStore,Rs=Ms.notificationStore,$s=Ms.objectStore,Bs=Ms.routerStore,Us=Ms.typeStore;Object(c.render)(i.a.createElement((function App(){if(window.self!==window.top)return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,r,i.a.createElement("div",{className:"app-container"},i.a.createElement(l.a,null,i.a.createElement(j,null,i.a.createElement("div",{className:"view-container"},i.a.createElement(G,null),i.a.createElement(R,null),i.a.createElement(Pr,null)))))),i.a.createElement("div",{className:"app-version"},EluvioConfiguration.version));window.location=p()(EluvioConfiguration.coreUrl,"/",window.location.hash)}),null),document.getElementById("app"))},34:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-package"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line><line x1="7" y1="3.5" x2="17" y2="8.5"></line></svg>'},37:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>'},40:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},44:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>'},49:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>'},55:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><g fill="none" stroke="#626262" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 2v4h8V2h-8zm-1 2H6v26h20V4h-5"></path></g></svg>'},74:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M12.89 1.45l8 4A2 2 0 0 1 22 7.24v9.53a2 2 0 0 1-1.11 1.79l-8 4a2 2 0 0 1-1.79 0l-8-4a2 2 0 0 1-1.1-1.8V7.24a2 2 0 0 1 1.11-1.79l8-4a2 2 0 0 1 1.78 0z"></path><polyline points="2.32 6.16 12 11 21.68 6.16"></polyline><line x1="12" y1="22.76" x2="12" y2="11"></line></svg>'},75:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'},76:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>'},83:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>'},84:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg>'},85:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>'},86:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'},87:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>'},88:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 24 25" enable-background="new 0 0 24 24" xml:space="preserve"><g><path d="M4,2h6v4c0,1.104,0.896,2,2,2h4v2h2V6c0-0.529-0.211-1.039-0.586-1.414l-4-4C13.039,0.211,12.529,0,12,0H4 C2.896,0,2,0.896,2,2v16c0,1.104,0.896,2,2,2h7v-2H4V2z M12,2l4,4h-4V2z"></path><path d="M21,17v-2c0-2.209-1.791-4-4-4s-4,1.791-4,4v2c-0.553,0-1,0.447-1,1v5c0,0.553,0.447,1,1,1h8c0.553,0,1-0.447,1-1v-5 C22,17.447,21.553,17,21,17z M19,17h-4v-2c0-1.104,0.897-2,2-2s2,0.896,2,2V17z"></path></g></svg>'},89:function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><defs><path d="M16.33 3C17.44 3 18 3.56 18 4.67C18 11.67 18 15.56 18 16.33C18 17.44 17.44 18 16.33 18C9.33 18 5.44 18 4.67 18C3.56 18 3 17.44 3 16.33C3 9.33 3 5.44 3 4.67C3 3.56 3.56 3 4.67 3C11.67 3 15.56 3 16.33 3Z" id="c9ZyiDOAj"></path><path d="M18 13L13.83 8.83L4.67 18" id="apUyeEXY4"></path><path d="M7.58 6.33C6.89 6.33 6.33 6.89 6.33 7.58C6.33 8.27 6.89 8.83 7.58 8.83C8.27 8.83 8.83 8.27 8.83 7.58C8.83 6.89 8.27 6.33 7.58 6.33Z" id="aE25v7tv"></path><path d="M16.56 10.81L17.24 11.18L17.83 11.67L18.32 12.26L18.69 12.94L18.92 13.69L19.01 14.5L19.01 16.5L19.21 16.52L19.4 16.58L19.57 16.67L19.71 16.79L19.84 16.94L19.93 17.11L19.99 17.3L20.01 17.5L20.01 22.5L19.99 22.7L19.93 22.89L19.84 23.06L19.71 23.21L19.57 23.33L19.4 23.42L19.21 23.48L19.01 23.5L11.01 23.5L10.8 23.48L10.62 23.42L10.45 23.33L10.3 23.21L10.18 23.06L10.08 22.89L10.03 22.7L10.01 22.5L10.01 17.5L10.03 17.3L10.08 17.11L10.18 16.94L10.3 16.79L10.45 16.67L10.62 16.58L10.8 16.52L11.01 16.5L11.01 14.5L11.09 13.69L11.32 12.94L11.69 12.26L12.18 11.67L12.77 11.18L13.45 10.81L14.2 10.58L15.01 10.5L15.81 10.58L16.56 10.81ZM13.59 13.09L13.16 13.72L13.01 14.5L13.01 16.5L17.01 16.5L17.01 14.5L16.85 13.72L16.42 13.09L15.78 12.66L15.01 12.5L14.23 12.66L13.59 13.09Z" id="e2MYnkKIa4"></path></defs><g><g><g><use xlink:href="#c9ZyiDOAj" opacity="1" fill="currentColor" fill-opacity="0"></use><g><use xlink:href="#c9ZyiDOAj" opacity="1" fill-opacity="0" stroke="currentColor" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#apUyeEXY4" opacity="1" fill="currentColor" fill-opacity="0"></use><g><use xlink:href="#apUyeEXY4" opacity="1" fill-opacity="0" stroke="currentColor" stroke-width="1" stroke-opacity="1"></use></g></g><g><use xlink:href="#aE25v7tv" opacity="1" fill="currentColor" fill-opacity="0"></use><g><use xlink:href="#aE25v7tv" opacity="1" fill-opacity="0" stroke="currentColor" stroke-width="1" stroke-opacity="1"></use></g></g><g><use xlink:href="#e2MYnkKIa4" opacity="1" stroke="#00000000" stroke-opacity="1" fill="currentColor" fill-opacity="1"></use></g></g></g></svg>'},90:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'},91:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-corner-up-left"><polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path></svg>'},92:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>'},93:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-help-circle"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>'},94:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-maximize"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>'},95:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minimize"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>'},96:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'},97:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye-off"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'},98:function(e,t,a){var r=a(99);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(24)(r,n);r.locals&&(e.exports=r.locals)},99:function(e,t,a){(e.exports=a(23)(!1)).push([e.i,'*{-webkit-box-sizing:border-box;box-sizing:border-box}html,body{background-color:#fff;color:#222;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;height:100%;margin:0;padding:0}h1{font-size:28px;font-weight:bold;margin:0}h2{font-size:24px;font-weight:bold;margin:0}h3{font-size:20px;font-weight:normal;margin:0}h3.header-with-loader{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}h4{color:#222;font-size:16px;font-weight:normal;margin:.5rem 0 .25rem}a{text-decoration:none}a,a:visited{color:#555}a.link{display:block}a.image-link{display:-webkit-box;display:-ms-flexbox;display:flex}ul{display:-webkit-box;display:-ms-flexbox;display:flex;list-style-type:none;margin:0;padding:0}ul li{display:inline}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:url("data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+") no-repeat 98% 50%;border:1px solid #ccc;border-radius:0;cursor:pointer;font-size:16px;height:32px;padding:0 0 0 .25rem;width:250px}input{height:32px}input,textarea,pre{border:1px solid #ddd;padding:0 .25rem}pre{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;margin:0;overflow:auto;padding:.75rem .5rem;white-space:pre-wrap;word-wrap:break-word}.-elv-copyable{cursor:pointer}.app-version{display:none}.hidden{display:none !important}.bold{font-weight:bold}.full-width{width:100%}.clickable{cursor:pointer}.actions-container.manage-actions{margin-bottom:1.5rem}.actions-container .-elv-button{margin-right:.5rem}.actions-container .-elv-button.important{background-color:#393;border:1px solid #393}.actions-container .-elv-button.important:not(:active):hover{background-color:#fff;border:1px solid #393;color:#393}.actions-container .refresh-button{position:absolute;right:0}.actions-container .refresh-button svg{stroke:#aaa}.actions-container .refresh-button svg:hover{stroke:#555}.help-text{color:#8c8c8c;font-size:12px;margin-left:.25rem}.clipped-text{cursor:pointer;position:relative;width:100%}.clipped-text.hide{overflow:hidden}.clipped-text.show{max-height:100% !important}.clipped-text .text{background-color:transparent;border:0;font-family:inherit;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.clipped-text .cover.show-more,.clipped-text .cover.show-less{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;width:100%}.clipped-text .cover.show-more{background-image:-webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(transparent), color-stop(transparent), to(#fff));background-image:linear-gradient(to bottom, transparent, transparent, transparent, #fff)}.copyable .copy-icon{height:1.2em;margin-left:.5rem;width:1.2em}html,body,.app,.app-container,.view-container,.main-content-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:100%}.app{max-width:100vw;width:100%}.app-container{height:100%}.header-container{grid-area:header}.navbar-container{grid-area:navbar}.notification-container{grid-area:notifications}.main-content-container{grid-area:main-content;overflow-y:auto;padding:1rem 2.5rem 8rem}.page-container{height:100%;position:relative;width:100%}.page-container .page-header-container{margin:1.5rem 0}.page-container .page-header-container .page-subheader{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#6c6c6c;font-size:14px;margin-top:.25rem;width:70vw}.page-container .page-content{padding-bottom:.5rem;width:100%}.view-container{display:grid;grid-template:"navbar notifications" 35px "navbar main-content" 1fr / 200px;min-height:100%}.error-page{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.error-page .error-message{color:#a33;margin:1.5rem 0}.error-page .actions-container{height:35px}.modal{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;background:rgba(0,0,0,0.3);color:#222;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.modal .modal-content{background:#fff;border:1px solid #444;border-radius:2px;margin-top:8rem;max-height:75%;overflow-y:auto;padding:15px 20px 20px;z-index:1001}.modal .modal-error{-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#a33;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;padding:10px}.modal .modal-error:empty{display:none}.navbar-container{background:#f5f5f5;z-index:99}.navbar-links-container{margin-top:1rem}.navbar-links-container .navbar-link-container{display:block;height:50px;text-align:center;width:100%}.navbar-links-container .navbar-link{color:#555;font-size:16px;padding:0 1rem}.navbar-links-container .navbar-link:hover{background:#eee}.navbar-links-container .navbar-link.active,.navbar-links-container .navbar-link:hover{font-weight:bold}.navbar-links-container .navbar-link.active{color:#222}.navbar-links-container .navbar-link.active i{color:#1b73e8}.navbar-links-container .navbar-link,.navbar-links-container .navbar-link-span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:100%}.navbar-links-container .navbar-link-icon{color:#444;display:inline-block;height:25px;margin-right:.75rem;width:25px}.navbar-links-container .navbar-link-text{justify-self:center;text-align:left;width:auto}.navbar-account-container{width:100px}.notification-container{font-size:14px;position:relative}.notification-container .notification-message-container{-webkit-animation:FadeInOut 5s linear;animation:FadeInOut 5s linear;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;background:#1b73e8;color:#fff;opacity:0}.notification-container .error-message-container{background:#a33;color:#fff}.notification-container .notification-message-container,.notification-container .error-message-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.notification-container .notification-message-container span,.notification-container .error-message-container span{text-align:center;width:100%}.notification-container svg{stroke:#fff}.notification-container .clear-notification{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:auto;margin-right:.75rem;width:20px}@-webkit-keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:0}}@keyframes FadeInOut{0%{opacity:1}5%,95%{opacity:1}100%{opacity:0}}.content-page-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}.content-page-container .-elv-tab-container{margin:1rem 0}.content-page-container .page-header-container{margin:1rem 0 0;padding:0}.content-page-container .page-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.content-page-container .page-content,.content-page-container .display-frame{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.object-info{max-width:100%}.object-image{position:absolute;right:1rem}.object-image img{max-height:20vw;max-width:20vw}.video-player{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.video-player video{cursor:pointer;max-height:60vh;max-width:85%}.content-object-data{margin:20px 0}.app-frame{border:1px solid #eee;display:block;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:100%}.app-frame.display-frame{margin-bottom:1.5rem}.account-image{max-height:100px;max-width:100px}.version-info{margin-bottom:10px}.version-info.version-visible{margin-bottom:30px}.object-description{height:100%;margin-bottom:5px}.object-description.show{max-height:100%}.object-description.hide{max-height:3.5em}.part-info{margin-bottom:1rem}.download-progress{color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.download-progress progress{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:.5rem}.-elv-traversable-json{background-color:#f5f5f5;border:1px solid #ddd;margin:1rem 0;padding:.5rem 1rem;word-break:break-all}.app-selection{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:1rem}.app-selection button{margin-right:.5rem}.-elv-browse-widget .-elv-image-preview.-elv-image-preview{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.-elv-browse-widget .-elv-image-preview img{max-height:10rem;-o-object-fit:contain;object-fit:contain}.visibility-info{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.visibility-info .visibility-info-icon{cursor:pointer;margin-left:.5rem;padding:.25rem}.visibility-tooltip.-elv-tooltip{background-color:#fff;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-size:1rem;max-width:35rem;padding:.5rem 1rem;text-align:left;width:auto}.visibility-tooltip .label-box label{font-weight:500}.visibility-tooltip .label-box .labelled-field>div{overflow:visible;text-overflow:unset;white-space:normal}.label-box{width:100%}.label-box h2{font-size:20px;font-weight:400;margin:1.5rem 0 1rem}.label-box h3{font-size:18px;margin:1.5rem 0 1rem}.label-box .labelled-field{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100%;min-height:1.8em;padding:.25rem 1rem .25rem 0}.label-box .labelled-field.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.label-box .labelled-field label{color:#6c6c6c;display:-webkit-box;display:-ms-flexbox;display:flex;min-width:150px}.label-box .labelled-field label.wide{min-width:250px}.label-box .labelled-field label.bold{font-weight:bold}.label-box .labelled-field .editable-field{overflow:visible;word-wrap:break-word}.label-box .labelled-field .editing-field{max-width:100%}.label-box .labelled-field .editing-field input,.label-box .labelled-field .editing-field textarea{font-size:1rem;min-width:250px}.label-box .labelled-field .editing-field input{height:2rem}.label-box .labelled-field .editing-field textarea{height:20rem;padding:.25rem;width:100%}.label-box .labelled-field .-elv-truncated-field{cursor:pointer;max-width:100%}.label-box .labelled-field .-elv-truncated-field:not(.truncated) span{max-width:100%;white-space:break-spaces;word-break:break-word}.label-box .labelled-field .inline-link{color:#1b73e8}.label-box .labelled-field .comma-separated-list{white-space:normal}.label-box .labelled-field .comma-separated-list *::after{color:#222;content:",";margin-right:.5rem}.label-box .labelled-field .comma-separated-list *:last-child::after{content:""}.label-box .labelled-field>div,.label-box .labelled-field>.copyable>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:525px}.label-box .labelled-field>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.label-box .labelled-field.labelled-field button{font-size:12px;width:200px}.label-box .indented{padding-left:1.5rem}.label-box pre{margin-top:1rem;max-width:75vw;white-space:pre-wrap}.label-box pre.event-log{max-height:500px}.events{max-width:1200px}.events h4{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:18px;font-weight:400;height:50vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.events .event-controls{display:-webkit-box;display:-ms-flexbox;display:flex;height:32px;margin-bottom:1rem;width:100%}.events .event-controls .control-group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:100%}.events .event-controls .control-group.action-group{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}.events .event-controls .control-group.filter-group{-webkit-box-flex:15;-ms-flex-positive:15;flex-grow:15}.events .event-controls .control-group label{margin-right:.5rem}.events .event-controls .control-group input,.events .event-controls .control-group button{font-size:.8rem;height:100%}.events .event-controls .control-group input:not(:last-child),.events .event-controls .control-group button:not(:last-child){margin-right:.5rem}.events .event-controls .control-group input:not(.watch-icon),.events .event-controls .control-group button:not(.watch-icon){min-width:auto;width:100px}.events .event-controls .control-group input.event-filter,.events .event-controls .control-group button.event-filter{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:1rem;margin-right:1rem}.events .event-controls .watch-icon{width:35px}.events .event-controls .watch-icon.watching svg{-webkit-animation:watch-pulse 3s infinite normal;animation:watch-pulse 3s infinite normal}.events .event-controls .watch-icon:hover svg{color:#aaa}.events .events-container{height:70vh;max-height:75vh;overflow-y:auto;padding:1rem .5rem 1rem 0}.events .filter-loading{width:208px}.events .load-more{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:1rem;width:100%}.event .header,.log .header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:.5rem}.event .header .info,.log .header .info{color:#6c6c6c;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:.7rem}.events-raw{position:relative}.events-copy-button{position:absolute;right:1rem;top:1rem}.events-raw-text{font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:.7rem}.event{border:1px solid #555;font-size:.8rem;margin-bottom:1.5rem;padding:1rem}.log{border:1px solid #ccc;margin-bottom:.5rem;padding:1rem}.log .labelled-field{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1.6}.log .labelled-field label{min-width:175px;width:175px}.log .labelled-field .value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:.7rem;max-width:50vw}.log .section-label{font-size:.8rem;font-weight:600;margin:1rem 0 .25rem}@-webkit-keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}@keyframes watch-pulse{from{color:#0fafff}to{color:#003c7e}}.upload-widget{padding:1rem}.file-browser-table .file-browser-row{border:1px solid #ccc;display:grid;grid-template-columns:3rem minmax(5rem, 4fr) minmax(6rem, 1fr) 8rem;height:2.5rem}.file-browser-table .file-browser-row:not(:last-child){border-bottom:0}.file-browser-table .file-browser-row svg{height:1.4rem;width:1.4rem}.file-browser-table .file-browser-row>div{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.file-browser-table .file-browser-row>div>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-browser-table .file-browser-row button>svg:hover{background-color:#ccc;border-radius:5px}.file-browser-table .file-browser-row .encrypted-file-icon{fill:#555;stroke:transparent}.file-browser-table .file-browser-row .directory-header,.file-browser-table .file-browser-row .directory-cell,.file-browser-table .file-browser-row .item-name-cell{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding-left:.5rem}.file-browser-table .file-browser-row .directory-cell{cursor:pointer}.file-browser-table .file-browser-row .create-directory-icon{justify-self:flex-end}.file-browser-table .file-browser-row .actions-cell{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.file-browser-table .file-browser-row .actions-cell>*{padding-right:.5rem}.file-browser-table .file-browser-row .download-indicator .animated-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0}.file-browser-table .file-browser-row .download-indicator .animated-icon>div{height:1.4rem;width:1.4rem}.file-browser-table .file-browser-row .download-progress{width:3rem}.file-browser-table .file-browser-header{grid-template-columns:3rem minmax(5rem, 3fr) 2fr;height:3rem}.file-browser-table .file-browser-header .size-header{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.file-browser-table .file-browser-header .actions-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.file-browser-table .file-browser-header .actions-header button{font-size:.7rem;margin-right:1rem;min-width:8rem}.file-browser-table .file-browser-row-empty{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:4rem;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.listing .loading{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:100px;width:100%}.listing .listing-actions{display:-webkit-box;display:-ms-flexbox;display:flex;height:50px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.listing .listing-actions .controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:35px;margin-right:.5rem}.listing .listing-actions .controls.right-controls{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.listing .listing-actions .controls input{max-width:250px}.listing .listing-actions .controls select{max-width:200px}.listing .listing-actions .controls input,.listing .listing-actions .controls select{border:1px solid #ddd;-ms-flex-preferred-size:100px;flex-basis:100px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;height:100%;width:auto}.listing .listing-actions .controls input.per-page-controls,.listing .listing-actions .controls select.per-page-controls{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0}.listing .listing-actions .page-controls{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%}.listing .listing-actions .page-controls li{border:1px solid #ddd;border-right:0;height:100%}.listing .listing-actions .page-controls li .page-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:transparent;border:0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0;min-width:2.5em}.listing .listing-actions .page-controls li .page-button:hover{background:#ddd}.listing .listing-actions .page-controls li .page-button:active{background:#eee}.listing .listing-actions .page-controls li .page-button:disabled{color:#222;font-weight:bold}.listing .listing-actions .page-controls li .page-button:disabled:hover,.listing .listing-actions .page-controls li .page-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li .page-button:disabled.selected{background:#f5f5f5}.listing .listing-actions .page-controls li .text-button:disabled{color:#aaa;font-weight:normal}.listing .listing-actions .page-controls li .text-button:disabled:hover,.listing .listing-actions .page-controls li .text-button:disabled:active{background:transparent;cursor:auto}.listing .listing-actions .page-controls li:last-child{border-right:1px solid #ddd}.listing .listing-actions .per-page-controls{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;margin-left:.5rem;min-width:4em}.listing .listing-actions .listing-action{margin:0 .25rem;padding:.25rem}.listing .listing-actions .listing-action i{height:25px;width:25px}.listing .listing-actions .loading-action{width:41px}.listing .listing-actions .filter{font-size:16px;height:30px;margin-right:.5rem;padding:0 .5rem}.listing .listing-count{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#8c8c8c;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:.5rem 0 1rem}.listing .listing-empty{margin-top:4rem}.listing .icon-container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.listing .icon-container:not(.svg-icon-container){background-color:#000}.listing .icon-container img,.listing .icon-container svg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain;width:100%}.listing .icon-container svg{background-color:transparent}.listing .table-listing{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;width:100%}.listing .table-listing .listing-row{display:grid;grid-template-columns:calc(4.5rem * 16 / 9) 3fr 3fr 1fr;margin-bottom:3px;max-height:4.5rem;min-height:4.5rem;width:100%}.listing .table-listing .listing-row.listing-row-no-icon{grid-template-columns:3fr 3fr 1fr}.listing .table-listing .listing-row.listing-row-no-status{grid-template-columns:calc(4.5rem * 16 / 9) 1fr 1fr}.listing .table-listing .listing-row.listing-row-no-status.listing-row-no-icon{grid-template-columns:1fr 1fr}.listing .table-listing .listing-row:hover{background-color:#f5f5f5}.listing .table-listing .listing-row div{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:4.5rem;max-height:4.5rem}.listing .table-listing .listing-row div:not(.icon-container){padding-left:.5rem}.listing .table-listing .listing-row .description{overflow-y:hidden;padding:.5rem}.listing .table-listing .listing-row .description,.listing .table-listing .listing-row .status{color:#8c8c8c;font-size:.8rem}.listing .table-listing .listing-row .status{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.listing .grid-listing{display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill, calc(9rem * 16 / 9))}.listing .grid-listing-element{display:block;max-height:9rem;max-width:calc(9rem * 16 / 9);min-height:9rem;min-width:calc(9rem * 16 / 9);outline:1px solid #ddd;position:relative}.listing .grid-listing-element .listing-info{background-color:#000;bottom:0;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:auto;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;left:0;max-width:calc(9rem * 16 / 9);min-width:calc(9rem * 16 / 9);opacity:0.7;padding:.5rem;position:absolute;text-align:center;word-break:break-all;z-index:10}.listing .grid-listing-element:hover .listing-info{opacity:0.9}.listing .grid-listing-element .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.listing .grid-listing-element .status,.listing .grid-listing-element .description{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.7rem}.listing .listing-link{cursor:pointer}.listing .listing-action-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-right:1rem}.listing .listing-action-icon button{height:25px;width:25px}.-elv-form{display:block;max-width:100%;width:60rem}.-elv-form fieldset{border:1px solid #ccc;padding:0 2rem}.-elv-form .form-content{display:grid;grid-gap:1rem;grid-template-columns:minmax(7rem, 1fr) 5fr;margin:1.5rem 0 2rem}.-elv-form .form-content.no-margins{margin:0}.-elv-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.-elv-form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:.33rem}.-elv-form input,.-elv-form textarea{border:1px solid #ccc;font-size:16px}.-elv-form input{width:auto}.-elv-form input[type="checkbox"]{cursor:pointer;margin:0;width:1rem}.-elv-form textarea{font-family:inherit;height:15rem;padding:.25rem}.-elv-form select{width:100%}.-elv-form .image-preview{margin-top:1rem;width:100%}.-elv-form .image-preview img{width:100%}.-elv-form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.-elv-form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:.25rem}.-elv-form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:1.5rem 0;width:100%}.-elv-form .form-actions *:not(:last-child){margin-right:.5rem}.-elv-form .form-error{background:#a33;color:#fff;margin-top:1rem;padding:.5rem}@media only screen and (max-width: 1000px){.-elv-form form{width:100%}.-elv-form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.-elv-form form .form-content label{margin-bottom:.25rem}.-elv-form form .form-content *{margin-bottom:1rem}}form{display:block;max-width:100%;width:60rem}form fieldset{border:1px solid #ccc;padding:0 2rem}form .form-content{display:grid;grid-gap:1rem;grid-template-columns:minmax(7rem, 1fr) 5fr;margin:1.5rem 0 2rem}form .form-content.no-margins{margin:0}form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}form label.align-top{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-top:.33rem}form input,form textarea{border:1px solid #ccc;font-size:16px}form input{width:auto}form input[type="checkbox"]{cursor:pointer;margin:0;width:1rem}form textarea{font-family:inherit;height:15rem;padding:.25rem}form select{width:100%}form .image-preview{margin-top:1rem;width:100%}form .image-preview img{width:100%}form .inline-inputs{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}form .inline-inputs *{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-right:.25rem}form .form-actions{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:1.5rem 0;width:100%}form .form-actions *:not(:last-child){margin-right:.5rem}form .form-error{background:#a33;color:#fff;margin-top:1rem;padding:.5rem}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:.25rem}form form .form-content *{margin-bottom:1rem}}form.app-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:90vh;padding-bottom:1.5rem;width:80rem}form.app-form.app-form-fullscreen .app-form-fieldset{border:0}form .app-form-fieldset{border:1px solid #ccc;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 2rem 2rem}form .fullscreen-button{position:absolute;right:.5rem;top:.5rem}form .fullscreen-button svg{stroke:#aaa}form .fullscreen-button:hover svg{stroke:#444}form.small-form{width:40rem}form input{height:2em}form .list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-top:.5rem;width:100%}form .list .list-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:.5rem;position:relative}form .list .list-item input{width:100%}form .list .list-item .-elv-icon-button{height:20px;margin:0;padding:0;position:absolute;right:5px;width:20px}form h4{font-size:16px;font-weight:500;margin:1rem 0;text-align:center}form .section-separator{border-bottom:1px solid #ddd;margin-bottom:2rem;padding-top:.5rem}@media only screen and (max-width: 1000px){form form{width:100%}form form .form-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}form form .form-content label{margin-bottom:.25rem}form form .form-content *{margin-bottom:1rem}}fieldset{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}fieldset.app-form{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:100%}\n',""])}});